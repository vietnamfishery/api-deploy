(function(e){var t={};function r(n){if(t[n]){return t[n].exports}var s=t[n]={i:n,l:false,exports:{}};e[n].call(s.exports,s,s.exports,r);s.l=true;return s.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=30)})([function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(23));n(r(6));n(r(129));n(r(24));n(r(194));n(r(195));n(r(196));n(r(197));n(r(198));n(r(199));n(r(200));n(r(201));n(r(202));n(r(203));n(r(204));n(r(205));n(r(206));n(r(207));n(r(208));n(r(209));n(r(210));n(r(211));n(r(212));n(r(213));n(r(214));n(r(215));n(r(216));n(r(217));n(r(218));n(r(219));n(r(24));n(r(220));n(r(221));n(r(222));n(r(223));n(r(224));n(r(225))},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(49))},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(50));n(r(51));n(r(20));n(r(53))},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("sequelize")},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(90));n(r(91));n(r(92));n(r(93));n(r(94));n(r(95));n(r(96));n(r(97));n(r(98));n(r(99));n(r(100));n(r(101));n(r(102));n(r(103));n(r(104));n(r(105));n(r(106));n(r(107));n(r(108));n(r(109));n(r(110));n(r(111));n(r(112));n(r(113));n(r(114));n(r(115));n(r(116));n(r(117));n(r(118));n(r(119));n(r(120));n(r(121));n(r(122))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(15);var o=r(2);var i=function(){function e(e){if(e===void 0){e={tableName:"",attributes:{},options:{}}}this.optionsModel=e;this.Op=n.Op;this.conn=new s.default(this.optionsModel)}e.prototype.getById=function(e,t){var r=this;return new o.Promise(function(t,n){r.models.findById(e).then(function(e){if(e){t(e.dataValues)}else{t(e)}})})};e.prototype.getAll=function(e){var t=this;if(e){return new o.Promise(function(r,n){t.models.findAll(t.getQuery(e)).then(function(e){r(e)}).catch(function(e){n(e)})})}else{return new o.Promise(function(e,r){t.models.findAll().then(function(t){e(t)}).catch(function(e){r(e)})})}};e.prototype.get=function(e){return this.models.findAll(e)};e.prototype.insert=function(e){var t=this;return new o.Promise(function(r,n){t.models.create(e).then(function(e){r(e)})})};e.prototype.update=function(e){var t=this;var r=this.models;var n={};return new o.Promise(function(s,o){var i=r.primaryKeyField;n[i]=e[i];t.models.update(e,{where:n}).then(function(e){s(e)})})};e.prototype.findAndCountAll=function(e){var t=this;return new o.Promise(function(r,n){if(e){t.models.findAndCountAll(e).then(function(e){r(e)})}else{t.models.findAndCountAll().then(function(e){r(e)})}})};e.prototype.getQuery=function(e){return{where:e}};return e}();t.BaseServices=i},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};Object.defineProperty(t,"__esModule",{value:true});var s=r(2);var o=function(){function e(){}e.prototype.criteriaQuery=function(e){var t=e.pageIndex?Number(e.pageIndex)-1:null;var r=e.pageSizes?Number(e.pageSizes):null;return n({},t,r)};e.prototype.getFields=function(e){var t=this;var r={};for(var n in t){if(t[n]!==null&&t[n]!==undefined&&typeof t[n]!=="object"&&typeof t[n]!=="function"&&!n.match(/^ge[t].+$/)||t[n]===0){if(t[n]||t[n]===0){r[n]=t[n]}}}return r};e.prototype.insert=function(){var e=this;return new s.Promise(function(t,r){e.services.insert(e).then(function(e){t(e)})})};e.prototype.update=function(){var e=this;return new s.Promise(function(t,r){e.services.update(e.getFields(e)).then(function(e){t(e)})})};e.prototype.gets=function(e,t){var r=this;var o=this.criteriaQuery(t);return new s.Promise(function(t,s){r.services.getAll(n({},e,o)).then(function(e){t(e)}).catch(function(e){s(e)})})};e.prototype.getById=function(e,t){var r=this;return new s.Promise(function(n,s){r.services.getById(e,t).then(function(e){n(e)})})};return e}();t.BaseComponent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.baseModel={options:{createdAt:false,updatedAt:false,deletedAt:false,defaultScope:{where:{isDeleted:0}},scopes:{deletedRecord:{where:{isDeleted:1}}},hooks:{}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18);var s=r(15);var o=r(14);var i=r(125);var a=function(){function e(){this.router=n.Router();this.connection={};this.sequeliz=s.default.sequelize;this.validator=i}e.prototype.logEndpoints=function(t,r){if(r){for(var n=0,s=t.stack;n<s.length;n++){var i=s[n];var a=Object.keys(i.route.methods)[0].toLocaleUpperCase();console.log("["+(a===o.method.get?o.colorCli.MAGENTA:a===o.method.post?o.colorCli.YELLOW:a===o.method.put?o.colorCli.CYAN:o.colorCli.RED)+a+o.colorCli.RESET+"]\thttp://"+o.host+":"+o.port+e.path+r+i.route.path);e.countEndpoints++}console.log("")}};e.path="/api/v1";e.countEndpoints=0;return e}();t.BaseRoute=a},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(131));n(r(133));n(r(135));n(r(137));n(r(139));n(r(141));n(r(143));n(r(25));n(r(146));n(r(148));n(r(150));n(r(152));n(r(154));n(r(156));n(r(158));n(r(160));n(r(162));n(r(164));n(r(166));n(r(26));n(r(169));n(r(171));n(r(173));n(r(175));n(r(177));n(r(179));n(r(181));n(r(183));n(r(185));n(r(187));n(r(189));n(r(27));n(r(192))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(28);var s=r(17);var o=r(3);var i=function(){function e(){}e.isLogin=function(t,r,s){var o=t.headers.authorization?t.headers.authorization.split(" ")[1]:null;if(!o){r.status(200).json({success:false,message:"Dừng lại, truy cập là không được phép!"})}else{n.verify(o,e.cert,{algorithms:["RS512","RS256"]},function(e,t){if(e){r.status(200).json({success:false,message:"Bạn cần đăng nhập để tiếp tục."})}else{s()}})}};e.isBoss=function(t,r,n){var s=t.headers.authorization.split(" ")[1];var o=e.detoken(s);var i=o.userId;var a=o.createdBy==null&&o.roles.length===0?o.userId:o.roles[0].bossId;var u=i===a;if(!u){r.status(200).json({success:false,message:"Bạn không có quyền truy cập."})}else{n()}};e.isPondRole=function(t,r,n){var s=t.headers.authorization.split(" ")[1];var i=e.detoken(s);var a=i.userId;var u=i.createdBy==null&&i.roles.length===0?i.userId:i.roles[0].bossId;var c=a===u;var l=!!o.find(i.roles,function(e){return e.roles===1})||!i.roles.length;if(l||c){n()}else{return r.status(200).json({success:false,message:"Bạn không có quyền truy cập."})}};e.isStorageRole=function(t,r,n){var s=t.headers.authorization.split(" ")[1];var i=e.detoken(s);var a=i.userId;var u=i.createdBy==null&&i.roles.length===0?i.userId:i.roles[0].bossId;var c=a===u;var l=!!o.find(i.roles,function(e){return e.roles===2})||!i.roles.length;if(c&&l){n()}else{return r.status(200).json({success:false,message:"Bạn không có quyền truy cập."})}};e.detoken=function(e){return n.decode(e,{json:true})};e.cert=s.readFileSync(process.cwd()+"/authKey/jwtRS256.key.pub");return e}();t.Authentication=i},function(e,t,r){var n=r(226);var s=r(228);function o(e,t,r){var o=t&&r||0;if(typeof e=="string"){t=e==="binary"?new Array(16):null;e=null}e=e||{};var i=e.random||(e.rng||n)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){for(var a=0;a<16;++a){t[o+a]=i[a]}}return t||s(i)}e.exports=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};var o=this;Object.defineProperty(t,"__esModule",{value:true});var i=r(48);var a=r(1);var u=r(2);var c=r(14);var l=function(){function e(){e.drive=i.google.drive("v3");e.key=JSON.parse(process.env.GOOGLE_API_KEY);e.jwtToken=new i.google.auth.JWT(e.key.client_email,null,e.key.private_key,["https://www.googleapis.com/auth/drive"],null);e.jwtToken.authorize(function(e){if(e){console.log(c.colorCli.RED+"Google authorization not accorded: ",e);return}else{console.log(c.colorCli.GREEN+"Google authorization accorded."+c.colorCli.RESET)}})}e.upload=function(t,r,n){return new Promise(function(r,n){var s=t.files.image||t.files.images;var o={name:s.name,parents:[a.folderDrive.uploadImageVNF]};var i={mediaType:s.mimetype,body:u.CustomStream.BufferToStream(s.data)};e.drive.files.create({auth:e.jwtToken,requestBody:o,media:i},function(e,t){if(e){r({success:false,message:"Can not upload files. Please try again later."})}else{r({success:true,message:"Upload file successful!",fileId:t.data.id})}})})};e.delayGetFileById=function(t){var r={auth:e.jwtToken,fileId:t,alt:"media"};return new Promise(function(t,n){e.drive.files.get(r,{responseType:"arraybuffer"},function(e,r){if(r){var n=r.headers["content-type"];var s="data:"+n+";base64,";var o=r.data.toString("base64");var i=s+o;t(i)}else if(e){t(e)}})})};e.getFile=function(t,r,i){return n(o,void 0,void 0,function(){var n;return s(this,function(s){n={auth:e.jwtToken,fileId:t.params.fileId,alt:"media"};e.drive.files.get(n,{responseType:"arraybuffer"},function(e,t){if(e){r.status(200).json({error:e.toString()})}if(t){var n=t.headers["content-type"];var s="data:"+n+";base64,";var o=t.data.toString("base64");var i=s+o;r.status(200).json({data:i})}});return[2]})})};return e}();t.GoogleDrive=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(19);var s=r(55);var o=r(3);var i;(function(e){e["development"]="development";e["production"]="production"})(i=t.environment||(t.environment={}));var a;(function(e){e["mysql"]="mysql";e["sqlite"]="sqlite";e["postgres"]="postgres";e["mssql"]="mssql"})(a=t.Dialect||(t.Dialect={}));var u="production".trim()||i.development;var c=u==="production";var l=new RegExp(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/);var d=o.find(s.networkInterfaces()["Wi-Fi"],function(e){return l.test(e.address.toString())})||{};t.host=d.address||s.hostname()||"localhost";t.databaseName="fisheriesdatabase";t.port=process.env.PORT||u===i.development?7979:9999;var f={acquire:3e4,idle:1e4,max:5,min:0};t.authdb={host:"localhost",password:"J%:dTva*#9c>k@L6",username:"fisherier"};var p={read:t.authdb,write:t.authdb};var h=n().utc().format("Z");t.configDB={dialect:a.mysql,operatorsAliases:false,pool:f,port:3306,replication:p,timezone:h};t.config={dialect:a.mysql,operatorsAliases:false,pool:f,replication:p};var y;(function(e){e["RESET"]="[0m";e["BRIGHT"]="[1m";e["DIM"]="[2m";e["UNDERSCORE"]="[4m";e["BLINK"]="[5m";e["REVERSE"]="[7m";e["HIDDEN"]="[8m";e["BLACK"]="[30m";e["RED"]="[31m";e["GREEN"]="[32m";e["YELLOW"]="[33m";e["BLUE"]="[34m";e["MAGENTA"]="[35m";e["CYAN"]="[36m";e["WHITE"]="[37m";e["CRIMSON"]="[38m";e["BG_BLACK"]="[40m";e["BG_RED"]="[41m";e["BG_GREEN"]="[42m";e["BG_YELLOW"]="[43m";e["BG_BLUE"]="[44m";e["BG_MAGENTA"]="[45m";e["BG_CYAN"]="[46m";e["BG_WHITE"]="[47m";e["BG_CRIMSON"]="[48m";e["TEMPLATE"]="[38;5;"})(y=t.colorCli||(t.colorCli={}));t.rootEndpoint="/api";var g;(function(e){e["v1"]="/api/v1"})(g=t.APIVersion||(t.APIVersion={}));var b;(function(e){e["get"]="GET";e["post"]="POST";e["put"]="PUT";e["delete"]="DELETE"})(b=t.method||(t.method={}))},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};Object.defineProperty(t,"__esModule",{value:true});var s=r(4);var o=r(14);var i=r(14);var a=r(56);var u=r(5);var c=function(){function e(e){var t=this;this.optionsModel=e;this.models={};Object.keys(u).forEach(function(e){t.models[e]=t.toModel(u[e].tableName,u[e].attributes,u[e].options)})}e.getDatabaseConnection=function(){e.sequelize.authenticate().then(function(){console.log(o.colorCli.GREEN+"Connection with database has been established successfully.")}).catch(function(e){console.error(o.colorCli.RED+"Unable to connect to the database:",e)})};e.prototype.toModel=function(t,r,n){return e.sequelize.define(t,r,n)};Object.defineProperty(e.prototype,"modelName",{get:function(){return this.optionsModel.tableName},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"deleteMode",{get:function(){return this.optionsModel.options},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"model",{get:function(){return e.sequelize.define(this.modelName,this.optionsModel.attributes,this.deleteMode)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"usersModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.usersAssociate(this.models["districtOptions"],this.models["userrolesOptions"],this.models["pondOptions"],this.models["couponOptions"],this.models["boughtbreedOptions"],this.models["provinceOptions"],this.models["seasonOptions"],this.models["wardOptions"],this.models["storageOwnerOptions"],this.models["ownerBreedOptions"],this.models["ponduserrolesOptions"],this.models["incurredsOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"boughtbreedsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.boughtbreedsAssociate(this.models["seasonOptions"],this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"boughtbreeddetailsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.boughtbreeddetailsAssociate(this.models["couponOptions"],this.models["breedOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"breedOwnerModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.breedOwnerAssociate(this.models["breedOptions"],this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"provinceModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.provinceAssociate(this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"districtModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.districtAssociate(this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"wardModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.wardAssociate(this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"breedsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.breedsAssociate(this.models["boughtbreeddetailsOptions"],this.models["stockingdetailOptions"],this.models["ownerBreedOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"costsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.costsAssociate(this.models["pondprepareOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"couponModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.couponAssociate(this.models["materialOptions"],this.models["userOptions"],this.models["seasonOptions"],this.models["boughtbreeddetailsOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"diedfisherysModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.diedfisherysAssociate(this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"growthsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.growthsAssociate(this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"harvestdetailsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.harvestdetailsAssociate(this.models["harvestOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"harvestModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.harvestsAssociate(this.models["harvestdetailOptions"],this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"materialModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.materialAssociate(this.models["couponOptions"],this.models["pondprepareOptions"],this.models["storagesOptions"],this.models["usingfoodOptions"],this.models["usingveterinaryOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ponddiaryModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.ponddiaryAssociate(this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pondenvironmentsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.pondenvironmentAssociate(this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pondprepareModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.pondprepareAssociate(this.models["seasonAndPondOptions"],this.models["costsOptions"],this.models["pondpreparedetailOptions"],this.models["incurredsOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pondpreparedetailsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.pondpreparedetailsAssociate(this.models["pondprepareOptions"],this.models["storagesOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"incurredModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.incurredAssociate(this.models["pondprepareOptions"],this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pondsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.pondsAssociate(this.models["ponduserrolesOptions"],this.models["seasonAndPondOptions"],this.models["userOptions"],this.models["seasonOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"pricesModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.pricesAssociate(this.models["seasonOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ponduserrolesModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.ponduserrolesAssociate(this.models["userOptions"],this.models["pondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"userRolesModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.userRolesAssociate(this.models["ponduserrolesOptions"],this.models["userOptions"],this.models["seasonOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"usingVeterinaryModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.usingveterinaryAssociate(this.models["storagesOptions"],this.models["takecareOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"usingfoodsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.usingfoodsAssociate(this.models["storagesOptions"],this.models["takecareOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"takecareModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.takecareAssociate(this.models["usingveterinaryOptions"],this.models["usingfoodOptions"],this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"storagesModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.storagesAssociate(this.models["materialOptions"],this.models["storageOwnerOptions"],this.models["pondpreparedetailOptions"],this.models["usingfoodOptions"],this.models["usingveterinaryOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ownerStoragesModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.storageOwnerAssociate(this.models["storagesOptions"],this.models["userOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"stockingdetailsModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.stockingdetailsAssociate(this.models["stockingOptions"],this.models["breedOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"stockingModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.stockingAssociate(this.models["stockingdetailOptions"],this.models["seasonAndPondOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"seasonModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.seasonAssociate(this.models["boughtbreedOptions"],this.models["pricesOptions"],this.models["userOptions"],this.models["seasonAndPondOptions"],this.models["pondOptions"],this.models["userrolesOptions"],this.models["couponOptions"]);return e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"seasonAndPondModel",{get:function(){var e=this.model;var t=new a.ModelBuilder(e);t.seasonAndPondAssociate(this.models["diedfisherysOptions"],this.models["growthOptions"],this.models["harvestOptions"],this.models["ponddiaryOptions"],this.models["pondenvironmentsOptions"],this.models["pondprepareOptions"],this.models["pondOptions"],this.models["seasonOptions"],this.models["stockingOptions"],this.models["takecareOptions"]);return e},enumerable:true,configurable:true});e.sequelize=new s(i.databaseName,null,null,n({},o.configDB));return e}();t.default=c},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(241));n(r(242));n(r(243));n(r(244))},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("moment-timezone")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(21);t.Promise=n;n.config({warnings:{wForgottenReturn:false}})},function(e,t){e.exports=require("bluebird")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_USER_ROLE_2_POND,foreignKey:{name:"pondId",field:"pondId"}})}t.ponduserrolesToPond=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_USER_ROLE_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.ponduserrolesToUser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var s=r(128);var o={LOG:process.cwd()+"/logs",LOG_ERROR:process.cwd()+"/logs/_error.log",LOG_INFO:process.cwd()+"/logs/_info.log"};(function(){return n.existsSync(o.LOG)||n.mkdirSync(o.LOG)})();t.logger=new s.Logger({exitOnError:false,transports:[new s.transports.File({colorize:false,filename:o.LOG_INFO,handleExceptions:true,json:true,level:"info",maxFiles:2,maxsize:5242880,name:"info"}),new s.transports.File({colorize:false,filename:o.LOG_ERROR,handleExceptions:true,json:true,level:"error",maxFiles:2,maxsize:5242880,name:"error"}),new s.transports.Console({colorize:true,handleExceptions:true,json:false,level:"debug",name:"debug"})]})},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};Object.defineProperty(t,"__esModule",{value:true});var o=r(6);var i=r(5);var a=r(2);var u=r(15);var c=r(10);var l=r(1);var d=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.usersModel;return r}t.prototype.register=function(e){var t=this;var r=u.default.sequelize;return new a.Promise(function(n,s){r.transaction({autocommit:true},function(r){return t.models.create(e.user)}).catch(function(e){return n(e)}).then(function(t){if(t){var r=new c.UserRole;r.setUserId=t.userId;r.setRoles=e.roles;return r.userRolesServices.models.create(r)}}).catch(function(e){return n(e)}).then(function(e){n(e?e.dataValues:null)})})};t.prototype.getUserByUsername=function(e){var t=this;return new a.Promise(function(r,n){t.models.findOne(t.joinQuery(t.getQuery(e.getUsername))).then(function(e){if(e){r(e.dataValues)}else{r(e)}})})};t.prototype.registerChild=function(e){var t=this;return new a.Promise(function(r,n){t.models.create(e).then(function(e){r(e)}).catch(function(e){n(e)})})};t.prototype.updateMyProfile=function(e,t){var r=this;return new a.Promise(function(n,s){r.models.update(e,t).then(function(e){n(e)})})};t.prototype.changePassword=function(e,t){var r=this;return new a.Promise(function(n,s){r.models.update(e,t).then(function(e){n(e)})})};t.prototype.joinQuery=function(e){var t={include:[{model:this.models.sequelize.models.province,as:l.ActionAssociateDatabase.USER_2_PRO,require:true},{model:this.models.sequelize.models.district,as:l.ActionAssociateDatabase.USER_2_DIS,require:true},{model:this.models.sequelize.models.ward,as:l.ActionAssociateDatabase.USER_2_WAR,require:true}],attributes:["userId","userUUId","firstname","lastname","username","password","birthday","town","district","province","status","phone","email","images","createdBy","createdDate","updatedBy","updatedDate","isDeleted"]};return s({},e,t)};t.prototype.getSeasonWithUser=function(){var e=this;return new a.Promise(function(t,r){var n={include:[{model:e.models.sequelize.models.seasons,as:l.ActionAssociateDatabase.USER_2_SEASON,limit:1,order:[["seasonId","DESC"]]}]};e.models.findAll(n).then(function(e){t(e)})})};t.prototype.getQuery=function(e){return{where:{username:e}}};t.optionsModel=i.userOptions;return t}(o.BaseServices);t.UserServives=d},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(145))},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(168))},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(191))},function(e,t){e.exports=require("jsonwebtoken")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(23);var s=function(){function e(e){var t=this;this.io=e;this.io.on("connection",function(e){t.socketConnection=e;n.logger.info(e.id+" is connected.");e.on("disconnect",function(t){n.logger.info(e.id+" is disconnected. [Reason] is "+t)})})}return e}();t.BaseSocketServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(31);var s=r(284);var o=r(285);var i=o("express:server");var a=n.ServerExpress.bootstrap().app;s.create({email:"ngnviethuan@gmail.com",agreeTos:true,configDir:"~/.config/acme/",communityMember:true,telemetry:true,app:a,servername:["api-vnf.tk","www.api-vnf.tk"]}).listen(80,443)},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var o=r(32);o.default();var i=r(34);var a=r(35);var u=r(36);var c=r(37);var l=r(38);var d=r(18);var f=r(39);var p=r(40);var h=r(41);var y=r(42);var g=r(43);var b=r(44);var v=r(45);var m=r(46);var _=r(47);var O=r(13);var P=r(15);var I=r(123);var S=r(0);var A=r(281);var D=function(){function t(){var e=this;this.handleErr=function(){e.app.use(function(e,t,r){r(u(404))});e.app.use(function(e,t,r,n){r.locals.message=e.message;r.locals.error=t.app.get("env")==="development"?e:{};r.status(e.status||500);r.render("error")});e.app.use(l())};this.routes=function(){return n(e,void 0,void 0,function(){return s(this,function(e){this.app.use(I.ApiRoutes.path,I.ApiRoutes.router);return[2]})})};this.app=d();this.server=_.createServer(this.app);this.io=m(this.server);new A.SocketBuild(this.io);new O.GoogleDrive;this.config();this.routes();this.handleErr();P.default.getDatabaseConnection()}t.bootstrap=function(){return new t};t.prototype.config=function(){return n(this,void 0,void 0,function(){return s(this,function(t){this.app.use(f());this.app.use("/assets",d.static(b.join(e,"../public")));this.app.set("views",b.join(e,"../views"));this.app.set("view engine","ejs");this.app.use(g("tiny",{stream:{write:function(e){return S.logger.info(e.trim())}}}));this.app.use(i.json({limit:"50mb"}));this.app.use(i.urlencoded({extended:false}));this.app.use(a());this.app.use(h());this.app.use(c());this.app.use(y());this.app.use(p());this.app.use(v({limits:{fileSize:50*1024*1024}}));return[2]})})};return t}();t.ServerExpress=D}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(33);function s(){if("production".trim()==="debug"){n.config({path:process.cwd()+"/debug.env"})}else if("production".trim()==="development"){n.config({path:process.cwd()+"/.env"})}else if("production".trim()==="production"){n.config({path:process.cwd()+"/production.env"})}}t.default=s},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("http-errors")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("errorhandler")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("express-status-monitor")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("method-override")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express-fileupload")},function(e,t){e.exports=require("socket.io")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("googleapis")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ContentType={Gzip:"application/gzip",Json:"application/json",JsonUtf8:"application/json; charset=utf8"};t.apig={logLevel:"INFO",metricsEnabled:true,origin:"*"};t.AccessExposeHeaders="X-Pagination-Index,X-Pagination-Size,X-Pagination-TotalCount";t.IdDataTypes={Integer:"Integer",UuidV1:"UuidV1",UuidV4:"UuidV4"};var n;(function(e){e["uploadImageVNF"]="1zh74DklADISZbcEYVix2nDDKd5wtt0-Z"})(n=t.folderDrive||(t.folderDrive={}));var s;(function(e){e["userImage"]="1pL4I4TNcKOf5kD2YTNXXJjuWtyJSBDE2";e["pondImage"]="1EVRh5NePZkOBxfKFDAD1RZ3AjHSWJ12W"})(s=t.defaultImage||(t.defaultImage={}));t.isUUId4=/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;var o;(function(e){e["BOUGHT_BREED_DETAIL_2_COUPON"]="coupon";e["BOUGHT_BREED_DETAIL_2_BREED"]="breed";e["BOUGHT_BREED_2_BOUGHT_BREED_DETAIL"]="boughtbreedsToBoughtBreedDetails";e["BOUGHT_BREED_2_USER"]="users";e["BOUGHT_BREED_2_SEASON"]="season";e["BREED_2_BOUGHT_BREED_DETAIL"]="boughBreedDetail";e["BREED_2_STOKING_DETAIL"]="stockingDetails";e["BREED_2_OWNER_BREED"]="owner";e["COST_2_POND_PREPARE"]="costs";e["COUPON_2_MATERIAL"]="materials";e["COUPON_2_BOUGHT_BREED_DETAILS"]="boughtBreedDetails";e["COUPON_2_SEASON"]="season";e["COUPON_2_USER"]="user";e["DIED_FISHERY_2_SEASON_AND_POND"]="seasonAndPond";e["DISTRICT_2_USER"]="districtsToUser";e["GROWTH_2_SEASON_AND_POND"]="seasonAndPond";e["HARVEST_DETAIL_2_HARVEST"]="harvest";e["HARVEST_2_HARVEST_DETAILS"]="details";e["HARVEST_2_SEASON_AND_POND"]="harvestsnp";e["MATERIAL_2_COUPON"]="coupon";e["MATERIAL_2_POND_PREPARE"]="materialToPondPrepare";e["MATERIAL_2_STORAGE"]="storage";e["MATERIAL_2_USING_FOOD"]="usingFoods";e["MATERIAL_2_USING_VETERINARY"]="usingVeterinay";e["POND_DIARY_2_SEASON_AND_POND"]="snp";e["POND_ENVIRONMENT_2_SEASON_AND_POND"]="environments";e["POND_PREPARE_2_SEASON_AND_POND"]="seasonAndPond";e["POND_PREPARE_2_COST"]="pondPrepare";e["POND_PREPARE_2_POND_PREPARE_DETAILS"]="details";e["POND_PREPARE_2_INCURREDS"]="incurreds";e["POND_PREPARE_DETAIL_2_POND_PREPARE"]="pondPrepare";e["POND_PREPARE_DETAIL_2_STORAGE"]="storages";e["POND_PREPARE_DETAIL_2_COST"]="detailCost";e["INCURREDS_TO_POND_PREPARE"]="pondPrepare";e["INCURREDS_TO_USER"]="user";e["POND_2_POND_USER_ROLE"]="pondUserRoles";e["POND_2_SEASON"]="seasons";e["POND_2_USER"]="user";e["POND_2_EMPLOYEE_MAYNY_ROLES"]="users";e["POND_2_SEASON_AND_POND"]="seasonsnp";e["POND_USER_ROLE_2_USER"]="user";e["POND_USER_ROLE_2_USER_ROLE"]="userRole";e["POND_USER_ROLE_2_POND"]="pond";e["PRICE_2_SEASON"]="prices";e["PROVINCE_2_USER"]="provinces";e["SEASON_AND_POND_2_SEASON"]="seasons";e["SEASON_AND_POND_2_POND"]="ponds";e["SEASON_AND_POND_2_GROWTH"]="seasonNPondToGrowth";e["SEASON_AND_POND_2_DIED_FISH"]="diedFishSeason";e["SEASON_AND_POND_2_HARVEST"]="toHarvests";e["SEASON_AND_POND_2_POND_DIARY"]="seasonWithDiary";e["SEASON_AND_POND_2_POND_PREPARE"]="withPondPrepare";e["SEASON_AND_POND_2_TAKE_CARE"]="takeCares";e["SEASON_AND_POND_2_STOCKING"]="stocking";e["SEASON_AND_POND_2_POND_ENV"]="seasonWithEnvironment";e["SEASON_2_BOUGHT_BREED"]="boughtBreed";e["SEASON_2_PRICE"]="price";e["SEASON_2_COUPON"]="coupon";e["SEASON_2_USER"]="user";e["SEASON_2_USER_ROLES"]="roles";e["SEASON_2_POND"]="ponds";e["SEASON_2_SEASON_AND_POND"]="seasonToSeasonNPond";e["SEASON_2_STORAGE"]="storage";e["STOCKING_2_STOCKING_DETAILS"]="details";e["STOCKING_2_SEASON_AND_POND"]="seasonAndPond";e["STOCKING_DETAILS_2_STOCKING"]="stocking";e["STOCKING_DETAILS_2_BREED"]="breed";e["STORAGE_2_POND_PREPARE_DETAILS"]="pondPrepareDetails";e["STORAGE_2_MATERIAL"]="materials";e["STORAGE_2_SEASON"]="storagesToSeason";e["STORAGE_2_PRICE"]="storagesToPrices";e["STORAGE_2_USING_FOOD"]="usingFoods";e["STORAGE_2_USING_VETERINARY"]="usingveterinary";e["STORAGE_2_OWNER"]="owner";e["OWNER_TO_STORAGE"]="storages";e["OWNER_TO_USER"]="user";e["OWNER_BREED_TO_BREED"]="breeds";e["OWNER_BREED_TO_USER"]="user";e["TAKE_CARE_2_USING_FOOD"]="usingFoods";e["TAKE_CARE_2_USING_VETERINARY"]="usingVeterinary";e["TAKE_CARE_2_SEASON_AND_POND"]="seasonAndPond";e["USER_ROLES_2_USER"]="userInfo";e["USER_ROLES_2_SEASON"]="seasonRoles";e["USER_ROLES_2_USER_BOSS"]="employees";e["USER_ROLES_2_POND_USER_ROLE"]="pondUserRoles";e["USER_2_ROLES_USER"]="roles";e["USER_2_POND"]="ponds";e["USER_2_POND_MANY_ROLES"]="pondsBy";e["USER_2_COUPON"]="coupons";e["USER_2_SEASON"]="seasons";e["USER_2_BOUGHT_BREED"]="userToBoughtBreeds";e["USER_2_PRO"]="provinces";e["USER_2_DIS"]="districts";e["USER_2_WAR"]="wards";e["USER_2_ROLES_GET_EMPLOYEES"]="employees";e["USER_2_POND_USER_ROLE"]="pondUserRole";e["USER_2_OWNER_STORAGE"]="user";e["USER_2_OWNER_BREED"]="ownerBreed";e["USER_2_INCURREDS"]="incurreds";e["USING_FOOD_2_STORAGE"]="storages";e["USING_FOOD_2_TAKE_CARE"]="usingFoods";e["USING_VETERINARY_2_STORAGE"]="storages";e["USING_VETERINARY_2_TAKE_CARE"]="usingVeterinaryTakeCare";e["WARD_2_USER"]="wards"})(o=t.ActionAssociateDatabase||(t.ActionAssociateDatabase={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(19);var s=function(){function e(){}e.getNow=function(){return n().toDate()};e.getNowByTimeZone=function(e,t){return n().tz(e).format(t)};e.getUTCDateTime=function(e){return n(e).utc().format()};e.formatDate=function(e,t,r,s){if(s===void 0){s=false}if(!e){return null}if(r){return n.utc(e).format(t)}if(s&&typeof e==="string"){e=e.replace(new RegExp("Z","g"),"")}return n(e).format(t)};e.parse=function(e,t){if(e===null||e===""){return null}return n(e,t).toDate()};e.refFormatDate=function(t,r,n){var s=this.parse(t,r);return e.formatDate(s,n)};e.diffDate=function(e,t,r){return n(e).diff(t,r)};e.add=function(e,t,r){return n(e).add(t,r).toDate()};e.subtract=function(e,t,r){return n(e).subtract(t,r).toDate()};e.endOf=function(e,t){return n(e).endOf(t).toDate()};e.startOf=function(e,t){return n(e).startOf(t).toDate()};return e}();t.DateUtil=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(52);var s=r(20);var o=function(){function e(){this.reCryptToken=function(e,t){var r=e.split(".");if(!t){return r[0]+"."+(r[1].slice(0,r[1].length-1)+Math.floor(Math.random()*9+1)+r[1][r[1].length-1])+"."+r[2]}else{return r[0]+"."+(r[1].slice(0,r[1].length-1)+0+r[1][r[1].length-1])+"."+r[2]}};this.extractToken=function(e){var t=e.split(".");return t[0]+"."+(t[1].slice(0,t[1].length-1)+t[1][t[1].length])+"."+t[2]}}e.getSalt=function(e){return s.Promise.resolve(n.genSalt(e))};e.getSaltSync=function(e){return n.genSaltSync(e)};e.hashing=function(e,t){return s.Promise.resolve(n.hash(e,t))};e.hashingSync=function(e,t){return n.hashSync(e,t)};e.compare=function(e,t){return s.Promise.resolve(n.compare(e,t))};e.compareSync=function(e,t){return n.compareSync(e,t)};return e}();t.Enscrypts=o},function(e,t){e.exports=require("bcryptjs")},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(54);var o=r(21);var i=function(e){n(t,e);function t(){return e.call(this)||this}t.BufferToStream=function(e){var t=new this.Duplex;t.push(e);t.push(null);return t};t.StreamToBuffer=function(e){return new o.Promise(function(t,r){var n=[];e.on("error",r);e.on("data",function(e){return n.push(e)});e.on("end",function(){return t(Buffer.concat(n))})})};return t}(s);t.CustomStream=i},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(57);var s=function(){function e(e){this.model=e}e.prototype.boughtbreeddetailsAssociate=function(e,t){n.boughtbreeddetailsToCoupon(this.model,e);n.boughtbreeddetailsToBreeds(this.model,t)};e.prototype.boughtbreedsAssociate=function(e,t){n.boughtbreedsToSeason(this.model,e);n.boughtbreedsToUser(this.model,t)};e.prototype.breedsAssociate=function(e,t,r){n.breedToBoughBreedDetails(this.model,e);n.breedsToStockingDetails(this.model,t);n.breedsToOwnerBreed(this.model,r)};e.prototype.costsAssociate=function(e){n.costsToPondPrepare(this.model,e)};e.prototype.couponAssociate=function(e,t,r,s){n.couponToMaterial(this.model,e);n.couponToBoughtBreedDetails(this.model,s);n.couponToUsers(this.model,t);n.couponToSeason(this.model,r)};e.prototype.diedfisherysAssociate=function(e){n.diedfisherysToSeasonAndPond(this.model,e)};e.prototype.districtAssociate=function(e){n.districtToUser(this.model,e)};e.prototype.growthsAssociate=function(e){n.growthsToSeasonAndPond(this.model,e)};e.prototype.harvestdetailsAssociate=function(e){n.harvestdetailsToHarvests(this.model,e)};e.prototype.harvestsAssociate=function(e,t){n.harvestsToHarvestDetails(this.model,e);n.harvestsToSeasonAndPond(this.model,t)};e.prototype.incurredAssociate=function(e,t){n.incurredsToPondPrepare(this.model,e);n.incurredsToUser(this.model,t)};e.prototype.materialAssociate=function(e,t,r,s,o){n.materialToCoupon(this.model,e);n.materialToPondPrepare(this.model,t);n.materialToStorages(this.model,r);n.materialToUsingFood(this.model,s);n.materialToUsingVeterinary(this.model,o)};e.prototype.ponddiaryAssociate=function(e){n.ponddiaryToSeasonAndPond(this.model,e)};e.prototype.pondenvironmentAssociate=function(e){n.pondenvironmenToSeasonAndPond(this.model,e)};e.prototype.pondprepareAssociate=function(e,t,r,s){n.pondprepareToCosts(this.model,t);n.pondprepareToPondPrepareDetails(this.model,r);n.pondprepareToSeasonAndPond(this.model,e);n.pondprepareToIncurred(this.model,s)};e.prototype.pondpreparedetailsAssociate=function(e,t){n.pondpreparedetailsToStorage(this.model,t);n.pondpreparedetailsToPondPrepare(this.model,e)};e.prototype.pondsAssociate=function(e,t,r,s){n.pondsToPondUserRoles(this.model,e);n.pondsToSeasonAndPond(this.model,t);n.pondsToUser(this.model,r);n.pondsToUserEmployee(this.model,r);n.pondToSeason(this.model,s)};e.prototype.ponduserrolesAssociate=function(e,t){n.ponduserrolesToUser(this.model,e);n.ponduserrolesToPond(this.model,t)};e.prototype.pricesAssociate=function(e){n.pricesToSeason(this.model,e)};e.prototype.provinceAssociate=function(e){n.provinceToUser(this.model,e)};e.prototype.seasonAssociate=function(e,t,r,s,o,i,a){n.seasonToBoughtBreed(this.model,e);n.seasonToPrice(this.model,t);n.seasonToUser(this.model,r);n.seasonToSNP(this.model,s);n.seasonToPond(this.model,o);n.seasonToUserRoles(this.model,i);n.seasonToCoupon(this.model,a)};e.prototype.seasonAndPondAssociate=function(e,t,r,s,o,i,a,u,c,l){n.withDiedFish(this.model,e);n.withGrowths(this.model,t);n.withHarvest(this.model,r);n.withPondDiary(this.model,s);n.withPondEnv(this.model,o);n.withPondPrepare(this.model,i);n.withPond(this.model,a);n.withSeason(this.model,u);n.withStocking(this.model,c);n.withTakeCare(this.model,l)};e.prototype.stockingAssociate=function(e,t){n.stockingToSNP(this.model,t);n.stockingToStockingdetails(this.model,e)};e.prototype.stockingdetailsAssociate=function(e,t){n.stockingdetailsToBreeds(this.model,t);n.stockingdetailsToStocking(this.model,e)};e.prototype.storagesAssociate=function(e,t,r,s,o){n.storagesToMaterial(this.model,e);n.storagesToOwner(this.model,t);n.storagesToPondPrePareDetail(this.model,r);n.storagesToUsingFood(this.model,s);n.storagesToUsingVeterinary(this.model,o)};e.prototype.storageOwnerAssociate=function(e,t){n.ownerToStorage(this.model,e);n.ownerToUser(this.model,t)};e.prototype.breedOwnerAssociate=function(e,t){n.ownerBreedToBreed(this.model,e);n.ownerBreedToUser(this.model,t)};e.prototype.takecareAssociate=function(e,t,r){n.takecareToSNP(this.model,r);n.takecareToUsingfoods(this.model,t);n.takecareToUsingveterinary(this.model,e)};e.prototype.userRolesAssociate=function(e,t,r){n.userrolesToPondUserRoles(this.model,e);n.userrolesToUsers(this.model,t);n.userrolesToUsersBoss(this.model,t);n.userrolesToSeason(this.model,r)};e.prototype.usersAssociate=function(e,t,r,s,o,i,a,u,c,l,d,f){n.userToDistrict(this.model,e);n.userToRolesUser(this.model,t);n.userToPond(this.model,r);n.userToPondRolesBelongMany(this.model,r);n.userToCoupon(this.model,s);n.userToBoughtBreeds(this.model,o);n.userToProvince(this.model,i);n.userToSeason(this.model,a);n.userToWard(this.model,u);n.userToRolesBoss(this.model,t);n.userToOwnerStorage(this.model,c);n.userToOwnerBreed(this.model,l);n.userToPondUserRoles(this.model,d);n.userToIncurred(this.model,f)};e.prototype.usingfoodsAssociate=function(e,t){n.usingfoodsToStorage(this.model,e);n.usingfoodsToTakecare(this.model,t)};e.prototype.usingveterinaryAssociate=function(e,t){n.usingveterinaryToStorage(this.model,e);n.usingveterinaryToTakecare(this.model,t)};e.prototype.wardAssociate=function(e){n.wardToUser(this.model,e)};return e}();t.ModelBuilder=s},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(58));n(r(59));n(r(60));n(r(61));n(r(62));n(r(63));n(r(64));n(r(65));n(r(66));n(r(67));n(r(68));n(r(69));n(r(70));n(r(71));n(r(72));n(r(73));n(r(22));n(r(74));n(r(22));n(r(75));n(r(76));n(r(77));n(r(78));n(r(79));n(r(80));n(r(81));n(r(82));n(r(83));n(r(84));n(r(85));n(r(86));n(r(87));n(r(88));n(r(89))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_COUPON,foreignKey:{name:"couponId",field:"couponId"}})}t.boughtbreeddetailsToCoupon=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_BREED,foreignKey:{name:"breedId",field:"breedId"}})}t.boughtbreeddetailsToBreeds=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.BOUGHT_BREED_2_SEASON,foreignKey:{name:"seasonId",field:"seasonId"}})}t.boughtbreedsToSeason=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.BOUGHT_BREED_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.boughtbreedsToUser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.BREED_2_BOUGHT_BREED_DETAIL,foreignKey:{name:"breedId",field:"breedId"}})}t.breedToBoughBreedDetails=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.BREED_2_STOKING_DETAIL,foreignKey:{name:"breedId",field:"breedId"}})}t.breedsToStockingDetails=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.BREED_2_OWNER_BREED,foreignKey:{name:"ownerId",field:"ownerId"}})}t.breedsToOwnerBreed=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.OWNER_BREED_TO_BREED,foreignKey:{name:"ownerId",field:"ownerId"}})}t.ownerBreedToBreed=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.OWNER_BREED_TO_USER,foreignKey:{name:"userId",field:"userId"}})}t.ownerBreedToUser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.COST_2_POND_PREPARE,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.costsToPondPrepare=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.COUPON_2_MATERIAL,foreignKey:{name:"couponId",field:"couponId"}})}t.couponToMaterial=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.COUPON_2_BOUGHT_BREED_DETAILS,foreignKey:{name:"couponId",field:"couponId"}})}t.couponToBoughtBreedDetails=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.COUPON_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.couponToUsers=i;function a(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.COUPON_2_SEASON,foreignKey:{name:"seasonId",field:"seasonId"}})}t.couponToSeason=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.DIED_FISHERY_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.diedfisherysToSeasonAndPond=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.GROWTH_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.growthsToSeasonAndPond=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.HARVEST_DETAIL_2_HARVEST,foreignKey:{name:"harvestId",field:"harvestId"}})}t.harvestdetailsToHarvests=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.HARVEST_2_HARVEST_DETAILS,foreignKey:{name:"harvestId",field:"harvestId"}})}t.harvestsToHarvestDetails=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.HARVEST_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.harvestsToSeasonAndPond=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.MATERIAL_2_COUPON,foreignKey:{name:"couponId",field:"couponId"}})}t.materialToCoupon=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.MATERIAL_2_POND_PREPARE,foreignKey:{name:"materialId",field:"materialId"}})}t.materialToPondPrepare=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.MATERIAL_2_STORAGE,foreignKey:{name:"storageId",field:"storageId"}})}t.materialToStorages=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.MATERIAL_2_USING_FOOD,foreignKey:{name:"materialId",field:"materialId"}})}t.materialToUsingFood=a;function u(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.MATERIAL_2_USING_VETERINARY,foreignKey:{name:"materialId",field:"materialId"}})}t.materialToUsingVeterinary=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_DIARY_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.ponddiaryToSeasonAndPond=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_ENVIRONMENT_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.pondenvironmenToSeasonAndPond=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.POND_PREPARE_2_COST,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.pondprepareToCosts=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_PREPARE_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.pondprepareToSeasonAndPond=o;function i(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.POND_PREPARE_2_POND_PREPARE_DETAILS,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.pondprepareToPondPrepareDetails=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.POND_PREPARE_2_INCURREDS,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.pondprepareToIncurred=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_PREPARE_DETAIL_2_STORAGE,foreignKey:{name:"storageId",field:"storageId"}})}t.pondpreparedetailsToStorage=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_PREPARE_DETAIL_2_POND_PREPARE,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.pondpreparedetailsToPondPrepare=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.POND_2_POND_USER_ROLE,foreignKey:{name:"pondId",field:"pondId"}})}t.pondsToPondUserRoles=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.POND_2_SEASON_AND_POND,foreignKey:{name:"pondId",field:"pondId"}})}t.pondsToSeasonAndPond=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.POND_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.pondsToUser=i;function a(e,t){return e.belongsToMany(t,{as:n.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,through:"ponduserroles",foreignKey:{name:"pondId",field:"pondId"},otherKey:{name:"userId",field:"userId"}})}t.pondsToUserEmployee=a;function u(e,t){return e.belongsToMany(t,{as:n.ActionAssociateDatabase.POND_2_SEASON,through:"seasonsandpond",foreignKey:{name:"pondId",field:"pondId"},otherKey:{name:"seasonId",field:"seasonId"}})}t.pondToSeason=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.PRICE_2_SEASON,foreignKey:{name:"seasonId",field:"seasonId"}})}t.pricesToSeason=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_2_BOUGHT_BREED,foreignKey:{name:"seasonId",field:"seasonId"}})}t.seasonToBoughtBreed=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_2_PRICE,foreignKey:{name:"seasonId",field:"seasonId"}})}t.seasonToPrice=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.SEASON_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.seasonToUser=i;function a(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.SEASON_2_USER_ROLES,foreignKey:{name:"userId",field:"userId"}})}t.seasonToUserRoles=a;function u(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_2_SEASON_AND_POND,foreignKey:{name:"seasonId",field:"seasonId"}})}t.seasonToSNP=u;function c(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_2_COUPON,foreignKey:{name:"seasonId",field:"seasonId"}})}t.seasonToCoupon=c;function l(e,t){return e.belongsToMany(t,{as:n.ActionAssociateDatabase.SEASON_2_POND,through:"seasonsandpond",foreignKey:{name:"seasonId",field:"seasonId"},otherKey:{name:"pondId",field:"pondId"}})}t.seasonToPond=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_DIED_FISH,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withDiedFish=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_GROWTH,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withGrowths=o;function i(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_HARVEST,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withHarvest=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_POND_DIARY,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withPondDiary=a;function u(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_POND_ENV,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withPondEnv=u;function c(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_POND_PREPARE,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withPondPrepare=c;function l(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,foreignKey:{name:"seasonId",field:"seasonId"}})}t.withSeason=l;function d(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_POND,foreignKey:{name:"pondId",field:"pondId"}})}t.withPond=d;function f(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_STOCKING,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withStocking=f;function p(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.SEASON_AND_POND_2_TAKE_CARE,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.withTakeCare=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.STOCKING_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.stockingToSNP=s;function o(e,t){return e.hasOne(t,{as:n.ActionAssociateDatabase.STOCKING_2_STOCKING_DETAILS,foreignKey:{name:"stockingId",field:"stockingId"}})}t.stockingToStockingdetails=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.STOCKING_DETAILS_2_BREED,foreignKey:{name:"breedId",field:"breedId"}})}t.stockingdetailsToBreeds=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.STOCKING_DETAILS_2_STOCKING,foreignKey:{name:"stockingId",field:"stockingId"}})}t.stockingdetailsToStocking=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.STORAGE_2_OWNER,foreignKey:{name:"ownerId",field:"ownerId"}})}t.storagesToOwner=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.STORAGE_2_MATERIAL,foreignKey:{name:"storageId",field:"storageId"}})}t.storagesToMaterial=o;function i(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.STORAGE_2_POND_PREPARE_DETAILS,foreignKey:{name:"storageId",field:"storageId"}})}t.storagesToPondPrePareDetail=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.STORAGE_2_USING_FOOD,foreignKey:{name:"storageId",field:"storageId"}})}t.storagesToUsingFood=a;function u(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.STORAGE_2_USING_VETERINARY,foreignKey:{name:"storageId",field:"storageId"}})}t.storagesToUsingVeterinary=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.OWNER_TO_STORAGE,foreignKey:{name:"ownerId",field:"ownerId"}})}t.ownerToStorage=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.OWNER_TO_USER,foreignKey:{name:"userId",field:"userId"}})}t.ownerToUser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,foreignKey:{name:"seasonAndPondId",field:"seasonAndPondId"}})}t.takecareToSNP=s;function o(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.TAKE_CARE_2_USING_FOOD,foreignKey:{name:"takeCareId",field:"takeCareId"}})}t.takecareToUsingfoods=o;function i(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.TAKE_CARE_2_USING_VETERINARY,foreignKey:{name:"takeCareId",field:"takeCareId"}})}t.takecareToUsingveterinary=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_BOUGHT_BREED,foreignKey:{name:"userId",field:"userId"}})}t.userToBoughtBreeds=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USER_2_DIS,foreignKey:{field:"district",name:"district"}})}t.userToDistrict=o;function i(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_ROLES_USER,foreignKey:{name:"userId",field:"userId"}})}t.userToRolesUser=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_POND,foreignKey:{name:"userId",field:"userId"}})}t.userToPond=a;function u(e,t){return e.belongsToMany(t,{as:n.ActionAssociateDatabase.USER_2_POND_MANY_ROLES,through:"ponduserroles",foreignKey:{name:"userId",field:"userId"},otherKey:{name:"pondId",field:"pondId"}})}t.userToPondRolesBelongMany=u;function c(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_COUPON,foreignKey:{name:"userId",field:"userId"}})}t.userToCoupon=c;function l(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USER_2_PRO,foreignKey:{name:"province",field:"province"}})}t.userToProvince=l;function d(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_SEASON,foreignKey:{name:"userId",field:"userId"}})}t.userToSeason=d;function f(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USER_2_WAR,foreignKey:{name:"town",field:"town"}})}t.userToWard=f;function p(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,foreignKey:{name:"bossId",field:"bossId"}})}t.userToRolesBoss=p;function h(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_POND_USER_ROLE,foreignKey:{name:"userId",field:"userId"}})}t.userToPondUserRoles=h;function y(e,t){return e.hasOne(t,{as:n.ActionAssociateDatabase.USER_2_OWNER_STORAGE,foreignKey:{name:"userId",field:"userId"}})}t.userToOwnerStorage=y;function g(e,t){return e.hasOne(t,{as:n.ActionAssociateDatabase.USER_2_OWNER_BREED,foreignKey:{name:"userId",field:"userId"}})}t.userToOwnerBreed=g;function b(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_2_INCURREDS,foreignKey:{name:"userId",field:"userId"}})}t.userToIncurred=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_ROLES_2_POND_USER_ROLE,foreignKey:{name:"rolesId",field:"rolesId"}})}t.userrolesToPondUserRoles=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USER_ROLES_2_USER,foreignKey:{name:"userId",field:"userId"}})}t.userrolesToUsers=o;function i(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USER_ROLES_2_USER_BOSS,foreignKey:{name:"bossId",field:"bossId"}})}t.userrolesToUsersBoss=i;function a(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.USER_ROLES_2_SEASON,foreignKey:{name:"bossId",field:"bossId"}})}t.userrolesToSeason=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USING_FOOD_2_STORAGE,foreignKey:{name:"storageId",field:"storageId"}})}t.usingfoodsToStorage=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USING_FOOD_2_TAKE_CARE,foreignKey:{name:"takeCareId",field:"takeCareId"}})}t.usingfoodsToTakecare=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USING_VETERINARY_2_STORAGE,foreignKey:{name:"storageId",field:"storageId"}})}t.usingveterinaryToStorage=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.USING_VETERINARY_2_TAKE_CARE,foreignKey:{name:"takeCareId",field:"takeCareId"}})}t.usingveterinaryToTakecare=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.PROVINCE_2_USER,foreignKey:{name:"provinceid",field:"provinceid"}})}t.provinceToUser=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.DISTRICT_2_USER,foreignKey:{name:"districtid",field:"districtid"}})}t.districtToUser=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.hasMany(t,{as:n.ActionAssociateDatabase.WARD_2_USER,foreignKey:{name:"wardid",field:"wardid"}})}t.wardToUser=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);function s(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.INCURREDS_TO_POND_PREPARE,foreignKey:{name:"pondPrepareId",field:"pondPrepareId"}})}t.incurredsToPondPrepare=s;function o(e,t){return e.belongsTo(t,{as:n.ActionAssociateDatabase.INCURREDS_TO_USER,foreignKey:{name:"ownerId",field:"ownerId"}})}t.incurredsToUser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.boughtbreeddetailsOptions=s.merge({tableName:"boughtbreeddetails"},{attributes:{boughtBreedDetailId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},boughtBreedDetailUUId:{type:n.STRING(36),unique:true,allowNull:false},couponId:{type:n.BIGINT(20),allowNull:false},breedId:{type:n.BIGINT(20),allowNull:false},quantity:{type:n.FLOAT,allowNull:false},unit:{type:n.INTEGER(1),allowNull:false},unitPrice:{allowNull:false,type:n.FLOAT},soldAddress:{type:n.STRING,allowNull:true},testingAgency:{type:n.STRING,allowNull:true},descriptions:{type:n.TEXT,allowNull:true},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"boughtbreeddetails"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.boughtbreedOptions=o.merge({tableName:"boughtbreeds"},{attributes:{boughtBreedId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},boughtBreedUUId:{type:n.STRING(36),unique:true,allowNull:false},userId:{type:n.BIGINT(20),allowNull:false},seasonId:{type:n.BIGINT(20),allowNull:false},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"boughtbreeds"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.breedOptions=o.merge({tableName:"breeds"},{attributes:{breedId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},breedUUId:{type:n.STRING(36),unique:true,allowNull:false},ownerId:{type:n.BIGINT(20),allowNull:false},breedName:{type:n.STRING(80)},totalQuantity:{type:n.BIGINT(20)},unit:{type:n.INTEGER(1),allowNull:false},loopOfBreed:{type:n.INTEGER(11),allowNull:false},tips:{type:n.TEXT,allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"breeds"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.costsOptions=o.merge({tableName:"costs"},{attributes:{costId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},costUUId:{type:n.STRING(36),unique:true,allowNull:false},pondPrepareId:{type:n.BIGINT(20),allowNull:false},label:{type:n.STRING(100)},value:{type:n.FLOAT},responsible:{type:n.STRING(100)},notes:{type:n.TEXT,allowNull:true},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"costs"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.couponOptions=o.merge({tableName:"coupons"},{attributes:{couponId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},userId:{type:n.BIGINT(20),allowNull:false},seasonId:{type:n.BIGINT(20),allowNull:false,unique:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"coupons"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.diedfisherysOptions=o.merge({tableName:"diedfisherys"},{attributes:{diedFisheryId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},diedFisheryUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},card:{type:n.INTEGER(1)},quantity:{type:n.FLOAT},solutions:{type:n.TEXT,allowNull:true},employee:{type:n.STRING(50),allowNull:true},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"diedfisherys"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);t.districtOptions=s.merge({tableName:"district"},{attributes:{districtid:{type:n.STRING(5),primaryKey:true},name:{type:n.STRING(100)},type:{type:n.STRING(30)},location:{type:n.STRING(30)},provinceid:{type:n.STRING(5),allowNull:false}},options:{tableName:"district",createdAt:false,updatedAt:false,deletedAt:false,defaultScope:{},scopes:{}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.growthOptions=o.merge({tableName:"growths"},{attributes:{growthId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},growthUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},averageDensity:{type:n.FLOAT},averageMass:{type:n.FLOAT},speedOdGrowth:{type:n.FLOAT},livingRatio:{type:n.FLOAT},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"growths"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.harvestdetailOptions=s.merge({tableName:"harvestdetails"},{attributes:{harvestDetailUUId:{type:n.STRING(36),unique:true,allowNull:false},harvestId:{type:n.BIGINT(20),primaryKey:true},quantity:{type:n.FLOAT},unitPrice:{type:n.FLOAT},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"harvestdetails"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.harvestOptions=o.merge({tableName:"harvests"},{attributes:{harvestId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},harvestUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},harvestName:{type:n.STRING(50),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"harvests"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.materialOptions=s.merge({tableName:"materials"},{attributes:{materialId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},materialUUId:{type:n.STRING(36),unique:true,allowNull:false},couponId:{type:n.BIGINT(20),allowNull:false},storageId:{type:n.BIGINT(20),allowNull:false},provider:{type:n.STRING(100)},providerAddress:{type:n.STRING},quantity:{type:n.DOUBLE},unit:{type:n.INTEGER(1)},unitPrice:{type:n.FLOAT},isDeleted:{type:n.INTEGER(1),allowNull:true,defaultValue:0}},options:{tableName:"materials"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.ownerBreedOptions=s.merge({tableName:"ownerbreed"},{attributes:{ownerId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},userId:{type:n.BIGINT(20),allowNull:false},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"ownerbreed"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.ponddiaryOptions=o.merge({tableName:"ponddiary"},{attributes:{pondDiaryId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},pondDiaryUUId:{type:n.STRING(36),allowNull:false,unique:true},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},diaryName:{type:n.STRING(100)},fisheryQuantity:{type:n.FLOAT},healthOfFishery:{type:n.STRING(36)},pondVolume:{type:n.FLOAT},diedFishery:{type:n.INTEGER(11)},notes:{type:n.TEXT},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"ponddiary"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.pondenvironmentsOptions=o.merge({tableName:"pondenvironments"},{attributes:{pondEnvironmentId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},pondEnvironmentUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},oxyMorning:{type:n.FLOAT,allowNull:true},oxyAfternoon:{type:n.FLOAT,allowNull:true},phMorning:{type:n.FLOAT,allowNull:true},phAfternoon:{type:n.FLOAT,allowNull:true},transparent:{type:n.FLOAT,allowNull:true},salinity:{type:n.FLOAT,allowNull:true},h2s:{type:n.FLOAT,allowNull:true},nh3:{type:n.FLOAT,allowNull:true},bazo:{type:n.FLOAT,allowNull:true},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"pondenvironments"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.pondprepareOptions=o.merge({tableName:"pondprepare"},{attributes:{pondPrepareId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},pondPrepareUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},pondprepareName:{type:n.STRING(50)},createdBy:{type:n.STRING(36)},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36)},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"pondprepare"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.pondpreparedetailOptions=o.merge({tableName:"pondpreparedetails"},{attributes:{pondPrepareDetailId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},pondPrepareDetailUUId:{type:n.STRING(36),unique:true,allowNull:false},storageId:{type:n.BIGINT(20),allowNull:false},pondPrepareId:{type:n.BIGINT(20),allowNull:false},quantity:{type:n.FLOAT,allowNull:false},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"pondpreparedetails",createdBy:false,updatedBy:false}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.pondOptions=o.merge({tableName:"ponds"},{attributes:{pondId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},pondUUId:{type:n.STRING(36),unique:true,allowNull:false},userId:{type:n.BIGINT(20),allowNull:false},pondName:{type:n.STRING(50)},pondArea:{type:n.FLOAT},pondDepth:{type:n.FLOAT},createCost:{type:n.FLOAT},pondCreatedDate:{type:n.DATE},status:{type:n.INTEGER(1),allowNull:false,defaultValue:0},isFed:{type:n.INTEGER(1),allowNull:true,defaultValue:0},isDiary:{type:n.INTEGER(1),allowNull:true,defaultValue:0},images:{type:n.TEXT({length:"1000"}),allowNull:true},pondLatitude:{type:n.DOUBLE,allowNull:true,defaultValue:function(){return null}},pondLongitude:{type:n.DOUBLE,allowNull:true,defaultValue:function(){return null}},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"ponds"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.ponduserrolesOptions=o.merge({tableName:"ponduserroles"},{attributes:{pondUserRolesId:{type:n.BIGINT(20),autoIncrement:true,primaryKey:true,allowNull:false},userId:{type:n.BIGINT(20),unique:true,field:"userId"},pondId:{type:n.BIGINT(20),unique:true,field:"pondId"},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"ponduserroles",defaultScope:{},scopes:{}}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.pricesOptions=o.merge({tableName:"prices"},{attributes:{priceId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},priceUUId:{type:n.STRING(36),unique:true,allowNull:false},seasonId:{type:n.BIGINT(20),unique:true,allowNull:false},totalCost:{type:n.DOUBLE},totalProfit:{type:n.DOUBLE},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"prices"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);t.provinceOptions=s.merge({tableName:"province"},{attributes:{provinceid:{type:n.STRING(5),primaryKey:true},name:{type:n.STRING(100)},type:{type:n.STRING(30)}},options:{tableName:"province",createdAt:false,updatedAt:false,deletedAt:false,defaultScope:{},scopes:{}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.seasonOptions=o.merge({tableName:"seasons"},{attributes:{seasonId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},seasonUUId:{type:n.STRING(36),unique:true,allowNull:false},userId:{type:n.BIGINT(20),allowNull:false},seasonName:{type:n.STRING(100)},status:{type:n.INTEGER(1),defaultValue:0},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"seasons"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.incurredsOptions=o.merge({tableName:"incurreds"},{attributes:{incurredId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},incurredUUId:{type:n.STRING(36),unique:true,allowNull:false},pondPrepareId:{type:n.BIGINT(20),allowNull:false},ownerId:{type:n.BIGINT(20),allowNull:false},incurredName:{type:n.STRING(100),allowNull:false},value:{type:n.FLOAT,allowNull:false},notes:{type:n.STRING(255),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"incurreds",createdBy:false,updatedBy:false}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);t.seasonAndPondOptions=s.merge({tableName:"seasonsandpond"},{attributes:{seasonAndPondId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},seasonId:{type:n.BIGINT(20),allowNull:false,unique:true},pondId:{type:n.BIGINT(20),allowNull:false,unique:true}},options:{createdAt:false,updatedAt:false,deletedAt:false,hooks:{},tableName:"seasonsandpond"}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.stockingOptions=o.merge({tableName:"stocking"},{attributes:{stockingId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},stockingUUId:{type:n.STRING(36),allowNull:false,unique:true},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},notes:{type:n.TEXT,allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"stocking"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.stockingdetailOptions=s.merge({tableName:"stockingdetails"},{attributes:{stockingDetailUUId:{type:n.STRING(36),allowNull:false,unique:true},breedId:{type:n.BIGINT(20),primaryKey:true},stockingId:{type:n.BIGINT(20),primaryKey:true},stockingQuantity:{type:n.BIGINT(20)},phFirst:{type:n.FLOAT,allowNull:true},salinityFirst:{type:n.FLOAT,allowNull:true},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"stockingdetails"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.storagesOptions=o.merge({tableName:"storages"},{attributes:{storageId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},storageUUId:{type:n.STRING(36),allowNull:false,unique:true},ownerId:{type:n.BIGINT(20),allowNull:false},productName:{type:n.STRING(100)},quantityStorages:{type:n.DOUBLE},unit:{type:n.INTEGER(1)},type:{type:n.INTEGER(1)},descriptions:{type:n.TEXT},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"storages"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);var o=r(8);t.storageOwnerOptions=s.merge({tableName:"storageowner"},{attributes:{storageOwnerId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},userId:{type:n.BIGINT(20),allowNull:false},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"storageowner"}},s.cloneDeep(o.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.takecareOptions=o.merge({tableName:"takecare"},{attributes:{takeCareId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},takeCareUUId:{type:n.STRING(36),allowNull:false,unique:true},seasonAndPondId:{type:n.BIGINT(20),allowNull:false},type:{type:n.INTEGER(1),allowNull:false},takeCareName:{type:n.STRING(100),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"takecare"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.userOptions=o.merge({tableName:"users"},{attributes:{userId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},userUUId:{type:n.STRING(36),allowNull:false,unique:true},firstname:{type:n.STRING(50)},lastname:{type:n.STRING(50)},birthday:{type:n.DATE,allowNull:true},addressContact:{type:n.STRING,allowNull:true},username:{type:n.STRING(50),allowNull:false,unique:true},password:{type:n.STRING(100)},town:{type:n.STRING(50),allowNull:true},district:{type:n.STRING(50),allowNull:true},province:{type:n.STRING(5),allowNull:true},status:{type:n.INTEGER(1),allowNull:false,defaultValue:0},phone:{type:n.STRING(15),allowNull:true},email:{type:n.STRING(100),allowNull:true},images:{type:n.TEXT({length:"1000"}),allowNull:true},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},updatedDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"users"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.userrolesOptions=o.merge({tableName:"userroles"},{attributes:{rolesId:{type:n.BIGINT(20),primaryKey:true,autoIncrement:true},bossId:{type:n.BIGINT(20),allowNull:false,unique:true,index:true},userId:{type:n.BIGINT(20),allowNull:false,unique:true},roles:{type:n.INTEGER(11),unique:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},updatedBy:{type:n.STRING(36),allowNull:true},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"userroles"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.usingfoodOptions=o.merge({tableName:"usingfoods"},{attributes:{usingFoodId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},usingFoodUUId:{type:n.STRING(36),allowNull:false,unique:true},takeCareId:{type:n.BIGINT(20),allowNull:false},storageId:{type:n.BIGINT(20),allowNull:false},massOfFishery:{type:n.FLOAT},feedingRate:{type:n.FLOAT},totalFood:{type:n.FLOAT},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"usingfoods"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(2);var o=r(3);var i=r(8);t.usingveterinaryOptions=o.merge({tableName:"usingveterinary"},{attributes:{usingVeterinaryId:{autoIncrement:true,type:n.BIGINT(20),primaryKey:true},usingVeterinaryUUId:{type:n.STRING(36),allowNull:false,unique:true},takeCareId:{type:n.BIGINT(20),allowNull:false},storageId:{type:n.BIGINT(20),allowNull:false},causesNSymptoms:{type:n.STRING},averageSize:{type:n.FLOAT},totalBiomass:{type:n.FLOAT},quantity:{type:n.FLOAT},result:{type:n.STRING(100)},latestHarvestDate:{type:n.INTEGER(11),allowNull:true},mentor:{type:n.STRING(50),allowNull:true},createdBy:{type:n.STRING(36),allowNull:true},createdDate:{type:n.DATE,allowNull:true,defaultValue:function(){return s.DateUtil.getUTCDateTime()}},isDeleted:{type:n.INTEGER(1),defaultValue:0,allowNull:true}},options:{tableName:"usingveterinary"}},o.cloneDeep(i.baseModel))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var s=r(3);t.wardOptions=s.merge({tableName:"ward"},{attributes:{wardid:{type:n.STRING(5),primaryKey:true},name:{type:n.STRING(100)},type:{type:n.STRING(30)},location:{type:n.STRING(30)},districtid:{type:n.STRING(5),allowNull:false}},options:{tableName:"ward",createdAt:false,updatedAt:false,deletedAt:false,defaultScope:{},scopes:{}}})},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(124);var a=r(14);var u=r(9);var c=r(126);var l=r(229);var d=r(231);var f=r(233);var p=r(235);var h=r(237);var y=r(239);var g=r(245);var b=r(247);var v=r(249);var m=r(251);var _=r(253);var O=r(255);var P=r(257);var I=r(259);var S=r(261);var A=r(263);var D=r(265);var w=r(267);var j=r(269);var U=r(271);var N=r(273);var E=r(275);var T=r(277);var R=r(279);var B=function(e){n(t,e);function t(){var t=e.call(this)||this;t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!this.instance){this.instance=new t}return this.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){console.log("\n"+a.colorCli.YELLOW+"###################################################\n"+a.colorCli.YELLOW+"##         WELCOME TO VIETNAM FISHERY API        ##\n"+a.colorCli.YELLOW+"##             Creating api routes...            ##\n"+a.colorCli.YELLOW+"###################################################\n");this.router.get("/",this.get);this.router.use(_.BreedRoute.path,_.BreedRoute.router);this.router.use(R.CostsRoute.path,R.CostsRoute.router);this.router.use(P.DiedFisheryRoute.path,P.DiedFisheryRoute.router);this.router.use(p.DistrictRoute.path,p.DistrictRoute.router);this.router.use(d.GetFileRoute.path,d.GetFileRoute.router);this.router.use(I.GrowthsRoute.path,I.GrowthsRoute.router);this.router.use(S.HarvestRoute.path,S.HarvestRoute.router);this.router.use(w.MaterialRoute.path,w.MaterialRoute.router);this.router.use(N.PondDiaryRoute.path,N.PondDiaryRoute.router);this.router.use(b.PondPrepareRoute.path,b.PondPrepareRoute.router);this.router.use(v.PondPrepareDetailRoute.path,v.PondPrepareDetailRoute.router);this.router.use(y.PondRoute.path,y.PondRoute.router);this.router.use(D.PondUserRolesRoute.path,D.PondUserRolesRoute.router);this.router.use(f.ProvinceRoute.path,f.ProvinceRoute.router);this.router.use(j.SeasonAndPondRoute.path,j.SeasonAndPondRoute.router);this.router.use(g.SeasonRoute.path,g.SeasonRoute.router);this.router.use(O.StockingRoute.path,O.StockingRoute.router);this.router.use(m.StorageRoute.path,m.StorageRoute.router);this.router.use(E.TakeCareRoute.path,E.TakeCareRoute.router);this.router.use(l.UploadRoute.path,l.UploadRoute.router);this.router.use(A.UserRoleRoute.path,A.UserRoleRoute.router);this.router.use(c.UserRoute.path,c.UserRoute.router);this.router.use(U.UsingFoodRoute.path,U.UsingFoodRoute.router);this.router.use(T.UsingVeterinaryRoute.path,T.UsingVeterinaryRoute.router);this.router.use(h.WardRoute.path,h.WardRoute.router);console.log("\n"+a.colorCli.CYAN+"###################################################\n"+a.colorCli.CYAN+"##        Total endpoints of api is: "+a.colorCli.YELLOW+u.BaseRoute.countEndpoints+a.colorCli.CYAN+"         ##\n"+a.colorCli.CYAN+"###################################################\n")};t.prototype.get=function(e,t,r){return s(this,void 0,void 0,function(){return o(this,function(e){t.status(i.OK).render("index");return[2]})})};t.path="/api/v1";return t}(u.BaseRoute);t.ApiRoutes=B},function(e,t){e.exports=require("http-status-codes")},function(e,t){e.exports=require("is-my-json-valid")},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(127))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(10);var c=r(1);var l=r(12);var d=r(2);var f=r(28);var p=r(13);var h=r(1);var y=r(11);var g=r(17);var b=function(e){n(t,e);function t(){var t=e.call(this)||this;t.cert=g.readFileSync(process.cwd()+"/authKey/jwtRS256.key");t.userRolesServices=new i.UserRolesServices;t.provinceServices=new i.ProvinceServices;t.districtServives=new i.DistrictServives;t.wardServices=new i.WardServices;t.pondsServices=new i.PondsServices;t.userServives=new i.UserServives;t.pondUserRolesServices=new i.PondUserRolesServices;t.register=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,i,a,c,d,f;var p=this;return o(this,function(y){t=new u.User;n=e.body,i=n.firstname,a=n.lastname,c=n.username,d=n.password;t.setUserUUId=l();t.setFirstname=i;t.setLastname=a;t.setUsername=c;f=t.hashPassword(d);t.setPassword=f;t.setImages=h.defaultImage.userImage;return[2,this.sequeliz.transaction().then(function(e){return s(p,void 0,void 0,function(){var n,s,i,a,c;return o(this,function(o){switch(o.label){case 0:return[4,t.userServices.models.create(t,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Tên người dùng đã được sử dụng, vui lòng thử tên khác."});return e.rollback()})];case 1:n=o.sent();if(!n.userId)return[3,4];s=new u.OwnerStorage;s.setOwnerStorages(null,n.userId);i=new u.OwnerBreed;i.setOwnerBreed(null,n.userId);return[4,s.storegeOwnwerServices.models.create(s,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback()})];case 2:a=o.sent();return[4,i.breedOwnwerServices.models.create(i,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback()})];case 3:c=o.sent();if(a&&c){r.status(200).json({success:true,message:"Tạo tài khoản thành công, vui lòng đợi trong khi chúng tôi chuyển bạn về trang trước..."});e.commit()}else{r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback()}o.label=4;case 4:return[2]}})})})]})})};t.login=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;var a=this;return o(this,function(o){t=new u.User;n=e.body,s=n.username,i=n.password;t.setUsername=s;t.setPassword=i;t.userServices.models.findOne({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_USER,required:false,attributes:["userId","roles","bossId"]},{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,attributes:["userId","roles"]},{model:this.pondUserRolesServices.models,as:c.ActionAssociateDatabase.USER_2_POND_USER_ROLE,required:false,attributes:["userId","pondId"],include:[{model:this.pondsServices.models,as:c.ActionAssociateDatabase.POND_USER_ROLE_2_POND,attributes:["pondUUId"]}]}],where:{username:s},attributes:["userId","userUUId","lastname","firstname","username","password","createdDate","createdBy"]}).then(function(e){if(!e){r.json({success:false,message:"Sai tài khoản, mật khẩu, vui lòng thử lại!"})}else{d.Enscrypts.compare(t.getPassword,e.password).then(function(t){if(t){delete e.dataValues.password;var n=e.dataValues;n.isLogin=true;var s=f.sign(n,a.cert,{algorithm:"RS512"});r.json({success:true,token:s})}else{r.json({success:false,message:"Sai tài khoản, mật khẩu, vui lòng thử lại!"})}}).catch(function(e){r.json({success:false,message:"Sai tài khoản, mật khẩu, vui lòng thử lại!"})})}}).catch(function(e){r.json({success:false,message:"Sai tài khoản, mật khẩu, vui lòng thử lại!"})});return[2]})})};t.getUserInfo=function(e,r){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){t=new u.User;n=e.headers.authorization.split(" ")[1];s=y.Authentication.detoken(n);i=s.userId;t.userServices.models.findOne({include:[{model:this.provinceServices.models,as:c.ActionAssociateDatabase.USER_2_PRO},{model:this.districtServives.models,as:c.ActionAssociateDatabase.USER_2_DIS},{model:this.wardServices.models,as:c.ActionAssociateDatabase.USER_2_WAR}],where:{userId:i}}).then(function(e){if(!e){r.json({success:false,message:"Có lỗi xảy ra vui lòng thử lại!"})}else{delete e.dataValues["password"];r.json(e.dataValues)}}).catch(function(e){r.json({success:false,message:"Có lỗi xảy ra vui lòng thử lại!"})});return[2]})})};t.getUserInfoWithUpdate=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=new u.User;n=e.headers.authorization.split(" ")[1];s=y.Authentication.detoken(n);t.setUsername=s.username;t.login().then(function(e){if(!e){r.json({success:false,message:"Có lỗi xảy ra vui lòng thử lại!"})}else{delete e["password"];r.json(e)}}).catch(function(e){r.json({success:false,message:"Có lỗi xảy ra vui lòng thử lại!"})});return[2]})})};t.updateUserProfile=function(e,r,n){return s(t,void 0,void 0,function(){var t,s,i,a,c,l,d,f,h,g,b,v,m;return o(this,function(o){t=new u.User;s=e.headers.authorization.split(" ")[1];i=y.Authentication.detoken(s);a=e.body,c=a.firstname,l=a.lastname,d=a.birthday,f=a.email,h=a.phone,g=a.town,b=a.district,v=a.province,m=a.images;t.setUser(i.userId,undefined,c,l,undefined,null,d,f,h,undefined,g,b,v,null,m,undefined,undefined,undefined,undefined,undefined);if(e.files){p.GoogleDrive.upload(e,r,n).then(function(e){if(e.fileId){t.setImages=e.fileId;t.updateMyProfile().then(function(t){if(Array.isArray(t)){r.status(200).json({success:true,fileId:e.fileId,message:"Hồ sơ đã được cập nhật."})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!",error:e})})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!"})}})}else{t.updateMyProfile().then(function(e){if(Array.isArray(e)){r.status(200).json({success:true,message:"Hồ sơ đã được cập nhật."})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!",error:e})})}return[2]})})};t.updateUserPassword=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,c;return o(this,function(o){t=new u.User;n=e.body,s=n.oldPassword,i=n.newPassword;a=e.headers.authorization.split(" ")[1];c=y.Authentication.detoken(a);t.setUsername=c.username;t.login().then(function(e){d.Enscrypts.compare(s,e.password).then(function(e){if(!e){r.status(200).json({success:false,message:"Sai mật khẩu cũ!"})}else{t.setUserId=c.userId;t.setPassword=i;t.changePassword().then(function(e){r.status(200).json({success:true,message:"Thực hiện thành công, vui lòng đợi hệ thống chuyển sang trang trước."})}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra vui lòng thử lại!",error:e})})}})});return[2]})})};t.regiterEmployee=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,i,a,c,d,f,p,g,b;var v=this;return o(this,function(m){t=new u.User;n=e.headers.authorization.split(" ")[1];i=y.Authentication.detoken(n);a=e.body,c=a.username,d=a.password,f=a.firstname,p=a.lastname,g=a.roles;t.setUserUUId=l();t.setFirstname=f;t.setLastname=p;t.setUsername=c;b=t.hashPassword(d);t.setPassword=b;t.setImages=h.defaultImage.userImage;t.setCreatedBy=i.userUUId;return[2,this.sequeliz.transaction().then(function(e){return s(v,void 0,void 0,function(){var n,s,a;return o(this,function(o){switch(o.label){case 0:return[4,t.userServices.models.create(t,{transaction:e}).catch(function(e){r.status(200).json({success:false,message:"Tên người dùng đã được sử dụng, vui lòng thử tên khác."})})];case 1:n=o.sent();if(!n)return[3,3];s=new u.UserRole;s.setUserRoles(null,i.userId,n.userId,g);return[4,s.userRolesServices.models.create(s,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback()})];case 2:a=o.sent();if(a){r.status(200).json({success:true,message:"Tạo tài khoản thành công, vui lòng đợi trong khi chúng tôi chuyển bạn về trang trước..."});e.commit()}else{r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback()}return[3,4];case 3:r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thực hiện lại."});e.rollback();o.label=4;case 4:return[2]}})})})]})})};t.getEmployee=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,i,a,l;var d=this;return o(this,function(f){i=new u.User;a=e.headers.authorization.split(" ")[1];l=y.Authentication.detoken(a);i.userServices.models.findAll({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_USER,where:(t={bossId:l.userId},t[this.userRolesServices.Op.and]={userId:(n={},n[this.userRolesServices.Op.ne]=l.userId,n)},t)}]}).then(function(e){return s(d,void 0,void 0,function(){return o(this,function(t){r.status(200).json({success:true,message:"",employees:e});return[2]})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi không mong muốn, vui lòng thử lại."});throw e});return[2]})})};t.getEmplyeeById=function(e,r,n){return s(t,void 0,void 0,function(){var t,n;return o(this,function(s){t=e.headers.rolesid;n=new u.User;this.userRolesServices.models.findOne({include:[{model:n.userServices.models,as:c.ActionAssociateDatabase.USER_ROLES_2_USER}],where:{rolesId:t*1}}).then(function(e){r.status(200).json({success:true,message:"",roles:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thực hiện lại..."})});return[2]})})};t.insertOnlyRole=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,c;return o(this,function(o){t=new u.UserRole;n=e.body,s=n.userId,i=n.roles;a=e.headers.authorization.split(" ")[1];c=y.Authentication.detoken(a);t.setBossId=c.userId;t.setUserId=s;t.setRoles=i;t.userRolesServices.models.upsert(t.getFields(t)).then(function(e){r.status(200).json({success:true,message:"Phân quyền thành công."})}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thực hiện lại..."})});return[2]})})};t.updateEmployee=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a;return o(this,function(o){t=new u.UserRole;n=e.body,s=n.rolesId,i=n.roles,a=n.isDeleted;t.setRolesId=s;t.setRoles=i;t.setIsDeleted=a;t.update().then(function(e){if(e.length>0){r.status(200).json({success:true,message:"Cập nhật thành công."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thực hiện lại..."})});return[2]})})};t.getEmployeesPondRole=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=new u.User;n=e.headers.authorization.split(" ")[1];s=y.Authentication.detoken(n);t.userServices.models.findAll({include:[{model:this.pondsServices.models,through:{where:{isDeleted:0}},as:c.ActionAssociateDatabase.USER_2_POND_MANY_ROLES,where:{userId:s.userId}}]}).then(function(e){if(e.length>0){r.status(200).json({success:true,message:"",employees:e})}else{r.status(200).json({success:false,message:"Bạn không có nhân viên có quyền quản lý ao."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.getAllPondAndEmployees=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=new u.User;n=e.headers.authorization.split(" ")[1];s=y.Authentication.detoken(n);t.userServices.models.findOne({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_ROLES_2_USER_BOSS,where:{roles:1},attributes:["userId"],include:[{model:t.userServices.models,as:c.ActionAssociateDatabase.USER_ROLES_2_USER,attributes:["userId","userUUId","username","lastname","firstname"]}]},{model:this.pondsServices.models,as:c.ActionAssociateDatabase.USER_2_POND}],where:{userId:s.userId},attributes:[]}).then(function(e){r.status(200).json({success:true,message:"",user:e})}).catch(function(e){console.log(e);r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.getEmployeesWithoutIsDelete=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.headers.authorization.split(" ")[1];n=y.Authentication.detoken(t);s=new u.User;s.userServices.models.findAll({where:{createdBy:n.userUUId}}).then(function(e){r.status(200).json({success:true,message:"",employees:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.vertify=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=e.headers.authorization.split(" ")[1];f.verify(t,y.Authentication.cert,{algorithms:["RS512","RS256"]},function(e,t){if(e){r.status(200).json({success:false,message:"Bạn cần đăng nhập để tiếp tục."})}else{r.status(200).json({success:true,message:"Đăng nhập thành công!"})}});return[2]})})};t.vertifyBoss=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.headers.authorization.split(" ")[1];if(!t){return[2,r.status(200).json({success:false,message:"",isBoss:false})]}n=y.Authentication.detoken(t);s=n.userId;this.userServives.models.findOne({where:{userId:s,createdBy:null}}).then(function(e){if(e){r.status(200).json({success:true,message:"",isBoss:true})}else{r.status(200).json({success:false,message:"",isBoss:false})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})});return[2]})})};t.vertifyPondRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){n=e.headers.authorization.split(" ")[1];if(!n){return[2,r.status(200).json({success:false,message:""})]}s=y.Authentication.detoken(n);i=s.userId;this.userServives.models.findAll({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_USER,required:false}],where:(t={},t[this.sequeliz.Op.or]=[{"$roles.roles$":1,userId:i},{userId:i,createdBy:null}],t)}).then(function(e){if(e.length){r.status(200).json({success:true,message:""})}else{r.status(200).json({success:false,message:""})}}).catch(function(e){e;r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})});return[2]})})};t.vertifyStorageRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){n=e.headers.authorization.split(" ")[1];if(!n){return[2,r.status(200).json({success:false,message:""})]}s=y.Authentication.detoken(n);i=s.userId;this.userServives.models.findAll({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_USER,required:false}],where:(t={},t[this.sequeliz.Op.or]=[{"$roles.roles$":2,userId:i},{userId:i,createdBy:null}],t)}).then(function(e){if(e.length){r.status(200).json({success:true,message:""})}else{r.status(200).json({success:false,message:""})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})});return[2]})})};t.vertifyRolesOfPond=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){t=e.params.pondUUId;n=e.headers.authorization.split(" ")[1];if(!n){return[2,r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})]}s=y.Authentication.detoken(n);i=s.userId;this.pondUserRolesServices.models.findAll({include:[{model:this.pondsServices.models,as:c.ActionAssociateDatabase.POND_USER_ROLE_2_POND,where:{pondUUId:t}}],where:{userId:i}}).then(function(e){if(e.length){r.status(200).json({success:true,message:""})}else{r.status(200).json({success:false,message:""})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[UserRoute] Creating user route.");this.router.get("/vertify",this.vertify);this.router.get("/vertify/boss",this.vertifyBoss);this.router.get("/vertify/roles/storage",this.vertifyStorageRoles);this.router.get("/vertify/roles/pond",this.vertifyPondRoles);this.router.get("/vertify/roles/pond/:pondUUId",this.vertifyRolesOfPond);this.router.post("/register",this.register);this.router.post("/login",this.login);this.router.get("/get",y.Authentication.isLogin,this.getUserInfo);this.router.get("/getWithUpdate",y.Authentication.isLogin,this.getUserInfoWithUpdate);this.router.put("/update",y.Authentication.isLogin,this.updateUserProfile);this.router.put("/update/password",y.Authentication.isLogin,this.updateUserPassword);this.router.post("/register/employee",y.Authentication.isLogin,this.regiterEmployee);this.router.get("/gets/employees",y.Authentication.isLogin,this.getEmployee);this.router.get("/gets/employees/withoutIsDelete",y.Authentication.isLogin,this.getEmployeesWithoutIsDelete);this.router.get("/get/employee",y.Authentication.isLogin,this.getEmplyeeById);this.router.get("/gets/employees/pond",y.Authentication.isLogin,this.getEmployeesPondRole);this.router.get("/gets/all/employees/pond",y.Authentication.isLogin,this.getAllPondAndEmployees);this.router.put("/update/employee",y.Authentication.isLogin,this.updateEmployee);this.router.post("/insert/employee/role",y.Authentication.isLogin,this.insertOnlyRole);this.logEndpoints(this.router,t.path)};t.path="/user";return t}(a.BaseRoute);t.UserRoute=b},function(e,t){e.exports=require("winston")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(130);t.fileFilter=function(e,t,r){if(!t.originalname.match(/\.(jpg|jpeg|png|gif|xlsx|xls|csv|zip)$/)){return r(new Error("File format not allowed!"),false)}r(undefined,true)};t.cleanFolder=function(e){n.sync([e+"/**","!"+e])}},function(e,t){e.exports=require("del")},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(132))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.boughtBreedServives=new o.BoughtBreedServives;t.services=t.boughtBreedServives;return t}Object.defineProperty(t.prototype,"setBoughtBreedId",{set:function(e){this.boughtBreedId=e?e:null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBoughtBreedUUId",{set:function(e){this.boughtBreedUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonId",{set:function(e){this.seasonId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setBoughtBreeds=function(e,t,r,n,s,o,i){this.setBoughtBreedId=e;this.setBoughtBreedUUId=t;this.setUserId=r;this.setSeasonId=n;this.setCreatedBy=s;this.setCreatedDate=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getBoughtBreedId",{get:function(){return this.boughtBreedId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBoughtBreedUUId",{get:function(){return this.boughtBreedUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonId",{get:function(){return this.seasonId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.BoughtBreed=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(134))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.boughtBreedDetailsServives=new o.BoughtBreedDetailsServives;t.services=t.boughtBreedDetailsServives;return t}Object.defineProperty(t.prototype,"setBoughtBreedDetailId",{set:function(e){this.boughtBreedDetailId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBoughtBreedDetailUUId",{set:function(e){this.boughtBreedDetailUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCouponId",{set:function(e){this.couponId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBreedId",{set:function(e){this.breedId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnit",{set:function(e){this.unit=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnitPrice",{set:function(e){this.unitPrice=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSoldAddress",{set:function(e){this.soldAddress=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTestingAgency",{set:function(e){this.testingAgency=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDescriptions",{set:function(e){this.descriptions=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setBoughtBreedDetails=function(e,t,r,n,s,o,i,a,u,c,l){this.setBoughtBreedDetailId=e;this.setBoughtBreedDetailUUId=t;this.setCouponId=r;this.setBreedId=n;this.setQuantity=s;this.setUnit=o;this.setUnitPrice=i;this.setSoldAddress=a;this.setTestingAgency=u;this.setDescriptions=c;this.setIsDeleted=l};Object.defineProperty(t.prototype,"getBoughtBreedDetailId",{get:function(){return this.boughtBreedDetailId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBoughtBreedDetailUUId",{get:function(){return this.boughtBreedDetailUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCouponId",{get:function(){return this.couponId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBreedId",{get:function(){return this.breedId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnit",{get:function(){return this.unit},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnitPrice",{get:function(){return this.unitPrice},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSoldAddress",{get:function(){return this.soldAddress},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTestingAgency",{get:function(){return this.testingAgency},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDescriptions",{get:function(){return this.descriptions},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.BoughtBreedDetail=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(136))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.breedServives=new o.BreedServives;t.services=t.breedServives;return t}Object.defineProperty(t.prototype,"setBreedId",{set:function(e){this.breedId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBreedUUId",{set:function(e){this.breedUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setOwnerId",{set:function(e){this.ownerId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBreedName",{set:function(e){this.breedName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTotalQuantity",{set:function(e){this.totalQuantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnit",{set:function(e){this.unit=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLoopOfBreed",{set:function(e){this.loopOfBreed=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTips",{set:function(e){this.tips=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setBreed=function(e,t,r,n,s,o,i,a,u,c){this.setBreedId=e;this.setBreedUUId=t;this.setOwnerId=r;this.setBreedName=n;this.setTotalQuantity=s;this.setUnit=o;this.setLoopOfBreed=i;this.setTips=a;this.setCreatedDate=u;this.setIsDeleted=c};Object.defineProperty(t.prototype,"getBreedId",{get:function(){return this.breedId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBreedUUId",{get:function(){return this.breedUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getOwnerId",{get:function(){return this.ownerId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBreedName",{get:function(){return this.breedName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTotalQuantity",{get:function(){return this.totalQuantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnit",{get:function(){return this.unit},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLoopOfBreed",{get:function(){return this.loopOfBreed},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTips",{get:function(){return this.tips},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Breed=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(138))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.breedOwnwerServices=new o.BreedOwnwerServices;t.services=t.breedOwnwerServices;return t}Object.defineProperty(t.prototype,"setOwnerId",{set:function(e){this.ownerId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setOwnerBreed=function(e,t,r){this.setOwnerId=e;this.setUserId=t;this.setIsDeleted=r};Object.defineProperty(t.prototype,"getOwnerId",{get:function(){return this.ownerId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.OwnerBreed=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(140))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.costsServives=new o.CostsServives;t.services=t.costsServives;return t}Object.defineProperty(t.prototype,"setCostId",{set:function(e){this.costId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCostUUId",{set:function(e){this.costUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondPrepareId",{set:function(e){this.pondPrepareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLabel",{set:function(e){this.label=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setValue",{set:function(e){this.value=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setResponsible",{set:function(e){this.responsible=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setNotes",{set:function(e){this.notes=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setCost=function(e,t,r,n,s,o,i,a,u,c,l,d){this.setCostId=e;this.setCostUUId=t;this.setPondPrepareId=r;this.setLabel=n;this.setValue=s;this.setResponsible=o;this.setNotes=i;this.setCreatedBy=a;this.setCreatedDate=u;this.setUpdatedBy=c;this.setUpdatedDate=l;this.setIsDeleted=d};Object.defineProperty(t.prototype,"getCostId",{get:function(){return this.costId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCostUUId",{get:function(){return this.costUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondPrepareId",{get:function(){return this.pondPrepareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLabel",{get:function(){return this.label},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getValue",{get:function(){return this.value},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getResponsible",{get:function(){return this.responsible},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getNotes",{get:function(){return this.notes},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Cost=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(142))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.couponServives=new o.CouponServives;t.services=t.couponServives;return t}Object.defineProperty(t.prototype,"setCouponId",{set:function(e){this.couponId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonId",{set:function(e){this.seasonId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setCoupon=function(e,t,r,n,s){this.setCouponId=e;this.setUserId=t;this.setSeasonId=r;this.setCreatedDate=n;this.setIsDeleted=s};Object.defineProperty(t.prototype,"getCouponId",{get:function(){return this.couponId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonId",{get:function(){return this.seasonId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Coupon=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(144))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.diedFisherysServives=new o.DiedFisherysServives;t.services=t.diedFisherysServives;return t}Object.defineProperty(t.prototype,"setDiedFisheryId",{set:function(e){this.diedFisheryId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDiedFisheryUUId",{set:function(e){this.diedFisheryUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCard",{set:function(e){this.card=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSolutions",{set:function(e){this.solutions=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setEmployee",{set:function(e){this.employee=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setDiedfisherys=function(e,t,r,n,s,o,i,a,u,c,l,d){this.setDiedFisheryId=e;this.setDiedFisheryUUId=t;this.setSeasonAndPondId=r;this.setCard=n;this.setQuantity=s;this.setSolutions=o;this.setEmployee=i;this.setCreatedBy=a;this.setCreatedDate=u;this.setUpdatedBy=c;this.setUpdatedDate=l;this.setIsDeleted=d};Object.defineProperty(t.prototype,"getDiedFisheryId",{get:function(){return this.diedFisheryId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDiedFisheryUUId",{get:function(){return this.diedFisheryUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCard",{get:function(){return this.card},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSolutions",{get:function(){return this.solutions},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getEmployee",{get:function(){return this.employee},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.DiedFishery=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.districtServives=new o.DistrictServives;t.services=t.districtServives;return t}t.prototype.setDistrictid=function(e){this.districtid=e};t.prototype.setName=function(e){this.name=e};t.prototype.setType=function(e){this.type=e};t.prototype.setLocation=function(e){this.location=e};t.prototype.setProvinceid=function(e){this.provinceid=e};Object.defineProperty(t.prototype,"getDistrictId",{get:function(){return this.districtid},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDistrictName",{get:function(){return this.name},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDistrictType",{get:function(){return this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDistrictLocation",{get:function(){return this.location},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getProvinceIdWithDistrict",{get:function(){return this.provinceid},enumerable:true,configurable:true});t.prototype.getAllDistrict=function(){var e=this;return new Promise(function(t,r){e.districtServives.getAll(null).then(function(e){t(e)})})};t.prototype.getDistrictByProvinceId=function(e){var t=this;return new Promise(function(r,n){t.districtServives.getByProviceId(e).then(function(e){r(e)})})};return t}(s.BaseComponent);t.District=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(147))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.growthsServives=new o.GrowthsServives;t.services=t.growthsServives;return t}Object.defineProperty(t.prototype,"setGrowthId",{set:function(e){this.growthId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setGrowthUUId",{set:function(e){this.growthUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setAverageDensity",{set:function(e){this.averageDensity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setAverageMass",{set:function(e){this.averageMass=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSpeedOdGrowth",{set:function(e){this.speedOdGrowth=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLivingRatio",{set:function(e){this.livingRatio=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setGrowths=function(e,t,r,n,s,o,i,a,u,c,l,d){this.setGrowthId=e;this.setGrowthUUId=t;this.seasonAndPondId=r;this.setAverageDensity=n;this.setAverageMass=s;this.setSpeedOdGrowth=o;this.setLivingRatio=i;this.setCreatedBy=a;this.setCreatedDate=u;this.setUpdatedBy=c;this.setUpdatedDate=l;this.setIsDeleted=d};Object.defineProperty(t.prototype,"getGrowthId",{get:function(){return this.growthId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getGrowthUUId",{get:function(){return this.growthUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getAverageDensity",{get:function(){return this.averageDensity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getAverageMass",{get:function(){return this.averageMass},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSpeedOdGrowth",{get:function(){return this.speedOdGrowth},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLivingRatio",{get:function(){return this.livingRatio},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Growth=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(149))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.harvestDetailsServives=new o.HarvestDetailsServives;t.services=t.harvestDetailsServives;return t}Object.defineProperty(t.prototype,"setHarvestIdDetailUUId",{set:function(e){this.harvestDetailUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setHarvestId",{set:function(e){this.harvestId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnitPrice",{set:function(e){this.unitPrice=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setHarvestdetails=function(e,t,r,n,s){this.setHarvestIdDetailUUId=e;this.setHarvestId=t;this.setQuantity=r;this.setUnitPrice=n;this.setIsDeleted=s};Object.defineProperty(t.prototype,"getHarvestDetailUUId",{get:function(){return this.harvestDetailUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getHarvestId",{get:function(){return this.harvestId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnitPrice",{get:function(){return this.unitPrice},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.HarvestDetail=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(151))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.harvestsServives=new o.HarvestsServives;t.services=t.harvestsServives;return t}Object.defineProperty(t.prototype,"setHarvestId",{set:function(e){this.harvestId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setHarvestUUId",{set:function(e){this.harvestUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setHarvestName",{set:function(e){this.harvestName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setHarvests=function(e,t,r,n,s,o){this.setHarvestId=e;this.setHarvestUUId=t;this.setSeasonAndPondId=r;this.setHarvestName=n;this.setCreatedDate=s;this.setIsDeleted=o};Object.defineProperty(t.prototype,"getHarvestId",{get:function(){return this.harvestId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getHarvestUUId",{get:function(){return this.harvestUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getsetSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getHarvestName",{get:function(){return this.harvestName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Harvest=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(153))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.materialServives=new o.MaterialServives;t.services=t.materialServives;return t}Object.defineProperty(t.prototype,"setMaterialId",{set:function(e){this.materialId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setMaterialUUId",{set:function(e){this.materialUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCouponId",{set:function(e){this.couponId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStorageId",{set:function(e){this.storageId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setProvider",{set:function(e){this.provider=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setProviderAddress",{set:function(e){this.providerAddress=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnit",{set:function(e){this.unit=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnitPrice",{set:function(e){this.unitPrice=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setMaterial=function(e,t,r,n,s,o,i,a,u,c){this.setMaterialId=e;this.setMaterialUUId=t;this.setCouponId=r;this.setStorageId=n;this.setProvider=s;this.setProviderAddress=o;this.setQuantity=i;this.setUnit=a;this.setUnitPrice=u;this.setIsDeleted=c};Object.defineProperty(t.prototype,"getMaterialId",{get:function(){return this.materialId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getMaterialUUId",{get:function(){return this.materialUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCouponId",{get:function(){return this.couponId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStorageId",{get:function(){return this.storageId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getProvider",{get:function(){return this.provider},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getProviderAddress",{get:function(){return this.providerAddress},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnit",{get:function(){return this.unit},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnitPrice",{get:function(){return this.unitPrice},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Material=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(155))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondEnvironmentsServices=new o.PondEnvironmentsServices;t.services=t.pondEnvironmentsServices;return t}Object.defineProperty(t.prototype,"setPondEnvironmentId",{set:function(e){this.pondEnvironmentId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondEnvironmentUUId",{set:function(e){this.pondEnvironmentUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setOxyMorning",{set:function(e){this.oxyMorning=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setOxyAfternoon",{set:function(e){this.oxyAfternoon=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPhMorning",{set:function(e){this.phMorning=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPhAfternoon",{set:function(e){this.phAfternoon=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTransparent",{set:function(e){this.transparent=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSalinity",{set:function(e){this.salinity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setH2s",{set:function(e){this.h2s=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setNh3",{set:function(e){this.nh3=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBazo",{set:function(e){this.bazo=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPondenvironments=function(e,t,r,n,s,o,i,a,u,c,l,d,f,p,h,y,g){this.setPondEnvironmentId=e;this.setPondEnvironmentUUId=t;this.setSeasonAndPondId=r;this.setOxyMorning=n;this.setOxyAfternoon=s;this.setPhMorning=o;this.setPhAfternoon=i;this.setTransparent=a;this.setSalinity=u;this.setH2s=c;this.setNh3=l;this.setBazo=d;this.setCreatedBy=f;this.setCreatedDate=p;this.setUpdatedBy=h;this.setUpdatedDate=y;this.setIsDeleted=g};Object.defineProperty(t.prototype,"getPondEnvironmentId",{get:function(){return this.pondEnvironmentId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondEnvironmentUUId",{get:function(){return this.pondEnvironmentUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getOxyMorning",{get:function(){return this.oxyMorning},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getOxyAfternoon",{get:function(){return this.oxyAfternoon},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPhMorning",{get:function(){return this.phMorning},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPhAfternoon",{get:function(){return this.phAfternoon},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTransparent",{get:function(){return this.transparent},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSalinity",{get:function(){return this.salinity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getH2s",{get:function(){return this.h2s},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getNh3",{get:function(){return this.nh3},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBazo",{get:function(){return this.bazo},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.PondEnvironment=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(157))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondUserRolesServices=new o.PondUserRolesServices;t.services=t.pondUserRolesServices;return t}Object.defineProperty(t.prototype,"setPondUserRolesId",{set:function(e){this.pondUserRolesId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondId",{set:function(e){this.pondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPondUserRoles=function(e,t,r,n,s){this.setPondUserRolesId=e;this.setUserId=t;this.setPondId=r;this.setCreatedDate=n;this.setIsDeleted=s};Object.defineProperty(t.prototype,"getPondUserRolesId",{get:function(){return this.pondUserRolesId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondId",{get:function(){return this.pondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.PondUserRole=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(159))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondDiaryServices=new o.PondDiaryServices;t.services=t.pondDiaryServices;return t}Object.defineProperty(t.prototype,"setPondDiaryId",{set:function(e){this.pondDiaryId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondDiaryUUId",{set:function(e){this.pondDiaryUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDiaryName",{set:function(e){this.diaryName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setFisheryQuantity",{set:function(e){this.fisheryQuantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setHealthOfFishery",{set:function(e){this.healthOfFishery=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondVolume",{set:function(e){this.pondVolume=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDiedFishery",{set:function(e){this.diedFishery=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setNotes",{set:function(e){this.notes=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPonddiary=function(e,t,r,n,s,o,i,a,u,c,l,d,f,p){this.setPondDiaryId=e;this.setPondDiaryUUId=t;this.setSeasonAndPondId=r;this.setDiaryName=n;this.setFisheryQuantity=s;this.setHealthOfFishery=o;this.setPondVolume=i;this.setDiedFishery=a;this.setNotes=u;this.setCreatedBy=c;this.setCreatedDate=l;this.setUpdatedBy=d;this.setUpdatedDate=f;this.setIsDeleted=p};Object.defineProperty(t.prototype,"getPondDiaryId",{get:function(){return this.pondDiaryId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondDiaryUUId",{get:function(){return this.pondDiaryUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDiaryName",{get:function(){return this.diaryName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getFisheryQuantity",{get:function(){return this.fisheryQuantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getHealthOfFishery",{get:function(){return this.healthOfFishery},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondVolume",{get:function(){return this.pondVolume},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDiedFishery",{get:function(){return this.diedFishery},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getNotes",{get:function(){return this.notes},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPrimary",{get:function(){return{pondDiaryId:this.getPondDiaryId}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.PondDiary=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(161))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondPrepareServices=new o.PondPrepareServices;t.services=t.pondPrepareServices;return t}Object.defineProperty(t.prototype,"setPondPrepareId",{set:function(e){this.pondPrepareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondPrepareUUId",{set:function(e){this.pondPrepareUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondprepareName",{set:function(e){this.pondprepareName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPondprepare=function(e,t,r,n,s,o,i,a,u){this.setPondPrepareId=e;this.setPondPrepareUUId=t;this.setSeasonAndPondId=r;this.setPondprepareName=n;this.setCreatedBy=s;this.setCreatedDate=o;this.setUpdatedBy=i;this.setUpdatedDate=a;this.setIsDeleted=u};Object.defineProperty(t.prototype,"getPondPrepareId",{get:function(){return this.pondPrepareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondPrepareUUId",{get:function(){return this.pondPrepareUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondprepareName",{get:function(){return this.pondprepareName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.PondPrepare=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(163))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondPrepareDetailsServices=new o.PondPrepareDetailsServices;t.services=t.pondPrepareDetailsServices;return t}Object.defineProperty(t.prototype,"setPondPrepareDetailId",{set:function(e){this.pondPrepareDetailId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondPrepareDetailUUId",{set:function(e){this.pondPrepareDetailUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondPrepareId",{set:function(e){this.pondPrepareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStorageId",{set:function(e){this.storageId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPondpreparedetails=function(e,t,r,n,s,o,i){this.setPondPrepareDetailUUId=t;this.setPondPrepareId=r;this.setStorageId=n;this.setPondPrepareDetailId=e;this.setQuantity=s;this.setCreatedDate=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getPondPrepareDetailUUId",{get:function(){return this.pondPrepareDetailUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondPrepareId",{get:function(){return this.pondPrepareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getMaterialId",{get:function(){return this.storageId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondPrepareDetailId",{get:function(){return this.pondPrepareDetailId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.PondPrepareDetail=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(165))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondsServices=new o.PondsServices;t.services=t.pondsServices;return t}Object.defineProperty(t.prototype,"setPondId",{set:function(e){this.pondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondUUId",{set:function(e){this.pondUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondName",{set:function(e){this.pondName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondArea",{set:function(e){this.pondArea=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondDepth",{set:function(e){this.pondDepth=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreateCost",{set:function(e){this.createCost=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondCreatedDate",{set:function(e){this.pondCreatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStatus",{set:function(e){this.status=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsFed",{set:function(e){this.isFed=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDiary",{set:function(e){this.isDiary=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setImages",{set:function(e){this.images=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondLatitude",{set:function(e){this.pondLatitude=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondLongitude",{set:function(e){this.pondLongitude=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPond=function(e,t,r,n,s,o,i,a,u,c,l,d,f,p,h,y,g,b,v){this.setPondId=e;this.setPondUUId=t;this.setUserId=r;this.setPondName=n;this.setPondArea=s;this.setPondDepth=o;this.setCreateCost=i;this.setStatus=u||u===0?u*1:null;this.setIsFed=c;this.setIsDiary=l;this.setImages=d;this.setPondLatitude=f;this.setPondLongitude=p;this.setPondCreatedDate=a;this.setCreatedBy=h;this.setCreatedDate=y;this.setUpdatedBy=g;this.setUpdatedDate=b;this.setIsDeleted=v};Object.defineProperty(t.prototype,"getPondId",{get:function(){return this.pondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondUUId",{get:function(){return this.pondUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondName",{get:function(){return this.pondName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondArea",{get:function(){return this.pondArea},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondDepth",{get:function(){return this.pondDepth},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreateCost",{get:function(){return this.createCost},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStatus",{get:function(){return this.pondCreatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsFed",{get:function(){return this.status},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDiary",{get:function(){return this.isFed},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getImages",{get:function(){return this.isDiary},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondLatitude",{get:function(){return this.images},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondLongitude",{get:function(){return this.pondLatitude},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondCreatedDate",{get:function(){return this.pondLongitude},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Pond=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(167))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pricesServices=new o.PricesServices;t.services=t.pricesServices;return t}Object.defineProperty(t.prototype,"setPriceId",{set:function(e){this.priceId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPriceUUId",{set:function(e){this.priceUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonId",{set:function(e){this.seasonId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTotalCost",{set:function(e){this.totalCost=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTotalProfit",{set:function(e){this.totalProfit=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setPrices=function(e,t,r,n,s,o,i){this.setPriceId=e;this.setPriceUUId=t;this.setSeasonId=r;this.setTotalCost=n;this.setTotalProfit=s;this.setCreatedDate=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getPriceId",{get:function(){return this.priceId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPriceUUId",{get:function(){return this.priceUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonId",{get:function(){return this.seasonId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTotalCost",{get:function(){return this.totalCost},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTotalProfit",{get:function(){return this.totalProfit},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Price=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.provinceServices=new o.ProvinceServices;return t}Object.defineProperty(t.prototype,"setProvinceid",{set:function(e){this.provinceid=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setName",{set:function(e){this.name=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setType",{set:function(e){this.type=e},enumerable:true,configurable:true});t.prototype.setProvince=function(e,t,r){this.setProvinceid=e;this.setName=t;this.setType=r};Object.defineProperty(t.prototype,"getProvinceid",{get:function(){return this.provinceid},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getName",{get:function(){return this.name},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getType",{get:function(){return this.type},enumerable:true,configurable:true});t.prototype.getAllProvince=function(){var e=this;return new Promise(function(t,r){e.provinceServices.getAll(null).then(function(e){t(e)})})};return t}(s.BaseComponent);t.Province=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(170))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonServices=new o.SeasonServices;t.services=t.seasonServices;return t}Object.defineProperty(t.prototype,"setSeasonId",{set:function(e){this.seasonId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonUUId",{set:function(e){this.seasonUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonName",{set:function(e){this.seasonName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStatus",{set:function(e){this.status=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setSeason=function(e,t,r,n,s,o,i){this.setSeasonId=e;this.setSeasonUUId=t;this.setUserId=r;this.setSeasonName=n;this.setStatus=s;this.setCreatedDate=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getSeasonId",{get:function(){return this.seasonId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonUUId",{get:function(){return this.seasonUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonName",{get:function(){return this.seasonName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStatus",{get:function(){return this.status},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPrimary",{get:function(){return{seasonId:this.seasonId}},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Season=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(172))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonAndPondServices=new o.SeasonAndPondServices;t.services=t.seasonAndPondServices;return t}Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonId",{set:function(e){this.seasonId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondId",{set:function(e){this.pondId=e},enumerable:true,configurable:true});t.prototype.setSeasonsAndPond=function(e,t,r){this.setSeasonAndPondId=e;this.setSeasonId=t;this.setPondId=r};Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonId",{get:function(){return this.seasonId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondId",{get:function(){return this.pondId},enumerable:true,configurable:true});return t}(s.BaseComponent);t.SeasonsAndPond=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(174))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.stockingServices=new o.StockingServices;t.services=t.stockingServices;return t}Object.defineProperty(t.prototype,"setStockingId",{set:function(e){this.stockingId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStockingUUId",{set:function(e){this.stockingUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setNotes",{set:function(e){this.notes=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setStocking=function(e,t,r,n,s,o){this.setStockingId=e;this.setStockingUUId=t;this.setSeasonAndPondId=r;this.setNotes=n;this.setCreatedDate=s;this.setIsDeleted=o};Object.defineProperty(t.prototype,"getStockingId",{get:function(){return this.stockingId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStockingUUId",{get:function(){return this.stockingUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getNotes",{get:function(){return this.notes},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Stocking=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(176))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.stockingDetailsServices=new o.StockingDetailsServices;t.services=t.stockingDetailsServices;return t}Object.defineProperty(t.prototype,"setStockingDetailUUId",{set:function(e){this.stockingDetailUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBreedId",{set:function(e){this.breedId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStockingId",{set:function(e){this.stockingId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStockingQuantity",{set:function(e){this.stockingQuantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPhFirst",{set:function(e){this.phFirst=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSalinityFirst",{set:function(e){this.salinityFirst=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setStockingdetails=function(e,t,r,n,s,o,i){this.setStockingDetailUUId=e;this.setBreedId=t;this.setStockingId=r;this.setStockingQuantity=n;this.setPhFirst=s;this.setSalinityFirst=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getStockingDetailUUId",{get:function(){return this.stockingDetailUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBreedId",{get:function(){return this.breedId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStockingId",{get:function(){return this.stockingId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStockingQuantity",{get:function(){return this.stockingQuantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPhFirst",{get:function(){return this.phFirst},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSalinityFirst",{get:function(){return this.salinityFirst},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.StockingDetail=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(178))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.storegeServices=new o.StoregeServices;t.services=t.storegeServices;return t}Object.defineProperty(t.prototype,"setStorageId",{set:function(e){this.storageId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStorageUUId",{set:function(e){this.storageUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setOwnerId",{set:function(e){this.ownerId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setProductName",{set:function(e){this.productName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantityStorages",{set:function(e){this.quantityStorages=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUnit",{set:function(e){this.unit=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setType",{set:function(e){this.type=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDescriptions",{set:function(e){this.descriptions=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setStorages=function(e,t,r,n,s,o,i,a,u,c){this.setStorageId=e;this.setStorageUUId=t;this.setOwnerId=r;this.setProductName=n;this.setQuantityStorages=s;this.setUnit=o;this.setType=i;this.setDescriptions=a;this.setCreatedDate=u;this.setIsDeleted=c};Object.defineProperty(t.prototype,"getStorageId",{get:function(){return this.storageId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStorageUUId",{get:function(){return this.storageUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getOwnerId",{get:function(){return this.ownerId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getProductName",{get:function(){return this.productName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantityStorages",{get:function(){return this.quantityStorages},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUnit",{get:function(){return this.unit},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getType",{get:function(){return this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDescriptions",{get:function(){return this.descriptions},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Storage=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(180))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.storegeOwnwerServices=new o.StoregeOwnwerServices;t.services=t.storegeOwnwerServices;return t}Object.defineProperty(t.prototype,"setStorageOwnerId",{set:function(e){this.storageOwnerId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setOwnerStorages=function(e,t,r){this.setStorageOwnerId=e;this.setUserId=t;this.setIsDeleted=r};Object.defineProperty(t.prototype,"getStorageOwnerId",{get:function(){return this.storageOwnerId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.OwnerStorage=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(182))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.takeCareServices=new o.TakeCareServices;t.services=t.takeCareServices;return t}Object.defineProperty(t.prototype,"setTakeCareId",{set:function(e){this.takeCareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTakeCareUUId",{set:function(e){this.takeCareUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setSeasonAndPondId",{set:function(e){this.seasonAndPondId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTakeType",{set:function(e){this.type=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTakeCareName",{set:function(e){this.takeCareName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setTakecare=function(e,t,r,n,s,o,i){this.setTakeCareId=e;this.setTakeCareUUId=t;this.setSeasonAndPondId=r;this.setTakeType=n;this.setTakeCareName=s;this.setCreatedDate=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getTakeCareId",{get:function(){return this.takeCareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTakeCareUUId",{get:function(){return this.takeCareUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getSeasonAndPondId",{get:function(){return this.seasonAndPondId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTakeCareName",{get:function(){return this.takeCareName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTakeType",{get:function(){return this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.TakeCare=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(184))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(0);var o=r(7);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.userRolesServices=new s.UserRolesServices;t.services=t.userRolesServices;return t}Object.defineProperty(t.prototype,"setRolesId",{set:function(e){this.rolesId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBossId",{set:function(e){this.bossId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setRoles",{set:function(e){this.roles=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setUserRoles=function(e,t,r,n,s,o,i){this.setRolesId=e;this.setBossId=t;this.setUserId=r;this.setRoles=n;this.setCreatedDate=s;this.setUpdatedBy=o;this.setIsDeleted=i};Object.defineProperty(t.prototype,"getRolesId",{get:function(){return this.rolesId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBossId",{get:function(){return this.bossId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getRoles",{get:function(){return this.roles},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(o.BaseComponent);t.UserRole=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(186))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(2);var o=r(0);var i=r(7);var a=r(2);var u=function(e){n(t,e);function t(){var t=e.call(this)||this;t.hashPassword=function(e){var t=s.Enscrypts.getSaltSync(Math.floor(Math.random()*12+1));return s.Enscrypts.hashingSync(e,t)};t.userServices=new o.UserServives;t.services=t.userServices;t.primary={username:t.getUsername};t.foreignKey=[];return t}Object.defineProperty(t.prototype,"setUserId",{set:function(e){this.userId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUserUUId",{set:function(e){this.userUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setFirstname",{set:function(e){this.firstname=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLastname",{set:function(e){this.lastname=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUsername",{set:function(e){this.username=e?e.toLowerCase().trim():e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPassword",{set:function(e){this.password=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setBirthday",{set:function(e){this.birthday=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setEmail",{set:function(e){this.email=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPhone",{set:function(e){this.phone=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setAddressContact",{set:function(e){this.addressContact=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTown",{set:function(e){this.town=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDistrict",{set:function(e){this.district=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setProvince",{set:function(e){this.province=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStatus",{set:function(e){this.status=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setImages",{set:function(e){this.images=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedBy",{set:function(e){this.updatedBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUpdatedDate",{set:function(e){this.updatedDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setUser=function(e,t,r,n,s,o,i,a,u,c,l,d,f,p,h,y,g,b,v,m){this.setUserId=e;this.setUserUUId=t;this.setFirstname=r;this.setLastname=n;this.setUsername=s;this.setPassword=o;this.setBirthday=i;this.setEmail=a;this.setPhone=u;this.setAddressContact=c;this.setTown=l;this.setDistrict=d;this.setProvince=f;this.setStatus=p;this.setImages=h;this.setCreatedBy=y;this.setCreatedDate=g;this.setUpdatedBy=b;this.setUpdatedDate=v;this.setIsDeleted=m};Object.defineProperty(t.prototype,"getUserId",{get:function(){return this.userId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUserUUId",{get:function(){return this.userUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getFirstname",{get:function(){return this.firstname},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLastname",{get:function(){return this.lastname},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUsername",{get:function(){return this.username},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPassword",{get:function(){return this.password},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getBirthday",{get:function(){return this.birthday},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getEmail",{get:function(){return this.email},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPhone",{get:function(){return this.phone},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getAddressContact",{get:function(){return this.addressContact},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTown",{get:function(){return this.town},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDistrict",{get:function(){return this.district},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getProvince",{get:function(){return this.province},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStatus",{get:function(){return this.status},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getImages",{get:function(){return this.images},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedBy",{get:function(){return this.updatedBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUpdatedDate",{get:function(){return this.updatedDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});t.prototype.register=function(){var e=this;return new a.Promise(function(t,r){s.Enscrypts.getSalt(Math.floor(Math.random()*12+1)).then(function(r){s.Enscrypts.hashing(e.password,r).then(function(r){e.setPassword=r;e.userServices.register(e).then(function(e){t(e)})})})})};t.prototype.login=function(){var e=this;return new a.Promise(function(t,r){e.userServices.getUserByUsername(e).then(function(e){t(e)})})};t.prototype.updateMyProfile=function(){var e=this;return new a.Promise(function(t,r){e.userServices.update(e.getFields(e)).then(function(e){t(e)})})};t.prototype.changePassword=function(){var e=this;return new a.Promise(function(t,r){s.Enscrypts.getSalt(Math.floor(Math.random()*12+1)).then(function(r){s.Enscrypts.hashing(e.password,r).then(function(r){e.password=r;e.userServices.update(e.getFields(e)).then(function(e){t(e)})})})})};return t}(i.BaseComponent);t.User=u},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(188))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.usingFoodsServices=new o.UsingFoodsServices;t.services=t.usingFoodsServices;return t}Object.defineProperty(t.prototype,"setUsingFoodId",{set:function(e){this.usingFoodId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUsingFoodUUId",{set:function(e){this.usingFoodUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStorageId",{set:function(e){this.storageId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTakeCareId",{set:function(e){this.takeCareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setMassOfFishery",{set:function(e){this.massOfFishery=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setFeedingRate",{set:function(e){this.feedingRate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTotalFood",{set:function(e){this.totalFood=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setUsingFoods=function(e,t,r,n,s,o,i,a,u,c){this.setUsingFoodId=e;this.setUsingFoodUUId=t;this.setTakeCareId=n;this.setStorageId=r;this.setMassOfFishery=s;this.setFeedingRate=o;this.setTotalFood=i;this.setCreatedBy=a;this.setCreatedDate=u;this.setIsDeleted=c};Object.defineProperty(t.prototype,"getUsingFoodId",{get:function(){return this.usingFoodId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUsingFoodUUId",{get:function(){return this.usingFoodUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStorageId",{get:function(){return this.storageId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTakeCareId",{get:function(){return this.takeCareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getMassOfFishery",{get:function(){return this.massOfFishery},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getFeedingRate",{get:function(){return this.feedingRate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTotalFood",{get:function(){return this.totalFood},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.UsingFood=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(190))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.usingVeterinaryServices=new o.UsingVeterinaryServices;t.services=t.usingVeterinaryServices;return t}Object.defineProperty(t.prototype,"setUsingVeterinaryId",{set:function(e){this.usingVeterinaryId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setUsingVeterinaryUUId",{set:function(e){this.usingVeterinaryUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTakeCareId",{set:function(e){this.takeCareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setStorageId",{set:function(e){this.storageId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCausesNSymptoms",{set:function(e){this.causesNSymptoms=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setAverageSize",{set:function(e){this.averageSize=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setTotalBiomass",{set:function(e){this.totalBiomass=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setQuantity",{set:function(e){this.quantity=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setResult",{set:function(e){this.result=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLatestHarvestDate",{set:function(e){this.latestHarvestDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setMentor",{set:function(e){this.mentor=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedBy",{set:function(e){this.createdBy=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setUsingveterinary=function(e,t,r,n,s,o,i,a,u,c,l,d,f,p){this.setUsingVeterinaryId=e;this.setUsingVeterinaryUUId=t;this.setStorageId=n;this.setTakeCareId=r;this.setCausesNSymptoms=s;this.setAverageSize=o;this.setTotalBiomass=i;this.setQuantity=a;this.setResult=u;this.setLatestHarvestDate=c;this.setMentor=l;this.setCreatedBy=d;this.setCreatedDate=f;this.setIsDeleted=p};Object.defineProperty(t.prototype,"getUsingVeterinaryId",{get:function(){return this.usingVeterinaryId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getUsingVeterinaryUUId",{get:function(){return this.usingVeterinaryUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTakeCareId",{get:function(){return this.takeCareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getStorageId",{get:function(){return this.storageId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCausesNSymptoms",{get:function(){return this.causesNSymptoms},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getAverageSize",{get:function(){return this.averageSize},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getTotalBiomass",{get:function(){return this.totalBiomass},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getQuantity",{get:function(){return this.quantity},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getResult",{get:function(){return this.result},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLatestHarvestDate",{get:function(){return this.latestHarvestDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getMentor",{get:function(){return this.mentor},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedBy",{get:function(){return this.createdBy},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.UsingVeterinary=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.wardServices=new o.WardServices;return t}Object.defineProperty(t.prototype,"setWardid",{set:function(e){this.wardid=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setName",{set:function(e){this.name=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setType",{set:function(e){this.type=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setLocation",{set:function(e){this.location=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setDistrictid",{set:function(e){this.districtid=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getWardid",{get:function(){return this.wardid},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getName",{get:function(){return this.name},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getType",{get:function(){return this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getLocation",{get:function(){return this.location},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getDistrictid",{get:function(){return this.districtid},enumerable:true,configurable:true});t.prototype.getAllWard=function(){var e=this;return new Promise(function(t,r){e.wardServices.getAll().then(function(e){t(e)})})};t.prototype.getDistrictByDistrictId=function(e){var t=this;return new Promise(function(r,n){t.wardServices.getByDistrictId(e).then(function(e){r(e)})})};return t}(s.BaseComponent);t.Ward=i},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(193))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(7);var o=r(0);var i=function(e){n(t,e);function t(){var t=e.call(this)||this;t.incurredsServices=new o.IncurredsServices;t.services=t.incurredsServices;return t}Object.defineProperty(t.prototype,"setIncurredId",{set:function(e){this.incurredId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIncurredUUId",{set:function(e){this.incurredUUId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setPondPrepareId",{set:function(e){this.pondPrepareId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setOwnerId",{set:function(e){this.ownerId=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIncurredName",{set:function(e){this.incurredName=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setValue",{set:function(e){this.value=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setNotes",{set:function(e){this.notes=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setCreatedDate",{set:function(e){this.createdDate=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"setIsDeleted",{set:function(e){this.isDeleted=e},enumerable:true,configurable:true});t.prototype.setIncurred=function(e,t,r,n,s,o,i,a,u){this.setIncurredId=e;this.setIncurredUUId=t;this.setPondPrepareId=r;this.setOwnerId=n;this.setIncurredName=s;this.setValue=o;this.setNotes=i;this.setCreatedDate=a;this.setIsDeleted=u};Object.defineProperty(t.prototype,"getIncurredId",{get:function(){return this.incurredId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIncurredUUId",{get:function(){return this.incurredUUId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getPondPrepareId",{get:function(){return this.pondPrepareId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getOwnerId",{get:function(){return this.ownerId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIncurredName",{get:function(){return this.incurredName},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getValue",{get:function(){return this.value},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getNotes",{get:function(){return this.notes},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getCreatedDate",{get:function(){return this.createdDate},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getIsDeleted",{get:function(){return this.isDeleted},enumerable:true,configurable:true});return t}(s.BaseComponent);t.Incurred=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.boughtbreeddetailsModel;return r}t.optionsModel=o.boughtbreeddetailsOptions;return t}(s.BaseServices);t.BoughtBreedDetailsServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.boughtbreedsModel;return r}t.optionsModel=o.boughtbreedOptions;return t}(s.BaseServices);t.BoughtBreedServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.breedsModel;return r}t.optionsModel=o.breedOptions;return t}(s.BaseServices);t.BreedServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.breedOwnerModel;return r}t.optionsModel=o.ownerBreedOptions;return t}(s.BaseServices);t.BreedOwnwerServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.costsModel;return r}t.optionsModel=o.costsOptions;return t}(s.BaseServices);t.CostsServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.couponModel;return r}t.optionsModel=o.couponOptions;return t}(s.BaseServices);t.CouponServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.diedfisherysModel;return r}t.optionsModel=o.diedfisherysOptions;return t}(s.BaseServices);t.DiedFisherysServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.districtModel;return r}t.prototype.getByProviceId=function(e){var t=this;return new Promise(function(r,n){t.models.findAll({where:{provinceid:e}}).then(function(e){r(e)})})};t.optionsModel=o.districtOptions;return t}(s.BaseServices);t.DistrictServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.growthsModel;return r}t.optionsModel=o.growthOptions;return t}(s.BaseServices);t.GrowthsServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.harvestdetailsModel;return r}t.optionsModel=o.harvestdetailOptions;return t}(s.BaseServices);t.HarvestDetailsServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.harvestModel;return r}t.optionsModel=o.harvestOptions;return t}(s.BaseServices);t.HarvestsServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.materialModel;return r}t.optionsModel=o.materialOptions;return t}(s.BaseServices);t.MaterialServives=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.ponddiaryModel;return r}t.optionsModel=o.ponddiaryOptions;return t}(s.BaseServices);t.PondDiaryServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.pondenvironmentsModel;return r}t.optionsModel=o.pondenvironmentsOptions;return t}(s.BaseServices);t.PondEnvironmentsServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.pondpreparedetailsModel;return r}t.optionsModel=o.pondpreparedetailOptions;return t}(s.BaseServices);t.PondPrepareDetailsServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.pondprepareModel;return r}t.optionsModel=o.pondprepareOptions;return t}(s.BaseServices);t.PondPrepareServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=r(0);var a=r(1);var u=r(2);var c=r(15);var l=r(10);var d=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.userRolesServices=new i.UserRolesServices;r.pondUserRolesServices=new i.PondUserRolesServices;r.userServives=new i.UserServives;r.test=function(){var e=r.models;return new u.Promise(function(e,t){var n;var s={include:[{model:r.pondUserRolesServices.models,as:a.ActionAssociateDatabase.POND_2_POND_USER_ROLE,attributes:["rolesId","pondId"],required:true,include:[{model:r.userRolesServices.models,as:a.ActionAssociateDatabase.POND_USER_ROLE_2_USER,include:[{model:r.models.sequelize.models.users,as:a.ActionAssociateDatabase.USER_ROLES_2_USER,where:{userId:103}}],where:(n={},n[r.Op.or]=[{roles:0},{roles:1}],n)}]}]};r.models.findAll(s).then(function(t){e(t)})})};r.testAll=function(){return new u.Promise(function(e,t){r.models.findOne({order:[["createdDate","DESC"]]}).then(function(t){e(t)})})};r.models=r.conn.pondsModel;return r}t.prototype.insert=function(e){var t=this;var r=c.default.sequelize;return new u.Promise(function(n,s){r.transaction({autocommit:false},function(r){return t.models.create(e.pond)}).then(function(t){if(t){var r=new l.PondUserRole;r.setUserId=e.userId;r.setPondId=t.pondId;return r.pondUserRolesServices.models.create(r)}}).then(function(e){if(e){n(e)}}).catch(function(e){return n(e)})})};t.prototype.get=function(e){var t=this;var r=c.default.sequelize;return new u.Promise(function(n,s){r.transaction({autocommit:false},function(r){var n,s;return(new l.UserRole).userRolesServices.models.findOne({where:(n={userId:e.userId},n[t.Op.and]=(s={},s[t.Op.or]=[{roles:0},{roles:1}],s),n)})}).then(function(r){if(r){return t.models.findAll({include:[{model:t.pondUserRolesServices.models,as:a.ActionAssociateDatabase.POND_2_POND_USER_ROLE,where:{userId:e.userId}}]})}else{n({success:false,message:"Bạn không có quyền truy cập API này."})}}).then(function(e){if(e){n({success:true,ponds:e})}})})};t.prototype.getById=function(e,t){var r=this;var n=c.default.sequelize;return new u.Promise(function(s,o){n.transaction({autocommit:false},function(e){var n,s;return(new l.UserRole).userRolesServices.models.findOne({where:(n={userId:t},n[r.Op.and]=(s={},s[r.Op.or]=[{roles:0},{roles:1}],s),n)})}).then(function(n){if(n){return r.models.findOne({include:[{model:r.pondUserRolesServices.models,as:a.ActionAssociateDatabase.POND_2_POND_USER_ROLE,where:{userId:t}}],where:{pondId:e}})}else{s({success:false,message:"Bạn không có quyền truy cập API này."})}}).then(function(e){if(e){s({success:true,pond:e})}})})};t.prototype.getQuery=function(e){return{include:[{model:this.models.sequelize.models.pondUserRoles,as:a.ActionAssociateDatabase.POND_2_POND_USER_ROLE,where:e}]}};t.optionsModel=o.pondOptions;return t}(s.BaseServices);t.PondsServices=d},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.pricesModel;return r}t.optionsModel=o.pricesOptions;return t}(s.BaseServices);t.PricesServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.provinceModel;return r}t.optionsModel=o.provinceOptions;return t}(s.BaseServices);t.ProvinceServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.testpr=function(){return new Promise(function(e,t){var n={include:[{model:r.models.sequelize.models.userroles,limit:1}]};r.models.findAll(n).then(function(t){e(t)})})};r.models=r.conn.ponduserrolesModel;return r}t.optionsModel=o.ponduserrolesOptions;return t}(s.BaseServices);t.PondUserRolesServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.seasonModel;return r}t.optionsModel=o.seasonOptions;return t}(s.BaseServices);t.SeasonServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.stockingdetailsModel;return r}t.optionsModel=o.stockingdetailOptions;return t}(s.BaseServices);t.StockingDetailsServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.stockingModel;return r}t.optionsModel=o.stockingOptions;return t}(s.BaseServices);t.StockingServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.storagesModel;return r}t.optionsModel=o.storagesOptions;return t}(s.BaseServices);t.StoregeServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.ownerStoragesModel;return r}t.optionsModel=o.storageOwnerOptions;return t}(s.BaseServices);t.StoregeOwnwerServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.takecareModel;return r}t.optionsModel=o.takecareOptions;return t}(s.BaseServices);t.TakeCareServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=r(1);var a=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.testUserAssociate=function(){return new Promise(function(e,t){var n={include:[{model:r.models.sequelize.models.users,as:i.ActionAssociateDatabase.USER_ROLES_2_USER}]};r.models.findAll(n).then(function(t){e(t)})})};r.models=r.conn.userRolesModel;return r}t.prototype.getQuery=function(e){return{where:e}};t.optionsModel=o.userrolesOptions;return t}(s.BaseServices);t.UserRolesServices=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.usingfoodsModel;return r}t.optionsModel=o.usingfoodOptions;return t}(s.BaseServices);t.UsingFoodsServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.usingVeterinaryModel;return r}t.optionsModel=o.usingveterinaryOptions;return t}(s.BaseServices);t.UsingVeterinaryServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=r(2);var a=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.wardModel;return r}t.prototype.getAll=function(){var e=this;return new i.Promise(function(t,r){e.models.findAll({offset:0,limit:50}).then(function(e){t(e)})})};t.prototype.getByDistrictId=function(e){var t=this;return new i.Promise(function(r,n){t.models.findAll({where:{districtid:e}}).then(function(e){r(e)})})};t.optionsModel=o.wardOptions;return t}(s.BaseServices);t.WardServices=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.seasonAndPondModel;return r}t.optionsModel=o.seasonAndPondOptions;return t}(s.BaseServices);t.SeasonAndPondServices=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(6);var o=r(5);var i=function(e){n(t,e);function t(){var r=e.call(this,t.optionsModel)||this;r.models=r.conn.incurredModel;return r}t.optionsModel=o.incurredsOptions;return t}(s.BaseServices);t.IncurredsServices=i},function(e,t,r){var n=r(227);e.exports=function e(){return n.randomBytes(16)}},function(e,t){e.exports=require("crypto")},function(e,t){var r=[];for(var n=0;n<256;++n){r[n]=(n+256).toString(16).substr(1)}function s(e,t){var n=t||0;var s=r;return[s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]]].join("")}e.exports=s},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(230))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(0);var o=r(9);var i=r(13);var a=function(e){n(t,e);function t(){var t=e.call(this)||this;t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){s.logger.info("[UploadRoute] Creating upload route.");this.router.post("/image",i.GoogleDrive.upload);this.logEndpoints(this.router,t.path)};t.path="/uploads";return t}(o.BaseRoute);t.UploadRoute=a},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(232))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(0);var o=r(9);var i=r(13);var a=function(e){n(t,e);function t(){var t=e.call(this)||this;t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){s.logger.info("[GetFileRoute] Creating get file route.");this.router.get("/image/:fileId",i.GoogleDrive.getFile);this.logEndpoints(this.router,t.path)};t.path="/getFile";return t}(o.BaseRoute);t.GetFileRoute=a},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(234))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(26);var c=function(e){n(t,e);function t(){var t=e.call(this)||this;t.getAllProvince=function(e,r){return s(t,void 0,void 0,function(){var e;return o(this,function(t){e=new u.Province;e.getAllProvince().then(function(e){r.status(200).json(e)});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[ProvinceRoute] Creating province route.");this.router.get("/",this.getAllProvince);this.logEndpoints(this.router,t.path)};t.path="/province";return t}(a.BaseRoute);t.ProvinceRoute=c},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(236))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(25);var c=function(e){n(t,e);function t(){var t=e.call(this)||this;t.getAllDistrict=function(e,r){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=new u.District;if(!e.headers.provinceid){t.getAllDistrict().then(function(e){r.status(200).json(e)})}else{t.getDistrictByProvinceId(e.headers.provinceid).then(function(e){r.status(200).json(e)})}return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[DistrictRoute] Creating district route.");this.router.get("/",this.getAllDistrict);this.logEndpoints(this.router,t.path)};t.path="/district";return t}(a.BaseRoute);t.DistrictRoute=c},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(238))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(27);var c=function(e){n(t,e);function t(){var t=e.call(this)||this;t.getAllWard=function(e,r){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=new u.Ward;if(!e.headers.districtid){t.getAllWard().then(function(e){r.status(200).json(e)})}else{t.getDistrictByDistrictId(e.headers.districtid).then(function(e){r.status(200).json(e)})}return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[WardRoute] Creating ward route.");this.router.get("/",this.getAllWard);this.logEndpoints(this.router,t.path)};t.path="/ward";return t}(a.BaseRoute);t.WardRoute=c},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(240))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(10);var u=r(0);var c=r(9);var l=r(1);var d=r(12);var f=r(13);var p=r(11);var h=r(16);var y=r(2);var g=function(e){n(t,e);function t(){var t=e.call(this)||this;t.userServives=new u.UserServives;t.userRolesServices=new u.UserRolesServices;t.pondUserRolesServices=new u.PondUserRolesServices;t.seasonServices=new u.SeasonServices;t.pondsServices=new u.PondsServices;t.seasonAndPondServices=new u.SeasonAndPondServices;t.addPond=function(e,r,n){return o(t,void 0,void 0,function(){var t,s,o,u,c,g,b,v,m,_,O,P,I,S,A;return i(this,function(i){t=this.validator(h.addPondSchema);s={pondName:e.body.pondName,createCost:e.body.createCost-0,pondArea:e.body.pondArea-0,pondCreatedDate:new Date(e.body.pondCreatedDate).toJSON(),pondDepth:e.body.pondDepth-0,pondLatitude:e.body.pondLatitude-0||null,pondLongitude:e.body.pondLongitude-0||null,status:e.body.status-0};o=t(s);if(o){u=new a.Pond;c=e.headers.authorization.split(" ")[1];g=p.Authentication.detoken(c);b=e.body,v=b.pondName,m=b.pondCreatedDate,_=b.pondArea,O=b.pondDepth,P=b.createCost,I=b.pondLatitude,S=b.pondLongitude,A=b.status;if(m>y.DateUtil.getNow()){return[2,r.status(200).json({success:false,message:"Ngày tạo ao không thể lớn hơn ngày hiện tại."})]}else{if(e.files){f.GoogleDrive.upload(e,r,n).then(function(e){if(e.fileId){u.setPond(null,d(),g.userId,v,_,O,P,m,A,A===1?1:0,A===1?1:0,e.fileId,I!==""?I:undefined,S!==""?S:undefined);u.pondsServices.models.create(u).then(function(e){r.status(200).json({success:true,message:"Thêm ao mới thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."})})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!"})}})}else{u.setPond(null,d(),g.userId,v,_,O,P,m,A,A===1?1:0,A===1?1:0,l.defaultImage.pondImage,I!==""?I:undefined,S!==""?S:undefined);u.pondsServices.models.create(u).then(function(e){r.status(200).json({success:true,message:"Thêm ao mới thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."})})}}}else{if(t.error.includes("pondName")){return[2,r.status(200).json({success:false,message:"Tên ao không hợp lệ."})]}else if(t.error.includes("createCost")){return[2,r.status(200).json({success:false,message:"Phí tạo ao không hợp lệ."})]}else if(t.error.includes("pondArea")){return[2,r.status(200).json({success:false,message:"Diện tích ao không hợp lệ."})]}else if(t.error.includes("pondCreatedDate")){return[2,r.status(200).json({success:false,message:"Ngày tạo ao không hợp lệ."})]}else if(t.error.includes("pondDepth")){return[2,r.status(200).json({success:false,message:"Độ sâu ao không hợp lệ."})]}else if(t.error.includes("status")){return[2,r.status(200).json({success:false,message:"Trạng thái ao không hợp lệ."})]}}return[2]})})};t.getEmployeePondRoles=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s;var a=this;return i(this,function(u){n=e.headers.authorization.split(" ")[1];s=p.Authentication.detoken(n);this.userRolesServices.models.findAll({where:(t={bossId:s.userId},t[this.userRolesServices.Op.and]={roles:1},t),include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.USER_ROLES_2_USER,attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}]}).then(function(e){return o(a,void 0,void 0,function(){return i(this,function(t){r.status(200).json({success:true,message:"",employees:e});return[2]})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi không mong muốn, vui lòng thử lại."});throw e});return[2]})})};t.getPonds=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,a,u,c,d,f,h,y,g,b,v,m,_,O,P,I,S,A,D,w,j,U,U;var N=this;return i(this,function(E){switch(E.label){case 0:g=e.query,b=g.seasonUUId,v=g.status,m=g.seasonId,_=g.all;O=e.headers.authorization.split(" ")[1];P=p.Authentication.detoken(O);I=P.userId;S=P.createdBy==null&&P.roles.length===0?P.userId:P.roles[0].bossId;A=I===S;return[4,this.seasonServices.models.findOne({where:(t={},t[this.sequeliz.Op.or]=[{userId:S,status:0},{userId:S,status:0}],t)})];case 1:D=E.sent();w={};if((D?!!Object.keys(D).length:false)&&(D.seasonId===m||D.seasonUUId===b)||Boolean(_)===true){w={include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,required:false,attributes:["userId","username","firstname","lastname","userUUId"]},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,required:!!b||!!m,where:{userId:S,status:0},attributes:[]},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,required:false}],where:(n={},n[this.sequeliz.Op.or]=[{userId:P.userId},{"$ponduserroles.userId$":P.userId}],n)};if(!!b){if(!A){return[2,r.status(200).json({success:false,message:"Bạn không có quyền thao tác này!"})]}w={include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,required:false,attributes:["userId","username","firstname","lastname","userUUId"]},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{seasonUUId:b,userId:S},attributes:[]},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,required:false}],where:(a={},a[this.sequeliz.Op.or]=[{userId:P.userId},{"$ponduserroles.userId$":P.userId}],a)}}if(!!m){if(!A){return[2,r.status(200).json({success:false,message:"Bạn không có quyền thao tác này!"})]}w={include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,required:false,attributes:["userId","username","firstname","lastname","userUUId"]},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{seasonId:m,userId:S},attributes:[]},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,required:false}],where:(u={},u[this.sequeliz.Op.or]=[{userId:P.userId},{"$ponduserroles.userId$":P.userId}],u)}}if(!!v){if(v.includes("notnull")){j={status:(c={},c[this.sequeliz.Op.notIn]=[0],c)};w.where=s({},w.where,j)}else if(v.includes("forPrepare")){U={status:(d={},d[this.sequeliz.Op.notIn]=[1],d)};w.where=s({},w.where,U)}else if(v.includes("forStocking")){U={status:(f={},f[this.sequeliz.Op.notIn]=[2],f)};w.where=s({},w.where,U)}else{w.where=s({},w.where,{status:v-0})}}}else{w={include:[{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:(h={},h[this.sequeliz.Op.or]=[{seasonUUId:b},{seasonId:m}],h)}]},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]},{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,required:false}],where:(y={},y[this.sequeliz.Op.or]=[{userId:P.userId},{"$ponduserroles.userId$":P.userId}],y)}}this.pondsServices.models.findAll(w).then(function(e){return o(N,void 0,void 0,function(){return i(this,function(t){if(!Object.keys(e).length){r.status(200).json({success:false,message:"Không tìm thấy ao.",ponds:[]})}else{r.status(200).json({success:true,message:"",ponds:e})}return[2]})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xãy ra, xin vui lòng thử lại!"})});return[2]}})})};t.getPondOfBoss=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,a;return i(this,function(i){t=e.headers.authorization.split(" ")[1];n=p.Authentication.detoken(t);s=n.userId;o=n.createdBy==null&&n.roles.length===0?n.userId:n.roles[0].bossId;a=s===o;if(!a){return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})]}else{this.pondsServices.models.findAll({where:{userId:s}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Bạn không có ao nào trong hệ thống"})}else{r.status(200).json({success:true,message:"",ponds:e})}})}return[2]})})};t.getPondWithoutImages=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,u;var c=this;return i(this,function(d){n=e.headers.authorization.split(" ")[1];s=p.Authentication.detoken(n);u=new a.Pond;u.pondsServices.models.findAll({include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]}],where:(t={},t[this.sequeliz.Op.or]=[{userId:s.userId},{"$ponduserroles.userId$":s.userId}],t)}).then(function(e){return o(c,void 0,void 0,function(){return i(this,function(t){r.status(200).json({success:true,message:"",ponds:e});return[2]})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xãy ra, xin vui lòng thử lại!",e})});return[2]})})};t.getPondNotInSeasonAndPond=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,a,u,c;var d=this;return i(this,function(f){t=e.body.seasonUUId;n=e.headers.authorization.split(" ")[1];s=p.Authentication.detoken(n);a=s.userId;u=s.createdBy==null&&s.roles.length===0?s.userId:s.roles[0].bossId;c=a===u;return[2,this.sequeliz.transaction().then(function(e){return o(d,void 0,void 0,function(){var n,s,o,o;return i(this,function(i){switch(i.label){case 0:return[4,this.seasonAndPondServices.models.findAll({include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{seasonUUId:t,userId:u},attributes:[]}],attributes:["pondId"],transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."});return e.rollback()})];case 1:s=i.sent();if(!s.length)return[3,3];s=s.map(function(e){return e.pondId});return[4,this.pondsServices.models.findAll({where:{pondId:(n={},n[this.sequeliz.Op.notIn]=s,n),userId:u},transaction:e}).catch(function(t){t;r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."});e.rollback()})];case 2:o=i.sent();if(!o){r.status(200).json({success:false,message:"Không tìm thấy ao."});e.rollback()}else{e.commit();r.status(200).json({success:true,message:"",ponds:o})}return[3,5];case 3:return[4,this.pondsServices.models.findAll({where:{userId:u},transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."});e.rollback()})];case 4:o=i.sent();if(!o){r.status(200).json({success:false,message:"Không tìm thấy ao."});e.rollback()}else{e.commit();r.status(200).json({success:true,message:"",ponds:o})}i.label=5;case 5:return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."})})]})})};t.getPondByPondUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,u,c,d;return i(this,function(i){s=new a.Pond;o=e.params.pondUUId;u=e.headers.authorization.split(" ")[1];c=p.Authentication.detoken(u);d={include:[{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_USER_ROLE_2_USER,attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}]}],where:(t={pondUUId:o},t[s.pondsServices.Op.and]=(n={},n[this.sequeliz.Op.or]=[{userId:c.userId},{"$ponduserroles.userId$":c.userId}],n),t)};s.pondsServices.models.findOne(d).then(function(e){if(e){r.status(200).json({success:true,message:"",pond:e.dataValues})}else{r.status(200).json({success:false,message:"Bạn không có quyền truy cập"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.updatePondWithUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,s,o,u,c,l,h,y,g,b,v,m,_,O,P,I,S,A;return i(this,function(i){t=new a.Pond;s=e.headers.authorization.split(" ")[1];o=p.Authentication.detoken(s);u=o.userId;c=o.createdBy==null&&o.roles.length===0?o.userId:o.roles[0].bossId;l=u===c;if(!l){return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})]}h=e.body,y=h.pondUUId,g=h.pondName,b=h.pondCreatedDate,v=h.pondArea,m=h.pondDepth,_=h.createCost,O=h.pondLatitude,P=h.pondLongitude,I=h.status,S=h.isFed,A=h.isDiary;if(!y){r.status(200).json({success:false,message:"Hành động không được phép, vui lòng thử lại sau!"})}else{if(e.files){f.GoogleDrive.upload(e,r,n).then(function(e){if(e.fileId){t.setPond(null,d(),o.userId,g,v,m,_,b,I,I===1?1:0,I===1?1:0,e.fileId,O!==""?O:undefined,P!==""?P:undefined);t.pondsServices.models.update({pondName:g,pondCreatedDate:b,pondArea:v,pondDepth:m,createCost:_,images:e.fileId,pondLatitude:O,pondLongitude:P,status:I,isFed:S,isDiary:A},{where:{pondUUId:y},returning:true}).then(function(e){r.status(200).json({success:true,message:"Cập nhật thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."})})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại!"})}})}else{t.pondsServices.models.update({pondName:g,pondCreatedDate:b,pondArea:v,pondDepth:m,createCost:_,pondLatitude:O,pondLongitude:P,status:I,isFed:S},{where:{pondUUId:y}}).then(function(e){r.status(200).json({success:true,message:"Cập nhật thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."})})}}return[2]})})};t.getPondBySeasonUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n;return i(this,function(s){t=e.params.seasonUUId;n=new a.Pond;n.pondsServices.models.findAll({include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{seasonUUId:t},attributes:[]}]}).then(function(e){r.status(200).json({success:true,message:"",ponds:e})}).catch(function(e){r.status(200).json({success:false,message:"",e})});return[2]})})};t.getPostPondBySeasonUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o;return i(this,function(i){t=e.body,n=t.seasonUUId,s=t.ownerId;o=new a.Pond;o.pondsServices.models.findAll({include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{seasonUUId:n},attributes:[]}],where:{userId:s}}).then(function(e){r.status(200).json({success:true,message:"",ponds:e})}).catch(function(e){r.status(200).json({success:false,message:"",e})});return[2]})})};t.getPondByOwnerSeason=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,c,d,f;return i(this,function(i){t=e.body.status;n=e.headers.authorization.split(" ")[1];o=p.Authentication.detoken(n);a=o.userId;u=o.createdBy==null&&o.roles.length===0?o.userId:o.roles[0].bossId;c=a===u;d={include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:u,status:0},attributes:[]},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,attributes:[]}],where:{userId:u}};if(t){f={status:t};d.where=s({},d.where,f)}this.pondsServices.models.findAll(d).then(function(e){r.status(200).json({success:true,message:"",ponds:e})}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."})});return[2]})})};t.getPondByOwnerSeasonWithImage=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,a,u,c;var d=this;return i(this,function(p){t=e.body,n=t.ownerId,a=t.status;u={include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:n,status:0},attributes:[]},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON_AND_POND,attributes:[]}],where:{userId:n}};if(a){c={status:a};u.where=s({},u.where,c)}this.pondsServices.models.findAll(u).then(function(e){return o(d,void 0,void 0,function(){var t,n,s,o,a,u;return i(this,function(i){switch(i.label){case 0:if(!(e.length>0))return[3,5];t=[];n=0,s=e;i.label=1;case 1:if(!(n<s.length))return[3,4];o=s[n];a=o;u="images";return[4,f.GoogleDrive.delayGetFileById(o.images)];case 2:a[u]=i.sent();t.push(o);i.label=3;case 3:n++;return[3,1];case 4:r.status(200).json({success:true,ponds:t});return[3,6];case 5:r.status(200).json({success:true,ponds:[]});i.label=6;case 6:return[2]}})})}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xãy ra, xin vui lòng thử lại!"})});return[2]})})};t.getPondWithoutManager=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,a,u,c,l,d,f;var h=this;return i(this,function(y){switch(y.label){case 0:n=e.body.employeeId;s=e.headers.authorization.split(" ")[1];a=p.Authentication.detoken(s);u=a.userId;c=a.createdBy==null&&a.roles.length===0?a.userId:a.roles[0].bossId;l=u===c;if(!!l)return[3,1];return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})];case 1:if(!n)return[3,3];return[4,this.pondUserRolesServices.models.findAll({where:{userId:n}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 2:d=y.sent();f={include:[],where:{}};if(d.length){f.where=(t={userId:u},t[this.sequeliz.Op.notIn]=d,t)}else{f.where={userId:u}}this.pondsServices.models.findAll(f).then(function(e){return o(h,void 0,void 0,function(){return i(this,function(t){if(!e.length){r.status(200).json({success:true,message:"Không tìm thấy ao.",ponds:[]})}else{r.status(200).json({success:true,message:"",ponds:e})}return[2]})})}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra."})});return[3,4];case 3:return[2,r.status(200).json({success:false,message:"Đã có lỗi xảy ra."})];case 4:return[2]}})})};t.countPond=function(e,r,n){return o(t,void 0,void 0,function(){var t,n;return i(this,function(s){t=e.body.pondOwner;n=new a.Pond;n.pondsServices.models.findAndCountAll({where:{userId:t}}).then(function(e){r.status(200).json({success:true,message:"",pondsQuantity:e.count})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.getPondAdvanceds=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,a,u,c,d,f,h,y,g,b,v,m,_,O,P,O,I,I;var S=this;return i(this,function(A){t=e.headers,n=t.image,s=t.isnull,a=t.isnotnull,u=t.isupgrade,c=t.seasonid,d=t.notRoles,f=t.userid,h=t.seasonuuid;y=e.headers.authorization.split(" ")[1];g=p.Authentication.detoken(y);b=g.userId;v=g.createdBy==null&&g.roles.length===0?g.userId:g.roles[0].bossId;m=b===v;_={include:[],where:{}};if(!m){O={model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:v,status:0}};P={model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,where:{userId:b}};_.include.push(O);_.include.push(P)}else{if(!c){O={model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:v,status:0}};_.include.push(O)}else if(h){I={model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:v,seasonUUId:h}};_.include.push(I)}else{I={model:this.seasonServices.models,as:l.ActionAssociateDatabase.POND_2_SEASON,where:{userId:v,seasonId:c}};_.include.push(I)}}if(s==="true"){_.where={status:0}}else if(a==="true"){_.where={status:1}}else if(u==="true"){_.where={status:2}}this.pondsServices.models.findAll(_).then(function(e){return o(S,void 0,void 0,function(){return i(this,function(t){if(!e.length){r.status(200).json({success:false,message:"Không tìm thấy ao khả dụng.",ponds:[]})}else{r.status(200).json({success:true,message:"",ponds:e})}return[2]})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra."})});return[2]})})};t.countSeasonWithPond=function(e,r,n){return o(t,void 0,void 0,function(){var t;return i(this,function(n){t=e.body.pondUUId;this.seasonAndPondServices.models.findAndCountAll({include:[{model:this.pondsServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_POND,where:{pondUUId:t},attributes:[]}]}).then(function(e){r.status(200).json({success:true,message:"",count:e.count})}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra."})});return[2]})})};t.getPondWithUserNotManage=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,a,u,c,l,d,f;var h=this;return i(this,function(y){switch(y.label){case 0:n=e.body.employeeId;s=e.headers.authorization.split(" ")[1];a=p.Authentication.detoken(s);u=a.userId;c=a.createdBy==null&&a.roles.length===0?a.userId:a.roles[0].bossId;l=u===c;if(!!l)return[3,1];return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})];case 1:if(!n)return[3,3];return[4,this.pondUserRolesServices.models.findAll({where:{userId:n}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 2:d=y.sent();f={include:[],where:{}};if(d.length){f.where={userId:u,pondId:(t={},t[this.sequeliz.Op.notIn]=d.map(function(e){return e.pondId}),t)}}else{f.where={userId:u}}this.pondsServices.models.findAll(f).then(function(e){return o(h,void 0,void 0,function(){return i(this,function(t){if(!e.length){r.status(200).json({success:true,message:"Không tìm thấy ao.",ponds:[]})}else{r.status(200).json({success:true,message:"",ponds:e})}return[2]})})}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra."})});return[3,4];case 3:return[2,r.status(200).json({success:false,message:"Đã có lỗi xảy ra."})];case 4:return[2]}})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){u.logger.info("[PondRoute] Creating pond route.");this.router.get("/gets",p.Authentication.isLogin,this.getPonds);this.router.get("/get/:pondUUId",p.Authentication.isLogin,this.getPondByPondUUId);this.router.get("/gets/boss",p.Authentication.isLogin,this.getPondOfBoss);this.router.post("/add",p.Authentication.isLogin,this.addPond);this.router.post("/get/notin/seasonAndPond",p.Authentication.isLogin,this.getPondNotInSeasonAndPond);this.router.post("/gets/ownerSeason/WithImage",p.Authentication.isLogin,this.getPondByOwnerSeasonWithImage);this.router.post("/gets/notEmployee",p.Authentication.isLogin,this.getPondWithUserNotManage);this.router.post("/gets/not/manage",p.Authentication.isLogin,this.getPondWithoutManager);this.router.put("/update",p.Authentication.isLogin,this.updatePondWithUUId);this.logEndpoints(this.router,t.path)};t.path="/ponds";return t}(c.BaseRoute);t.PondRoute=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addPondPrepareSchema={type:"object",properties:{pondId:{required:true,type:["number","string"]},ownerId:{required:true,type:["number","string"]},pondPrepareName:{required:true,type:"string"},detailsOfPrepare:{required:true,type:"array",items:{type:"object",properties:{storageId:"number",quantity:{type:"integer",minimum:1}}}}},additionalProperties:false}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addSeasonSchema={type:"object",properties:{seasonName:{require:true,type:["string","number"]}},additionalProperties:false};t.updateSeasonsSchema={type:"object",properties:{seasonName:{require:false,type:["string","number"]},seasonId:{require:false,type:["string","number"],minimum:0},seasonUUId:{require:false,type:["string"],minimum:36,maximum:36},status:{require:false,type:["string","number"],enum:["0","1",0,1]},additionalProperties:false}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addPondSchema={type:"object",properties:{pondName:{required:true,type:"string",maxlenght:50},pondCreatedDate:{required:true,type:"string",pattern:/^(?![+-]?\d{4,5}-?(?:\d{2}|W\d{2})T)(?:|(\d{4}|[+-]\d{5})-?(?:|(0\d|1[0-2])(?:|-?([0-2]\d|3[0-1]))|([0-2]\d{2}|3[0-5]\d|36[0-6])|W([0-4]\d|5[0-3])(?:|-?([1-7])))(?:(?!\d)|T(?=\d)))(?:|([01]\d|2[0-4])(?:|:?([0-5]\d)(?:|:?([0-5]\d)(?:|\.(\d{3})))(?:|[zZ]|([+-](?:[01]\d|2[0-4]))(?:|:?([0-5]\d)))))$/},pondArea:{required:true,type:"number",minimum:0},pondDepth:{required:true,type:"number",minimum:0},createCost:{required:true,type:"number",minimum:0},pondLatitude:{required:false,type:["number",null]},pondLongitude:{required:false,type:["number",null]},status:{required:true,type:["number"],enum:[0,1,2]}},additionalProperties:false}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);t.updatePondDiariesSchema={type:"object",properties:{pondDiaryUUId:{type:"string",required:true,pattern:n.isUUId4},diaryName:{required:false,type:["string"]},fisheryQuantity:{required:false,type:["number"],minimum:0},healthOfFishery:{required:false,type:["string"]},pondVolume:{required:false,type:["number"],minimum:0},diedFishery:{required:false,type:["integer"],minimum:0},notes:{required:false,type:["string","null"]}},additionalProperties:true}},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(246))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(10);var u=r(0);var c=r(9);var l=r(1);var d=r(12);var f=r(11);var p=r(16);var h=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonServices=new u.SeasonServices;t.pondsServices=new u.PondsServices;t.userServives=new u.UserServives;t.userRolesServices=new u.UserRolesServices;t.addSeason=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,u,c,l,h,y,g;var b=this;return i(this,function(v){switch(v.label){case 0:t=e.body.seasonName;n=this.validator(p.addSeasonSchema);s=this.validator.filter(p.addSeasonSchema);u=s(e.body);c=n(u);if(!c)return[3,2];l=e.headers.authorization.split(" ")[1];h=f.Authentication.detoken(l);y=h.userId;return[4,this.pondsServices.models.findAll({where:{userId:y,status:1}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})];case 1:g=v.sent();if(!!g.length){return[2,r.status(200).json({success:false,message:"Bạn không thể thêm vụ nuôi mới khi còn ao chưa thu hoạch.",wasHarvest:false})]}this.sequeliz.transaction().then(function(e){return o(b,void 0,void 0,function(){var n,s,o;return i(this,function(i){switch(i.label){case 0:return[4,this.pondsServices.models.update({status:0,isFed:0,isDiary:0},{where:{userId:y,status:1},transaction:e}).catch(function(t){return e.rollback()})];case 1:n=i.sent();return[4,this.seasonServices.models.update({status:1},{where:{userId:y,status:0},returning:true,transaction:e}).catch(function(t){return e.rollback()})];case 2:s=i.sent();if(s){o=new a.Season;o.setSeason(null,d(),y,t,0);o.seasonServices.models.create(o,{transaction:e}).then(function(t){if(t){r.status(200).json({success:true,message:"Thêm vụ thành công!",season:t});e.commit()}}).catch(function(t){return e.rollback()})}else{return[2,e.rollback()]}return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra vui lòng kiểm tra lại!"})});return[3,3];case 2:r.status(200).json({success:true,message:"Vui lòng cung cấp đúng tên vụ."});v.label=3;case 3:return[2]}})})};t.getSeasons=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,c,l;return i(this,function(i){t=e.query.present;n=e.headers.authorization.split(" ")[1];o=f.Authentication.detoken(n);a=o.userId;u=o.createdBy==null&&o.roles.length===0?o.userId:o.roles[0].bossId;c=a===u;l={where:{userId:c?a:u},order:[["createdDate","DESC"]]};if(!!t){l.where=s({},l.where,{status:0})}this.seasonServices.models.findAll(l).then(function(e){if(e){r.status(200).json({success:true,seasons:e})}else{r.status(200).json({success:false,message:"Bạn không có vụ nào được kích hoạt, vui lòng kích hoạt một vụ mùa trong hệ thống.",seasons:null})}}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xãy ra, xin vui lòng thử lại!"})});return[2]})})};t.updateSeason=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,c,l,d,f,h,y;return i(this,function(i){n=this.validator(p.updateSeasonsSchema);o=this.validator.filter(p.updateSeasonsSchema);a=o(e.body);u=n(a);if(u){c=e.body,l=c.seasonId,d=c.seasonUUId,f=c.seasonName,h=c.status;y=s({},f?{seasonName:f}:{},h?{status:h}:{});this.seasonServices.models.update(y,{where:(t={},t[this.sequeliz.Op.or]=[{seasonId:l},{seasonUUId:d}],t)}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})}).then(function(e){if(e){r.status(200).json({success:true,message:"Cập nhật thành công!"})}else{r.status(200).json({success:false,message:"Thất bại."})}})}else{console.log(n.error)}return[2]})})};t.getSeasonByUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,u,c,d,p;return i(this,function(i){n=e.params.seasonUUId;s=e.headers.authorization.split(" ")[1];o=f.Authentication.detoken(s);u=o.userId;c=o.createdBy==null&&o.roles.length===0?o.userId:o.roles[0].bossId;d=u===c;p=new a.Season;p.seasonServices.models.findOne({include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.SEASON_2_USER,include:[{model:this.userRolesServices.models,as:l.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(t={},t[this.sequeliz.Op.or]=[{bossId:u},{userId:u}],t)}]}],where:{seasonUUId:n,userId:c}}).then(function(e){r.status(200).json({success:true,message:"",season:e})}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){u.logger.info("[SeasonRoute] Creating season route.");this.router.get("/gets",f.Authentication.isLogin,this.getSeasons);this.router.get("/gets/:seasonUUId",f.Authentication.isLogin,this.getSeasonByUUId);this.router.post("/add",f.Authentication.isLogin,f.Authentication.isBoss,this.addSeason);this.router.put("/update",f.Authentication.isLogin,f.Authentication.isBoss,this.updateSeason);this.logEndpoints(this.router,t.path)};t.path="/seasons";return t}(c.BaseRoute);t.SeasonRoute=h},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(248))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(1);var l=r(12);var d=r(11);var f=r(2);var p=r(16);var h=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondPrepareServices=new a.PondPrepareServices;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.pondsServices=new a.PondsServices;t.incurredsServices=new a.IncurredsServices;t.pondPrepareDetailsServices=new a.PondPrepareDetailsServices;t.storegeServices=new a.StoregeServices;t.userServives=new a.UserServives;t.getPondPrepares=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.body,n=t.seasonId,s=t.pondId;this.pondPrepareServices.models.findAll({include:[{model:this.pondPrepareDetailsServices.models,as:c.ActionAssociateDatabase.POND_PREPARE_2_POND_PREPARE_DETAILS,required:false,include:[{model:this.storegeServices.models,as:c.ActionAssociateDatabase.POND_PREPARE_DETAIL_2_STORAGE}]},{model:this.incurredsServices.models,required:false,as:c.ActionAssociateDatabase.POND_PREPARE_2_INCURREDS,include:[{model:this.userServives.models,as:c.ActionAssociateDatabase.INCURREDS_TO_USER,attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}]},{model:this.seasonAndPondServices.models,as:c.ActionAssociateDatabase.POND_PREPARE_2_SEASON_AND_POND,where:{pondId:s,seasonId:n}}]}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Không tìm thấy nhật ký chuẩn bị ao của ao này."})}else{r.status(200).json({success:true,message:"",pondPrepares:e})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi, vui lòng thử lại sau."})});return[2]})})};t.getPondPrepareByPondPrePareUUId=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=e.body.pondPrepareUUId;this.pondPrepareServices.models.findOne({where:{pondPrepareUUId:t}}).then(function(e){if(!e){r.status(200).json({success:false,message:"Không tìm thấy nhật ký chuẩn bị ao."})}else{r.status(200).json({success:true,message:"",pondPrepare:e})}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.getById=function(e,r,n){return s(t,void 0,void 0,function(){var t,n;return o(this,function(s){t=e.headers.pondprepareid;n=new i.PondPrepare;n.setPondPrepareId=t-0;n.getById(n.getPondPrepareId).then(function(e){r.status(200).json({success:true,message:"",pondPrepare:e})}).catch(function(e){r.status(200).json({success:false,message:"Không có thông tin của đợt chuẩn bị này, vui lòng kiểm tra lại, cảm ơn!"})});return[2]})})};t.updatePondPrepare=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a;return o(this,function(o){t=new i.PondPrepare;n=e.body,s=n.pondPrepareId,a=n.pondprepareName;if(!s){r.status(200).json({success:false,message:"Hành động không khuyến khích, vui lòng quay lại sau."});return[2,r.end()]}t.setPondPrepareId=s;t.setPondprepareName=a;t.update().then(function(e){r.status(200).json({success:true,message:"Cập nhật thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau, cảm ơn!"})});return[2]})})};t.addPrepare=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,d,f,p,h;var y=this;return o(this,function(g){switch(g.label){case 0:t=e.body,n=t.pondId,a=t.ownerId,u=t.pondPrepareId,d=t.storageId,f=t.quantity,p=t.seasonAndPondId;if(!!p)return[3,2];return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:a,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:h=g.sent();return[2,this.sequeliz.transaction().then(function(e){return s(y,void 0,void 0,function(){var t,n,s;return o(this,function(o){switch(o.label){case 0:t=new i.Storage;return[4,t.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+f)},{where:{storageId:d},transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 1:n=o.sent();if(n){s=new i.PondPrepareDetail;s.setPondpreparedetails(null,l(),u,d,f);s.pondPrepareDetailsServices.models.create(s,{transaction:e}).then(function(t){r.status(200).json({success:true,message:"Thêm thành công."});e.commit()}).catch(function(t){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau.",e:t});e.rollback()})}return[2]}})})})];case 2:return[2,this.sequeliz.transaction().then(function(e){return s(y,void 0,void 0,function(){var t,n,s;return o(this,function(o){switch(o.label){case 0:t=new i.Storage;return[4,t.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+f)},{where:{storageId:d},transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 1:n=o.sent();if(n){s=new i.PondPrepareDetail;s.setPondpreparedetails(null,l(),u,d,f);s.pondPrepareDetailsServices.models.create(s,{transaction:e}).then(function(t){r.status(200).json({success:true,message:"Thêm thành công."});e.commit()}).catch(function(t){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau.",e:t});e.rollback()})}return[2]}})})})]}})})};t.addPrepareOldPond=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,d,f,h,y,g,b;var v=this;return o(this,function(m){switch(m.label){case 0:t=e.body,n=t.pondId,a=t.ownerId,u=t.pondPrepareName,d=t.detailsOfPrepare;f=this.validator(p.addPondPrepareSchema);h=this.validator.filter(p.addPondPrepareSchema);y=h(e.body);g=f(y);if(!g)return[3,2];return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:a,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:b=m.sent();if(!b){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}else{return[2,this.sequeliz.transaction().then(function(e){return s(v,void 0,void 0,function(){var t,n,s,a,c,f,p,h,y,g;return o(this,function(o){switch(o.label){case 0:t=new i.PondPrepare;t.setPondprepare(null,l(),b.seasonAndPondId,u);return[4,t.pondPrepareServices.models.create(t,{transaction:e}).catch(function(t){e.rollback()})];case 1:n=o.sent();if(!n)return[3,7];s=[];a=0,c=d;o.label=2;case 2:if(!(a<c.length))return[3,6];f=c[a];p=new i.Storage;return[4,p.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+f.quantity)},{where:{storageId:f.storageId},transaction:e}).catch(function(e){if(e.message==="FailQuantity"){r.status(200).json({success:false,message:"Số lượng cơ sở vật chất trong kho không đủ."})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})}})];case 3:h=o.sent();if(!!!h)return[3,5];y=new i.PondPrepareDetail;y.setPondpreparedetails(null,l(),n.pondPrepareId,f.storageId,f.quantity);return[4,y.pondPrepareDetailsServices.models.create(y,{transaction:e})];case 4:g=o.sent();if(g){s.push(1)}o.label=5;case 5:a++;return[3,2];case 6:if(d.length===s.length){e.commit();r.status(200).json({success:true,message:"Thêm thành công."})}else{return[2,e.rollback()]}return[3,8];case 7:return[2,e.rollback()];case 8:return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})})]}return[3,3];case 2:r.status(200).json({success:false,message:"Số lượng là số nguyên và lớn hơn 1, vui lòng nhập lại!"});m.label=3;case 3:return[2]}})})};t.addNewPrepare=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,p,h,y,g,b,v,m,_,O,P,I,S,A;var D=this;return o(this,function(w){t=e.body,n=t.pondPrepareId,a=t.pondPrepareName,u=t.detailsOfPrepare;p=e.body,h=p.pondName,y=p.pondArea,g=p.pondDepth,b=p.createCost,v=p.pondLatitude,m=p.pondLongitude,_=p.status;O=e.headers.authorization.split(" ")[1];P=d.Authentication.detoken(O);I=P.userId;S=P.createdBy==null&&P.roles.length===0?P.userId:P.roles[0].bossId;A=I===S;if(!A){return[2,r.status(200).json({success:false,message:"Bạn không đủ quyền truy cập api này."})]}if(!n){return[2,this.sequeliz.transaction().then(function(e){return s(D,void 0,void 0,function(){var t,n,s,d,p,O,P,I,A,D,w,j,U,N,E;return o(this,function(o){switch(o.label){case 0:t=new i.Pond;t.setPond(null,l(),S,h,y,g,b,f.DateUtil.getUTCDateTime(),_,_===1?1:0,_===1?1:0,c.defaultImage.pondImage,v!==""?v:undefined,m!==""?m:undefined);return[4,this.pondsServices.models.create(t,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});return e.rollback()})];case 1:n=o.sent();if(!!n)return[3,2];r.status(200).json({success:false,message:"Lỗi dữ liệu đường truyền, vui lòng thử lại sau"});return[2,e.rollback()];case 2:return[4,this.seasonServices.models.findOne({where:{userId:S,status:0},transaction:e}).catch(function(t){e.rollback()})];case 3:s=o.sent();if(!!s)return[3,4];r.status(200).json({success:false,message:"Bạn không có vụ đang kích hoạt, vui lòng kích hoạt vụ mùa để tiếp tục sử dụng hệ thống."});return[2,e.rollback()];case 4:d=new i.SeasonsAndPond;d.setSeasonsAndPond(null,s.seasonId,n.pondId);return[4,d.seasonAndPondServices.models.create(d,{transaction:e}).catch(function(t){return e.rollback()})];case 5:p=o.sent();if(!!p)return[3,6];return[2,e.rollback()];case 6:O=new i.PondPrepare;O.setPondprepare(null,l(),p.seasonAndPondId,a);return[4,O.pondPrepareServices.models.create(O,{transaction:e}).catch(function(t){return e.rollback()})];case 7:P=o.sent();if(!P)return[3,13];I=[];A=0,D=u;o.label=8;case 8:if(!(A<D.length))return[3,12];w=D[A];j=new i.Storage;return[4,j.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+w.quantity)},{where:{storageId:w.storageId},transaction:e}).catch(function(t){if(t.message.includes("FailQuantity")){r.status(200).json({success:false,message:"Không đủ số lượng trong kho."})}return e.rollback()})];case 9:U=o.sent();if(!!!U)return[3,11];N=new i.PondPrepareDetail;N.setPondpreparedetails(null,l(),P.pondPrepareId,w.storageId,w.quantity);return[4,N.pondPrepareDetailsServices.models.create(N,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."});return e.rollback()})];case 10:E=o.sent();if(E){I.push(1)}else{return[2,e.rollback()]}o.label=11;case 11:A++;return[3,8];case 12:if(u.length===I.length){r.status(200).json({success:true,message:"Thêm thành công."});return[2,e.commit()]}return[3,14];case 13:return[2,e.rollback()];case 14:return[2]}})})})]}return[2]})})};t.addIncurred=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u,c,f,p,h;return o(this,function(o){t=e.headers.authorization.split(" ")[1];n=d.Authentication.detoken(t);s=n.userId;a=e.body,u=a.pondPrepareId,c=a.incurredName,f=a.value,p=a.notes;h=new i.Incurred;h.setIncurred(null,l(),u,s,c,f,p);h.incurredsServices.models.create(h).then(function(e){if(!e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}else{r.status(200).json({success:true,message:"Thêm thành phí phát sinh thành công."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})});return[2]})})};t.updateIncurred=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a;return o(this,function(o){t=e.body,n=t.incurredUUId,s=t.incurredName,i=t.value,a=t.notes;this.incurredsServices.models.update({incurredName:s,value:i,notes:a},{where:{incurredUUId:n},returning:true}).then(function(e){if(!e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}else{r.status(200).json({success:true,message:"Cập nhật thành công phí phát sinh thành công."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})});return[2]})})};t.getIncurredByIncurredUUId=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=e.body.incurredUUId;this.incurredsServices.models.findOne({where:{incurredUUId:t}}).then(function(e){if(!e){r.status(200).json({success:false,message:"Không tìm thấy thông tin chi phí phát sinh."})}else{r.status(200).json({success:true,message:"",incurred:e})}}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[PondPrepareRoute] Creating action preparing of pond route.");this.router.post("/add",d.Authentication.isLogin,this.addPrepare);this.router.post("/addNew",d.Authentication.isLogin,this.addNewPrepare);this.router.post("/add/exiting-pond",d.Authentication.isLogin,this.addPrepareOldPond);this.router.post("/gets",d.Authentication.isLogin,this.getPondPrepares);this.router.post("/gets/uuid",d.Authentication.isLogin,this.getPondPrepareByPondPrePareUUId);this.router.put("/update",d.Authentication.isLogin,this.updatePondPrepare);this.router.post("/incurreds/add",d.Authentication.isLogin,this.addIncurred);this.router.post("/incurreds/get/uuid",d.Authentication.isLogin,this.getIncurredByIncurredUUId);this.router.put("/incurreds/update",d.Authentication.isLogin,this.updateIncurred);this.logEndpoints(this.router,t.path)};t.path="/pondPrepares";return t}(u.BaseRoute);t.PondPrepareRoute=h},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(250))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(12);var l=r(11);var d=function(e){n(t,e);function t(){var t=e.call(this)||this;t.addDetail=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,l;var d=this;return o(this,function(f){t=new i.PondPrepareDetail;n=e.body,a=n.pondPrepareId,u=n.materialId,l=n.quantity;t.setPondpreparedetails(undefined,c(),a,u,l);return[2,this.sequeliz.transaction().then(function(e){return s(d,void 0,void 0,function(){var n;var a=this;return o(this,function(c){n=new i.Material;return[2,n.materialServives.models.update({quantity:this.sequeliz.literal("quantity - "+l)},{where:{materialId:u},transaction:e}).then(function(){return s(a,void 0,void 0,function(){return o(this,function(n){return[2,t.pondPrepareDetailsServices.models.create(t,{transaction:e}).then(function(){r.status(200).json({success:true,message:"Thao tác thành công."});return e.commit()}).catch(function(e){r.status(200).json({success:true,message:"Có lỗi xảy ra, chưa thêm được nhật ký chuẩn bị, xin thử lại, cảm ơn!"})})]})})}).catch(function(t){e.rollback();r.status(200).json({success:false,message:"Trong kho không đủ số lượng, vui lòng kiểm tra lại, cảm ơn!"})})]})})})]})})};t.updatePondPrepare=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,c,l,d,f;var p=this;return o(this,function(h){t=e.body,n=t.materialId,a=t.pondPrepareId,u=t.quantityOld,c=t.quantityNew,l=t.pondPrepareDetailId;d=u*1-c*1;f=new i.PondPrepareDetail;f.setPondpreparedetails(l,undefined,a,n,d);return[2,this.sequeliz.transaction().then(function(e){return s(p,void 0,void 0,function(){var t;var a=this;return o(this,function(u){t=new i.Material;return[2,t.materialServives.models.update({quantity:this.sequeliz.literal("quantity + "+d)},{where:{materialId:n},transaction:e}).then(function(){return s(a,void 0,void 0,function(){return o(this,function(t){return[2,f.pondPrepareDetailsServices.models.update(f,{where:{},transaction:e}).then(function(){r.status(200).json({success:true,message:"Cập nhật thành công!"});return e.commit()}).catch(function(t){r.status(200).json({success:true,message:"Có lỗi xảy ra, vui lòng thử lại, cảm ơn!"});e.rollback()})]})})}).catch(function(t){r.status(200).json({success:false,message:"Trong kho không đủ số lượng, vui lòng kiểm tra lại, cảm ơn!"});e.rollback()})]})})})]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[PondPrepareDetailRoute] Creating details of preparing pond action route.");this.router.post("/add",l.Authentication.isLogin,this.addDetail);this.router.put("/update",l.Authentication.isLogin,this.updatePondPrepare);this.logEndpoints(this.router,t.path)};t.path="/PondPrepareDetails";return t}(u.BaseRoute);t.PondPrepareDetailRoute=d},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(252))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(1);var l=r(12);var d=r(11);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.storegeOwnwerServices=new a.StoregeOwnwerServices;t.userRolesServices=new a.UserRolesServices;t.userServives=new a.UserServives;t.storegeServices=new a.StoregeServices;t.seasonServices=new a.SeasonServices;t.couponServives=new a.CouponServives;t.materialServives=new a.MaterialServives;t.boughtBreedDetailsServives=new a.BoughtBreedDetailsServives;t.breedServives=new a.BreedServives;t.addStorage=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,f,p,h,y,g;var b=this;return o(this,function(v){n=e.body,a=n.couponId,u=n.itemArr;f=e.headers.authorization.split(" ")[1];p=d.Authentication.detoken(f);h=p.userId;y=p.createdBy==null&&p.roles.length===0?p.userId:p.roles[0].bossId;g=h===y;this.userServives.models.findAll({include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(t={},t[this.sequeliz.Op.or]=[{userId:h},{bossId:h}],t.roles=2,t)},{model:this.seasonServices.models,as:c.ActionAssociateDatabase.USER_2_SEASON,where:{userId:y,status:0}}]}).then(function(e){if(!e.length){return r.status(200).json({success:false,message:"Bạn không có vụ nào đang hoạt động, vui lòng thêm một vụ và quay lại sau."})}}).catch(function(e){return r.status(200).json({success:false,message:"Bạn không có quyền truy cập api này."})});return[2,this.sequeliz.transaction().then(function(e){return s(b,void 0,void 0,function(){var t,n,a,d,f,p,g,b,v,m;var _=this;return o(this,function(O){switch(O.label){case 0:return[4,this.storegeOwnwerServices.models.findOne({include:[{model:this.userServives.models,as:c.ActionAssociateDatabase.OWNER_TO_USER,include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.USER_2_SEASON,where:{userId:y,status:0}},{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(t={},t[this.sequeliz.Op.or]=[{userId:h},{bossId:h}],t.roles=2,t)}],attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}],where:{userId:y},transaction:e})];case 1:n=O.sent();if(!(n&&n.user.seasons.length))return[3,8];a=new i.Coupon;a.setUserId=h;a.setSeasonId=n.user.seasons[0].seasonId;return[4,a.couponServives.models.create(a,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Lỗi xác thực người dùng, vui lòng liên hệ nhà cung cấp để được hỗ trợ."});e.rollback()})];case 2:d=O.sent();if(!d)return[3,7];f=[];p=function(t){var a,u,c,p,h,c,p;return o(this,function(y){switch(y.label){case 0:a=new i.Storage;if(!(typeof t.product==="string"))return[3,5];a.setStorages(null,l(),n.storageOwnerId,t.product,t.quantity,t.unit,t.type,t.descriptions);return[4,a.storegeServices.models.create(a,{transaction:e}).catch(function(n){r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId});e.rollback()})];case 1:u=y.sent();if(!u)return[3,3];c=new i.Material;c.setMaterial(null,l(),d.couponId,u.storageId,t.provider,t.providerAddress,t.quantity,t.unit,t.unitPrice);return[4,c.materialServives.models.create(c,{transaction:e}).catch(function(n){return s(_,void 0,void 0,function(){return o(this,function(s){if(n.message.includes("FailWithInsertQuantityOfMaterials")){r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId})}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId})}e.rollback();return[2]})})})];case 2:p=y.sent();if(p){f.push(p)}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId});e.rollback()}return[3,4];case 3:r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau."});e.rollback();y.label=4;case 4:return[3,9];case 5:return[4,a.storegeServices.models.update({quantityStorages:g.sequeliz.literal("quantityStorages + "+t.quantity)},{where:{storageId:t.product.storageId,unit:t.product.unit},transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Lỗi nhập liệu vui lòng kiểm tra lại."});e.rollback()})];case 6:h=y.sent();if(!(h.length>0))return[3,8];c=new i.Material;c.setMaterial(null,l(),d.couponId,t.product.storageId,t.provider,t.providerAddress,t.quantity,t.product.unit,t.unitPrice);return[4,c.materialServives.models.create(c,{transaction:e}).catch(function(n){if(n.message.includes("FailWithInsertQuantityOfMaterials")){r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId})}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId})}e.rollback()})];case 7:p=y.sent();if(p){f.push(p)}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId});e.rollback()}return[3,9];case 8:r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId});e.rollback();y.label=9;case 9:return[2]}})};g=this;b=0,v=u;O.label=3;case 3:if(!(b<v.length))return[3,6];m=v[b];return[5,p(m)];case 4:O.sent();O.label=5;case 5:b++;return[3,3];case 6:if(f.length===u.length){r.status(200).json({success:true,message:"Thêm thành công."});e.commit()}else{r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau.",couponId:d.couponId});e.rollback()}return[3,8];case 7:r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng thử lại sau."});e.rollback();O.label=8;case 8:return[2]}})})})]})})};t.getStorages=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,u,l;return o(this,function(o){n=e.headers.type;s=e.headers.authorization.split(" ")[1];i=d.Authentication.detoken(s);a=i.userId;u=i.createdBy===null&&i.roles.length===0?i.userId:i.roles[0].bossId;l=a===u;this.storegeServices.models.findAll({include:[{model:this.storegeOwnwerServices.models,as:c.ActionAssociateDatabase.STORAGE_2_OWNER,include:[{model:this.userServives.models,as:c.ActionAssociateDatabase.OWNER_TO_USER,include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false}],attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}]},{model:this.materialServives.models,as:c.ActionAssociateDatabase.STORAGE_2_MATERIAL,include:[{model:this.couponServives.models,as:c.ActionAssociateDatabase.MATERIAL_2_COUPON}]}],where:(t={},t[this.sequeliz.Op.or]=[{"$owner.userId$":a},{"$owner->user->employees.userId$":a,"$owner->user->employees.roles$":2},{"$owner->user->employees.userId$":a,"$owner->user->employees.roles$":1}],t.type=n-0,t)}).then(function(e){if(!e.length){return r.status(200).json({success:false,message:"Bạn không có vật phẩm nào trong kho của mình!",storages:e})}return r.status(200).json({success:true,message:"",storages:e})}).catch(function(e){e;return r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau!"})});return[2]})})};t.getStorageById=function(e,r,n){return s(t,void 0,void 0,function(){return o(this,function(e){return[2]})})};t.updateStorage=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(r){t=e.body.storageUUId;return[2]})})};t.getCoupon=function(e,r,n){return s(t,void 0,void 0,function(){var t,n;return o(this,function(s){t=e.params.seasonId;n={include:[{model:this.materialServives.models,as:c.ActionAssociateDatabase.COUPON_2_MATERIAL,required:false,include:[{model:this.storegeServices.models,as:c.ActionAssociateDatabase.MATERIAL_2_STORAGE}]},{model:this.boughtBreedDetailsServives.models,as:c.ActionAssociateDatabase.COUPON_2_BOUGHT_BREED_DETAILS,required:false,include:[{model:this.breedServives.models,as:c.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_BREED}]}],where:{seasonId:t}};this.couponServives.models.findAll(n).then(function(e){if(!e.length){return r.status(200).json({success:false,message:"Không tìm thấy bất kỳ lịch sử nhập kho nào.",coupons:e})}return r.status(200).json({success:true,message:"",coupons:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau.",e})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[StorageRoute] Creating storage route.");this.router.get("/gets",d.Authentication.isLogin,this.getStorages);this.router.get("/gets/:storageId",d.Authentication.isLogin,this.getStorageById);this.router.get("/coupons/gets/:seasonId",d.Authentication.isLogin,this.getCoupon);this.router.post("/add",d.Authentication.isLogin,this.addStorage);this.router.put("/update",d.Authentication.isLogin,this.updateStorage);this.logEndpoints(this.router,t.path)};t.path="/storages";return t}(u.BaseRoute);t.StorageRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(254))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(10);var u=r(0);var c=r(1);var l=r(9);var d=r(11);var f=r(12);var p=function(e){n(t,e);function t(){var t=e.call(this)||this;t.breedOwnwerServices=new u.BreedOwnwerServices;t.userRolesServices=new u.UserRolesServices;t.userServives=new u.UserServives;t.breedServives=new u.BreedServives;t.seasonServices=new u.SeasonServices;t.boughtBreedDetailsServives=new u.BoughtBreedDetailsServives;t.couponServives=new u.CouponServives;t.addBreed=function(e,r){return s(t,void 0,void 0,function(){var t,n,u,l,p,h,y,g;var b=this;return o(this,function(v){t=e.body,n=t.couponId,u=t.itemArr;l=e.headers.authorization.split(" ")[1];p=d.Authentication.detoken(l);h=p.userId;y=p.createdBy==null&&p.roles.length===0?p.userId:p.roles[0].bossId;g=h===y;return[2,this.sequeliz.transaction().then(function(e){return s(b,void 0,void 0,function(){var t,n,l,d,p,g,b,v,m,_;var O=this;return o(this,function(P){switch(P.label){case 0:return[4,this.breedOwnwerServices.models.findOne({include:[{model:this.userServives.models,as:c.ActionAssociateDatabase.OWNER_TO_USER,include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.USER_2_SEASON,where:{userId:y,status:0}},{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(t={},t[this.sequeliz.Op.or]=[{userId:h},{bossId:h}],t.roles=2,t)}],attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}],where:{userId:y},transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."});e.rollback()})];case 1:n=P.sent();if(!(n&&n.user.seasons.length))return[3,8];l=new i.Coupon;l.setUserId=h;l.setSeasonId=n.user.seasons[0].seasonId;return[4,l.couponServives.models.create(l,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Lỗi xác thực người dùng, vui lòng liên hệ nhà cung cấp để được hỗ trợ."});e.rollback()})];case 2:d=P.sent();if(!d)return[3,7];p=[];g=function(t){var i,u,c,l,h,c,y;return o(this,function(g){switch(g.label){case 0:i=new a.Breed;if(!(typeof t.breedName==="string"))return[3,4];i.setBreed(null,f(),n.ownerId,t.breedName,t.quantity,t.unit,t.loopOfBreed);return[4,i.breedServives.models.create(i,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."});e.rollback()})];case 1:u=g.sent();if(!u)return[3,3];c=new a.BoughtBreedDetail;c.setBoughtBreedDetails(null,f(),d.couponId,u.breedId,t.quantity,t.unit,t.unitPrice,t.soldAddress,t.testingAgency,t.testingAgency);return[4,c.boughtBreedDetailsServives.models.create(c,{transaction:e}).catch(function(n){return s(O,void 0,void 0,function(){return o(this,function(s){if(n.message.includes("FailQuantityBoughtBreedDetails")){r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId})}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId})}e.rollback();return[2]})})})];case 2:l=g.sent();if(l){p.push(l)}g.label=3;case 3:return[3,8];case 4:return[4,i.breedServives.models.update({totalQuantity:b.sequeliz.literal("totalQuantity + "+t.quantity)},{where:{breedId:t.breedName.breedId,unit:t.breedName.unit},returning:true,transaction:e}).catch(function(n){if(n.message.includes("FailQuantityBreed")){r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId})}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId})}e.rollback()})];case 5:h=g.sent();if(!(h.length>0))return[3,7];c=new a.BoughtBreedDetail;c.setBoughtBreedDetails(null,f(),d.couponId,t.breedName.breedId,t.quantity,t.breedName.unit,t.unitPrice,t.soldAddress,t.testingAgency,t.testingAgency);return[4,c.boughtBreedDetailsServives.models.create(c,{transaction:e}).catch(function(n){if(n.message.includes("FailQuantityBoughtBreedDetails")){r.status(200).json({success:false,message:"Lỗi nhập liệu số lượng vui lòng kiểm tra lại.",position:t.position,couponId:d.couponId})}else{r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng kiểm tra và thử lại sau.",position:t.position,couponId:d.couponId})}e.rollback()})];case 6:y=g.sent();p.push(y);return[3,8];case 7:e.rollback();r.status(200).json({success:false,message:"Có lỗi xảy ra.",position:t.position,couponId:d.couponId});g.label=8;case 8:return[2]}})};b=this;v=0,m=u;P.label=3;case 3:if(!(v<m.length))return[3,6];_=m[v];return[5,g(_)];case 4:P.sent();P.label=5;case 5:v++;return[3,3];case 6:if(p.length===u.length){r.status(200).json({success:true,message:"Thao tác thành công."});e.commit()}else{r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau.",couponId:d.couponId});e.rollback()}return[3,8];case 7:r.status(200).json({success:false,message:"Thực hiện không thành công, vui lòng thử lại sau."});e.rollback();P.label=8;case 8:return[2]}})})})]})})};t.getBreed=function(e,r){return s(t,void 0,void 0,function(){var t,n,s,i,a,u,l;return o(this,function(o){n=e.headers.authorization.split(" ")[1];s=d.Authentication.detoken(n);i=s.userId;a=s.createdBy===null&&s.roles.length===0?s.userId:s.roles[0].bossId;u=i===a;l={include:[{model:this.breedOwnwerServices.models,as:c.ActionAssociateDatabase.BREED_2_OWNER_BREED,include:[{model:this.userServives.models,as:c.ActionAssociateDatabase.OWNER_BREED_TO_USER,include:[{model:this.userRolesServices.models,as:c.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false}],attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}]},{model:this.boughtBreedDetailsServives.models,as:c.ActionAssociateDatabase.BREED_2_BOUGHT_BREED_DETAIL,include:[{model:this.couponServives.models,as:c.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_COUPON}]}],where:(t={},t[this.sequeliz.Op.or]=[{"$owner.userId$":i},{"$owner->user->employees.userId$":i,"$owner->user->employees.roles$":2},{"$owner->user->employees.userId$":i,"$owner->user->employees.roles$":2}],t)};this.breedServives.models.findAll(l).then(function(e){if(!e.length){return r.status(200).json({success:false,message:"Hiện tại trong kho không có giống nào.",breeds:e})}return r.status(200).json({success:true,message:"",breeds:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra!"})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){u.logger.info("[BreedRoute] Creating breed route.");this.router.get("/gets",d.Authentication.isLogin,this.getBreed);this.router.post("/add",d.Authentication.isLogin,this.addBreed);this.logEndpoints(this.router,t.path)};t.path="/breeds";return t}(l.BaseRoute);t.BreedRoute=p},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(256))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(10);var u=r(0);var c=r(9);var l=r(1);var d=r(12);var f=r(11);var p=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonServices=new u.SeasonServices;t.seasonAndPondServices=new u.SeasonAndPondServices;t.breedServives=new u.BreedServives;t.stockingServices=new u.StockingServices;t.stockingDetailsServices=new u.StockingDetailsServices;t.pondsServices=new u.PondsServices;t.userServives=new u.UserServives;t.pondUserRolesServices=new u.PondUserRolesServices;t.addStocking=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,u,c,p,h,y,g,b,v,m,_,O;var P=this;return i(this,function(I){switch(I.label){case 0:t=e.body,n=t.pondId,s=t.breedId,u=t.stockingQuantity,c=t.phFirst,p=t.salinityFirst,h=t.notes,y=t.createdDate;g=e.headers.authorization.split(" ")[1];b=f.Authentication.detoken(g);v=b.userId;m=b.createdBy==null&&b.roles.length===0?b.userId:b.roles[0].bossId;_=v===m;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:m,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:O=I.sent();if(O){this.sequeliz.transaction().then(function(e){return o(P,void 0,void 0,function(){var t,o,l,f,g;return i(this,function(i){switch(i.label){case 0:t=new a.Stocking;t.setStocking(null,d(),O.seasonAndPondId,h,y);return[4,t.stockingServices.models.create(t,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 1:o=i.sent();if(!o)return[3,4];return[4,this.breedServives.models.update({totalQuantity:this.sequeliz.literal("totalQuantity - "+u)},{where:{breedId:s}}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 2:l=i.sent();if(!l)return[3,4];f=new a.StockingDetail;f.setStockingdetails(d(),s,o.stockingId,u,c,p);return[4,f.stockingDetailsServices.models.create(f,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 3:g=i.sent();if(!!Object.keys(g).length){this.pondsServices.models.update({status:1},{where:{pondId:n},transaction:e}).then(function(t){if(!!Object.keys(t).length){e.commit();return r.status(200).json({success:true,message:"Thêm nhật ký thả nuôi thành công."})}else{e.rollback();r.status(200).json({success:false,message:"Không thể thêm nhật ký thả nuôi."})}}).catch(function(t){e.rollback()})}i.label=4;case 4:return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})}else{r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}return[2]}})})};t.getStocking=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,a,u;return i(this,function(i){n=e.body,s=n.seasonId,o=n.ownerId;a=e.headers.authorization.split(" ")[1];u=f.Authentication.detoken(a);this.stockingServices.models.findAll({include:[{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.STOCKING_2_SEASON_AND_POND,where:{seasonId:s},include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:o},attributes:[]},{model:this.pondsServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_POND,include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.POND_2_EMPLOYEE_MAYNY_ROLES,required:false,attributes:[]},{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,required:false,attributes:[]}]}]},{model:this.stockingDetailsServices.models,as:l.ActionAssociateDatabase.STOCKING_2_STOCKING_DETAILS,include:[{model:this.breedServives.models,as:l.ActionAssociateDatabase.STOCKING_DETAILS_2_BREED}]}],where:(t={},t[this.sequeliz.Op.or]=[{"$seasonAndPond->ponds.userId$":u.userId},{"$seasonAndPond->ponds->users->ponduserroles.userId$":u.userId}],t)}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Không tìm thấy nhật ký thả ao."})}else{r.status(200).json({success:true,message:"",stocking:e})}}).catch(function(e){r.status(200).json({success:true,message:"Đã xảy ra lỗi vui lòng thử lại sau.",e})});return[2]})})};t.getStockingDetailsByStockingDetailsUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t;return i(this,function(n){t=e.body.stockingDetailUUId;this.stockingDetailsServices.models.findOne({where:{stockingDetailUUId:t}}).then(function(e){if(!e){r.status(200).json({success:false,message:"Không tìm thấy hoạt động thả nuôi."})}else{r.status(200).json({success:true,message:"",stockingDetails:e})}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra."})});return[2]})})};t.updateStockingDetailsByStockingDetailsUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,c,l,d;var f=this;return i(this,function(i){t=e.body,n=t.stockingDetailUUId,o=t.breedId,a=t.stockingQuantity,u=t.oldValue,c=t.phFirst,l=t.salinityFirst;d={};if(a>=u){d={totalQuantity:this.sequeliz.literal("totalQuantity - "+(a-u))}}else{d={totalQuantity:this.sequeliz.literal("totalQuantity + "+(u-a))}}this.breedServives.models.update(s({},d,{salinityFirst:l,phFirst:c}),{where:{breedId:o}}).then(function(e){f.stockingDetailsServices.models.update({stockingQuantity:a},{where:{stockingDetailUUId:n},returning:true}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Thất bại, vui lòng thử lại sau."})}else{r.status(200).json({success:true,message:"Cập nhật thành công!"})}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra."})})}).catch(function(e){e;if(e.message.includes("FailQuantityBreed")){r.status(200).json({success:false,message:"Số lượng không phù hợp, vui lòng kiểm tra lại!"})}else{r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})}});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){u.logger.info("[StockingRoute] Creating stocking route.");this.router.post("/add",f.Authentication.isLogin,this.addStocking);this.router.post("/gets",f.Authentication.isLogin,this.getStocking);this.router.post("/get/stockingDetailUUId",f.Authentication.isLogin,this.getStockingDetailsByStockingDetailsUUId);this.router.put("/update",f.Authentication.isLogin,this.updateStockingDetailsByStockingDetailsUUId);this.logEndpoints(this.router,t.path)};t.path="/stocking";return t}(c.BaseRoute);t.StockingRoute=p},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(258))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(1);var l=r(12);var d=r(11);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.diedFisherysServives=new a.DiedFisherysServives;t.addDiedFishery=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u,d,f,p,h;return o(this,function(o){switch(o.label){case 0:t=e.body,n=t.pondId,s=t.ownerId,a=t.card,u=t.quantity,d=t.solutions,f=t.employee;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:s,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){e;r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:p=o.sent();if(!!Object.keys(p).length){h=new i.DiedFishery;h.setDiedfisherys(null,l(),p.seasonAndPondId,a,u,d,f);h.diedFisherysServives.models.create(h).then(function(e){r.status(200).json({success:true,message:"Thêm thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})}else{r.status(200).json({success:false,message:"Lỗi đường truyền!"})}return[2]}})})};t.getDiedFishery=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){t=e.body,n=t.seasonId,s=t.pondId,i=t.ownerId;this.diedFisherysServives.models.findAll({include:[{model:this.seasonAndPondServices.models,as:c.ActionAssociateDatabase.DIED_FISHERY_2_SEASON_AND_POND,where:{seasonId:n,pondId:s}}],order:[["createdDate","DESC"]]}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Không tìm thấy nhật ký sử lý chất thải."})}else{r.status(200).json({success:true,message:"",wastes:e})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi, vui lòng thử lại sau."})});return[2]})})};t.getDiedFisheryByDiedFisheryUUId=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=e.body.diedFisheryUUId;this.diedFisherysServives.models.findOne({where:{diedFisheryUUId:t}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."})}).then(function(e){if(!e){r.status(200).json({success:false,message:"Không tìm thấy."})}else{r.status(200).json({success:true,message:"",waste:e.dataValues})}});return[2]})})};t.updateDiedFisheryByDiedFisheryUUId=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u,c,l;return o(this,function(o){t=e.body,n=t.diedFisheryUUId,s=t.card,a=t.quantity,u=t.solutions,c=t.employee;l=new i.DiedFishery;l.setDiedfisherys(null,n,undefined,s,a,u,c);this.diedFisherysServives.models.update({card:s,quantity:a,solutions:u,employee:c},{where:{diedFisheryUUId:n},returning:true}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại sau!"})}else{r.status(200).json({success:true,message:"Cập nhật thông tin tăng trưởng thành công!"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[DiedFisheryRoute] Creating Died Fishery route.");this.router.post("/add",d.Authentication.isLogin,this.addDiedFishery);this.router.post("/gets",d.Authentication.isLogin,this.getDiedFishery);this.router.post("/get/diedFisheryUUId",d.Authentication.isLogin,this.getDiedFisheryByDiedFisheryUUId);this.router.put("/update",d.Authentication.isLogin,this.updateDiedFisheryByDiedFisheryUUId);this.logEndpoints(this.router,t.path)};t.path="/diedFishery";return t}(u.BaseRoute);t.DiedFisheryRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(260))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(1);var l=r(12);var d=r(11);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.growthsServives=new a.GrowthsServives;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.getGrowths=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){t=e.body,n=t.seasonId,s=t.pondId,i=t.ownerId;this.growthsServives.models.findAll({include:[{model:this.seasonAndPondServices.models,as:c.ActionAssociateDatabase.GROWTH_2_SEASON_AND_POND,where:{seasonId:n,pondId:s}}],order:[["createdDate","DESC"]]}).then(function(e){if(!!e.length){r.status(200).json({success:true,message:"",growths:e})}else{r.status(200).json({success:false,message:"Không tìm thấy thông tin tăng trưởng.",growths:[]})}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi, vui lòng thử lại sau."})});return[2]})})};t.addGrowth=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u,d,f,p,h;return o(this,function(o){switch(o.label){case 0:t=e.body,n=t.pondId,s=t.ownerId,a=t.averageDensity,u=t.averageMass,d=t.speedOdGrowth,f=t.livingRatio;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:s,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:p=o.sent();h=new i.Growth;if(p){h.setGrowths(null,l(),p.seasonAndPondId,a,u,d,f);h.growthsServives.models.create(h).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}).then(function(e){r.status(200).json({success:true,message:"Thêm thành công."})})}else{r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}return[2]}})})};t.getGrowthByUUId=function(e,r,n){return s(t,void 0,void 0,function(){var t;return o(this,function(n){t=e.body.growthUUId;this.growthsServives.models.findOne({where:{growthUUId:t}}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau."})}).then(function(e){if(!e){r.status(200).json({success:false,message:"Không tìm thấy."})}else{r.status(200).json({success:true,message:"",growth:e.dataValues})}});return[2]})})};t.updateGrowth=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u,c,l;return o(this,function(o){t=e.body,n=t.growthUUId,s=t.averageDensity,a=t.averageMass,u=t.speedOdGrowth,c=t.livingRatio;l=new i.Growth;l.setGrowthUUId=n;if(!n){r.status(200).json({success:false,message:"Hành động không được phép, vui lòng thử lại sau!"})}else{l.setGrowths(undefined,n,undefined,s,a,u,c,undefined,undefined,undefined,undefined,undefined);l.growthsServives.models.update(l.getFields(l),{where:{growthUUId:n},returning:true}).then(function(e){if(!e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại sau!"})}else{r.status(200).json({success:true,message:"Cập nhật thông tin tăng trưởng thành công!"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})}return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[GrowthsRoute] Creating growth route.");this.router.post("/add",d.Authentication.isLogin,this.addGrowth);this.router.post("/gets",d.Authentication.isLogin,this.getGrowths);this.router.post("/get/growthUUId",d.Authentication.isLogin,this.getGrowthByUUId);this.router.put("/update",d.Authentication.isLogin,this.updateGrowth);this.logEndpoints(this.router,t.path)};t.path="/growths";return t}(u.BaseRoute);t.GrowthsRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(262))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(1);var l=r(12);var d=r(11);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.harvestsServives=new a.HarvestsServives;t.harvestDetailsServives=new a.HarvestDetailsServives;t.pondsServices=new a.PondsServices;t.stockingServices=new a.StockingServices;t.stockingDetailsServices=new a.StockingDetailsServices;t.breedServives=new a.BreedServives;t.addHarvest=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,d,f,p,h,y;var g=this;return o(this,function(b){switch(b.label){case 0:t=e.body,n=t.pondId,a=t.ownerId,u=t.harvestId,d=t.harvestName,f=t.quantity,p=t.unitPrice;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:a,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:h=b.sent();if(!u){return[2,this.sequeliz.transaction().then(function(e){return s(g,void 0,void 0,function(){var t,n,s;return o(this,function(o){switch(o.label){case 0:t=new i.Harvest;t.setHarvests(null,l(),h.seasonAndPondId,d);return[4,t.harvestsServives.models.create(t,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 1:n=o.sent();if(n){s=new i.HarvestDetail;s.setHarvestdetails(l(),n.harvestId,f,p);s.harvestDetailsServives.models.create(s,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()}).then(function(t){r.status(200).json({success:true,message:"Thêm thành công."});e.commit()})}return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})]}else{y=new i.HarvestDetail;y.setHarvestdetails(l(),u,f,p);y.harvestDetailsServives.models.create(y).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}).then(function(e){r.status(200).json({success:true,message:"Thêm thành công."})})}return[2]}})})};t.getHarvest=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.body,n=t.seasonId,s=t.pondId;this.harvestsServives.models.findAll({include:[{model:this.seasonAndPondServices.models,as:c.ActionAssociateDatabase.HARVEST_2_SEASON_AND_POND,include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{seasonId:n}},{model:this.pondsServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_POND,where:{pondId:s}},{model:this.stockingServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_STOCKING,required:false,include:[{model:this.stockingDetailsServices.models,as:c.ActionAssociateDatabase.STOCKING_2_STOCKING_DETAILS,include:[{model:this.breedServives.models,as:c.ActionAssociateDatabase.STOCKING_DETAILS_2_BREED}]}]}]},{model:this.harvestDetailsServives.models,as:c.ActionAssociateDatabase.HARVEST_2_HARVEST_DETAILS}]}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Không tìm thấy nhật ký thu hoạch."})}else{r.status(200).json({success:true,message:"",harvests:e})}}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[HarvestRoute] Creating harvest route.");this.router.post("/add",d.Authentication.isLogin,this.addHarvest);this.router.post("/gets",d.Authentication.isLogin,this.getHarvest);this.logEndpoints(this.router,t.path)};t.path="/harvests";return t}(u.BaseRoute);t.HarvestRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(264))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(11);var c=r(10);var l=r(1);var d=function(e){n(t,e);function t(){var t=e.call(this)||this;t.userServives=new i.UserServives;t.userRolesServices=new i.UserRolesServices;t.getAllMyEmployee=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,c,d,f;return o(this,function(o){t=e.headers.roles;n=e.headers.authorization.split(" ")[1];s=u.Authentication.detoken(n);i=s.userId;a=s.createdBy==null&&s.roles.length===0?s.userId:s.roles[0].bossId;c=i===a;d={include:[],where:{}};f={model:this.userServives.models,as:l.ActionAssociateDatabase.USER_ROLES_2_USER,attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]};d.include.push(f);if(c){if(t){d.where={bossId:i,roles:t}}else{d.where={bossId:i}}}else{return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})]}this.userRolesServices.models.findAll(d).then(function(e){if(e){r.status(200).json({success:true,message:"",employees:e})}else{if(t==="1"){r.status(200).json({success:false,message:"Bạn không có nhân viên quản lý AO nào cả."})}else if(t==="2"){r.status(200).json({success:false,message:"Bạn không có nhân viên quản lý KHO nào cả."})}else{r.status(200).json({success:false,message:"Bạn không có nhân viên nào cả. Vui lòng thêm tài khoản cho nhân viên và thử lại sau."})}}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xãy ra, xin vui lòng thử lại!"})});return[2]})})};t.getRoleByRoleId=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,c;return o(this,function(o){t=e.params.roleId;n=e.headers.authorization.split(" ")[1];s=u.Authentication.detoken(n);i=s.userId;a=s.createdBy==null&&s.roles.length===0?s.userId:s.roles[0].bossId;c=i===a;if(!c){return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})]}this.userRolesServices.models.findById(t).then(function(e){if(e){r.status(200).json({success:true,message:"",role:e})}else{r.status(200).json({success:false,message:"Không tìm thấy danh mục phân quyền này."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau."})});return[2]})})};t.deleteRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i;return o(this,function(o){t=e.headers.authorization.split(" ")[1];n=u.Authentication.detoken(t);s=n.userId;i=e.body.rolesId;this.userRolesServices.models.destroy({where:{bossId:s,rolesId:i}}).then(function(e){r.status(200).json({success:true,message:"Thu hồi thành công!"})}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau!"})});return[2]})})};t.upsertRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,l,d,f;return o(this,function(o){switch(o.label){case 0:t=new c.UserRole;n=e.headers.authorization.split(" ")[1];s=u.Authentication.detoken(n);i=e.body,a=i.userId,l=i.roles,d=i.isDeleted;t.setBossId=s.userId;t.setUserId=a;t.setRoles=l;t.setIsDeleted=d;return[4,this.userRolesServices.models.findAll({where:{userId:a,bossId:s.userId}}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 1:f=o.sent();if(!f){return[2,r.status(200).json({success:false,message:"Bạn không có quyền thao tác này!"})]}t.userRolesServices.models.upsert(t.getFields(),{fields:["roles","isDeleted"],returning:true}).then(function(e){r.status(200).json({success:true,message:"Thao tác thành công."})}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})});return[2]}})})};t.changeRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,i,a,l,d;var f=this;return o(this,function(p){t=e.body,n=t.rolesId,i=t.userId,a=t.roles,l=t.isDeleted;d=new c.UserRole;return[2,this.sequeliz.transaction().then(function(t){return s(f,void 0,void 0,function(){var l=this;return o(this,function(f){d=new c.UserRole;d.setRolesId=n;d.setIsDeleted=1;d.userRolesServices.models.upsert(d.getFields(),{fields:["roles","isDeleted"],returning:true,transaction:t}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau!"});t.rollback()}).then(function(n){return s(l,void 0,void 0,function(){var n,l;var f=this;return o(this,function(p){n=e.headers.authorization.split(" ")[1];l=u.Authentication.detoken(n);d=new c.UserRole;d.setBossId=l.userId;d.setUserId=i;d.setRoles=a;d.setIsDeleted=0;d.userRolesServices.models.upsert(d.getFields(),{fields:["roles","isDeleted"],returning:true,transaction:t}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng kiểm tra và thử lại sau!"});t.rollback()}).then(function(e){return s(f,void 0,void 0,function(){return o(this,function(e){r.status(200).json({success:true,message:"Thực hiện thành công."});t.commit();return[2]})})});return[2]})})});return[2]})})})]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[UserRoleRoute] Creating roles of user route.");this.router.get("/gets",u.Authentication.isLogin,this.getAllMyEmployee);this.router.get("/get/:roleId",u.Authentication.isLogin,this.getRoleByRoleId);this.router.put("/delete",u.Authentication.isLogin,this.deleteRoles);this.router.put("/upsert",u.Authentication.isLogin,this.upsertRoles);this.router.put("/change",u.Authentication.isLogin,this.changeRoles);this.logEndpoints(this.router,t.path)};t.path="/userRoles";return t}(a.BaseRoute);t.UserRoleRoute=d},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(266))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(11);var l=r(1);var d=function(e){n(t,e);function t(){var t=e.call(this)||this;t.pondUserRolesServices=new a.PondUserRolesServices;t.userRolesServices=new a.UserRolesServices;t.userServives=new a.UserServives;t.pondsServices=new a.PondsServices;t.addPondRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a;return o(this,function(o){t=new i.PondUserRole;n=e.body,s=n.userId,a=n.pondId;t.setUserId=s-0;t.setPondId=a;t.pondUserRolesServices.models.create(t.getFields(t)).then(function(e){if(e){r.status(200).json({success:true,message:"Thao tác thành công!"})}else{r.status(200).json({success:false,message:"Người đã có quyền trên ao này."})}}).catch(function(e){if(e){r.status(200).json({success:false,message:"Có lỗi xảy ra vui lòng kiểm tra và thử lại!"})}});return[2]})})};t.getUserManageWithPond=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a;return o(this,function(o){t=e.headers.authorization.split(" ")[1];n=c.Authentication.detoken(t);s=n.userId;i=n.createdBy==null&&n.roles.length===0?n.userId:n.roles[0].bossId;a=s===i;if(!a){return[2,r.status(200).json({success:false,message:"Dừng lại! Truy cập là trái phép."})]}else{this.userRolesServices.models.findAll({include:[{model:this.userServives.models,as:l.ActionAssociateDatabase.USER_ROLES_2_USER,include:[{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.USER_2_POND_USER_ROLE,required:false,include:[{model:this.pondsServices.models,as:l.ActionAssociateDatabase.POND_USER_ROLE_2_POND,required:false}]}],attributes:["userId","userUUId","lastname","firstname","username","createdDate","createdBy"]}],where:{bossId:s,roles:1}}).then(function(e){if(!e.length){r.status(200).json({success:false,message:"Bạn không có nhân viên vào.",employees:e})}else{r.status(200).json({success:true,message:"",employees:e})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})})}return[2]})})};t.updateRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,a,u;return o(this,function(o){t=new i.PondUserRole;n=e.headers.authorization.split(" ")[1];s=e.body,a=s.pondUserRolesId,u=s.pondId;if(!u&&!a){r.status(200).json({success:false,message:"Hành động không được phép, vui lòng thử lại sau!"})}else{t.setPondUserRolesId=a;t.setPondId=u;t.pondUserRolesServices.models.update(t.getFields(t),{where:{pondUserRolesId:a}}).then(function(e){if(!e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, xin vui lòng thử lại sau!"})}else{r.status(200).json({success:true,message:"Cập nhật thành công!"})}}).catch(function(e){r.status(200).json({success:false,message:"Nhân viên đã có quyền thao tác với ao này, vui lòng kiểm tra và thử lại sau!"})})}return[2]})})};t.deleteRoles=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=new i.PondUserRole;n=e.headers.authorization.split(" ")[1];s=e.body.pondUserRolesId;t.setIsDeleted=1;t.pondUserRolesServices.models.destroy({where:{pondUserRolesId:s}}).then(function(e){r.status(200).json({success:true,message:"Thao tác thành công!"})}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau!"})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[PondUserRolesRoute] Creating role pond of user route.");this.router.post("/add",c.Authentication.isLogin,this.addPondRoles);this.router.get("/gets",c.Authentication.isLogin,this.getUserManageWithPond);this.router.put("/update",c.Authentication.isLogin,this.updateRoles);this.router.put("/delete",c.Authentication.isLogin,this.deleteRoles);this.logEndpoints(this.router,t.path)};t.path="/pondUserRoles";return t}(u.BaseRoute);t.PondUserRolesRoute=d},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(268))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(10);var c=function(e){n(t,e);function t(){var t=e.call(this)||this;t.getAll=function(e,r,n){return s(t,void 0,void 0,function(){var e;return o(this,function(t){e=new u.Material;e.materialServives.models.findAll().then(function(e){r.status(200).json({success:true,message:"",res:e})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[MaterialRoute] Creating materials route.");this.router.get("/gets",this.getAll)};t.path="/materials";return t}(a.BaseRoute);t.MaterialRoute=c},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(270))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(0);var a=r(9);var u=r(10);var c=r(1);var l=r(11);var d=r(3);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonServices=new i.SeasonServices;t.pondsServices=new i.PondsServices;t.seasonAndPondServices=new i.SeasonAndPondServices;t.addSeasonAndPond=function(e,r){return s(t,void 0,void 0,function(){var t,n,i,a,c,f,p,h;var y=this;return o(this,function(g){switch(g.label){case 0:t=e.body,n=t.seasonId,i=t.pondIdArr;a=e.headers.authorization.split(" ")[1];c=l.Authentication.detoken(a);f=c.userId;return[4,this.pondsServices.models.findAll({where:{userId:f},attributes:["pondId","userId"]}).catch(function(e){r.status(200).json({success:false,message:"Lỗi xác thực người dùng."})})];case 1:p=g.sent();h=d.differenceWith(i,p.map(function(e){return{pondId:e.pondId,userId:e.userId}}),d.isEqual);if(!!h.length){return[2,r.status(200).json({success:false,message:"Ao không hợp lệ, vui lòng kiểm tra và thử lại."})]}return[2,this.sequeliz.transaction().then(function(e){return s(y,void 0,void 0,function(){var t,s,a,c,l,d;return o(this,function(o){switch(o.label){case 0:t=[];s=0,a=i;o.label=1;case 1:if(!(s<a.length))return[3,4];c=a[s];l=new u.SeasonsAndPond;l.setSeasonsAndPond(null,n,c.pondId);return[4,l.seasonAndPondServices.models.create(l,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 2:d=o.sent();if(d){t.push(1)}else{r.status(200).json({success:false,message:"Thao tác bị lỗi, vui lòng thử lại sau."});e.rollback()}o.label=3;case 3:s++;return[3,1];case 4:if(i.length!==0&&i.length===t.length){e.commit();r.status(200).json({success:true,message:"Thêm thành công!"})}else{e.rollback();r.status(200).json({success:false,message:"Thao tác bị lỗi, vui lòng thử lại sau."})}return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})]}})})};t.updateSeasonAndPond=function(e,r){return s(t,void 0,void 0,function(){var t,n,s,i,a;return o(this,function(o){t=new u.SeasonsAndPond;n=e.body,s=n.seasonAndPondId,i=n.seasonId,a=n.pondId;t.setSeasonAndPondId=s;t.setSeasonId=i;t.setPondId=a;t.update().then(function(e){if(!e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, không thể thực hiện yêu cầu, vui long thử lại sau!"})}else{r.status(200).json({success:true,message:"Phân quyền thành công."})}});return[2]})})};t.countPondWithSeason=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.headers,n=t.ownerid,s=t.seasonid;this.seasonAndPondServices.models.findAndCountAll({include:[{model:this.seasonServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:n}}],where:{seasonId:s}}).then(function(e){r.status(200).json({success:true,message:"",result:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.countSeasonOfPond=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s;return o(this,function(o){t=e.headers,n=t.ownerid,s=t.pondid;this.seasonAndPondServices.models.findAndCountAll({include:[{model:this.pondsServices.models,as:c.ActionAssociateDatabase.SEASON_AND_POND_2_POND,where:{userId:n}}],where:{pondId:s}}).then(function(e){r.status(200).json({success:true,message:"",result:e})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){i.logger.info("[SeasonAndPondRoute] Creating season and pond associate route.");this.router.post("/add",this.addSeasonAndPond);this.router.put("/update",this.updateSeasonAndPond);this.router.get("/count/pondWithSeason",this.countPondWithSeason);this.router.get("/count/seasonWithPond",this.countSeasonOfPond);this.logEndpoints(this.router,t.path)};t.path="/seasonAndPond";return t}(a.BaseRoute);t.SeasonAndPondRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(272))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(12);var l=r(11);var d=r(1);var f=r(2);var p=function(e){n(t,e);function t(){var t=e.call(this)||this;t.takeCareServices=new a.TakeCareServices;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.usingFoodsServices=new a.UsingFoodsServices;t.storegeServices=new a.StoregeServices;t.pondsServices=new a.PondsServices;t.addUsingFood=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,f,p,h,y,g,b,v;var m=this;return o(this,function(_){switch(_.label){case 0:t=e.body,n=t.pondId,a=t.takeCareName,u=t.massOfFishery,f=t.feedingRate,p=t.storageId,h=t.quantity;y=e.headers.authorization.split(" ")[1];g=l.Authentication.detoken(y);b=g.createdBy==null&&g.roles.length===0?g.userId:g.roles[0].bossId;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:d.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:b,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:v=_.sent();return[2,this.sequeliz.transaction().then(function(e){return s(m,void 0,void 0,function(){var t,s,l,d;var y=this;return o(this,function(o){switch(o.label){case 0:return[4,this.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+h)},{where:{storageId:p},transaction:e,returning:true}).catch(function(t){if(t.message==="FailQuantity"){r.status(200).json({success:false,message:"Số lượng thức ăn trong kho không đủ."})}else{r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}e.rollback()})];case 1:t=o.sent();if(!t)return[3,3];s=new i.TakeCare;s.setTakecare(null,c(),v.seasonAndPondId,0,a);return[4,this.takeCareServices.models.create(s,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 2:l=o.sent();if(l){d=new i.UsingFood;d.setUsingFoods(null,c(),p,l.takeCareId,u,f,h);d.usingFoodsServices.models.create(d,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()}).then(function(t){y.pondsServices.models.update({isFed:1},{where:{pondId:n},transaction:e}).then(function(n){if(!n){e.rollback();r.status(200).json({success:false,message:"Thất bại."})}else{r.status(200).json({success:true,message:"Thêm thành công.",res:t});e.commit()}}).catch(function(t){e.rollback()})})}return[3,4];case 3:e.rollback();r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});o.label=4;case 4:return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})]}})})};t.getUsingFood=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,u,c,p,h,y,g;return o(this,function(o){n=e.body,s=n.pondId,i=n.seasonId,a=n.options;u=e.headers.authorization.split(" ")[1];c=l.Authentication.detoken(u);p=c.userId;h=c.createdBy==null&&c.roles.length===0?c.userId:c.roles[0].bossId;y=p===h;g={include:[{model:this.usingFoodsServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_USING_FOOD,where:{createdDate:(t={},t[this.sequeliz.Op.between]=[f.DateUtil.getUTCDateTime(f.DateUtil.startOf(f.DateUtil.parse(a.timeOut||new Date),a.unitOfTime)),f.DateUtil.getUTCDateTime(f.DateUtil.endOf(f.DateUtil.parse(a.timeOut||new Date),a.unitOfTime))],t)},include:[{model:this.storegeServices.models,as:d.ActionAssociateDatabase.USING_FOOD_2_STORAGE}],required:false}],where:{type:0}};if(y){g.include.push({model:this.seasonAndPondServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,where:{seasonId:i,pondId:s},attributes:[]})}else{g.include.push({model:this.seasonAndPondServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,where:{seasonId:i,pondId:s},include:[{model:this.seasonServices.models,as:d.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{status:0}}],attributes:[]})}this.takeCareServices.models.findAll(g).then(function(e){if(e){r.status(200).json({success:true,message:"",takeCare:e})}else{r.status(200).json({success:false,message:"Không tìm thấy nhật ký cho ăn của ao này"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[UsingFoodRoute] Creating Using Food route.");this.router.post("/add",l.Authentication.isLogin,this.addUsingFood);this.router.post("/gets",l.Authentication.isLogin,this.getUsingFood);this.logEndpoints(this.router,t.path)};t.path="/usingFoods";return t}(u.BaseRoute);t.UsingFoodRoute=p},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(274))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(10);var u=r(0);var c=r(9);var l=r(12);var d=r(11);var f=r(1);var p=r(2);var h=r(16);var y=function(e){n(t,e);function t(){var t=e.call(this)||this;t.seasonServices=new u.SeasonServices;t.pondsServices=new u.PondsServices;t.seasonAndPondServices=new u.SeasonAndPondServices;t.pondDiaryServices=new u.PondDiaryServices;t.userServives=new u.UserServives;t.userRolesServices=new u.UserRolesServices;t.addPondDiary=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,u,c,d,p,h,y,g;return i(this,function(i){switch(i.label){case 0:t=e.body,n=t.pondId,s=t.ownerId,o=t.fisheryQuantity,u=t.healthOfFishery,c=t.pondVolume,d=t.diedFishery,p=t.notes,h=t.diaryName;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:f.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:s,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:y=i.sent();if(y){g=new a.PondDiary;g.setPonddiary(null,l(),y.seasonAndPondId,h,o,u,c,d,p);g.insert().then(function(e){if(e){r.status(200).json({success:true,message:"Thêm nhật ký thành công!"})}}).catch(function(e){if(e){r.status(200).json({success:false,message:"Có lỗi xảy ra vui lòng kiểm tra lại!"})}})}else{r.status(200).json({success:false,message:"Bạn không có quyền vui liên hệ với quản lý của bạn để được hỗ trợ."})}return[2]}})})};t.getPondDiaries=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,a,u,c,l,h,y,g,b,v;return i(this,function(i){o=e.query,a=o.pondId,u=o.seasonId,c=o.timeOut,l=o.unitOfTime;h=e.headers.authorization.split(" ")[1];y=d.Authentication.detoken(h);g=y.userId;b=y.createdBy==null&&y.roles.length===0?y.userId:y.roles[0].bossId;v=g===b;this.pondDiaryServices.models.findAll({include:[{model:this.seasonAndPondServices.models,as:f.ActionAssociateDatabase.POND_DIARY_2_SEASON_AND_POND,include:[{model:this.pondsServices.models,as:f.ActionAssociateDatabase.SEASON_AND_POND_2_POND,include:[{model:this.userServives.models,as:f.ActionAssociateDatabase.POND_2_USER,include:[{model:this.userRolesServices.models,as:f.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(t={},t[this.sequeliz.Op.or]=[{bossId:g},{userId:g,roles:2}],t)}]}],where:{userId:b}},{model:this.seasonServices.models,as:f.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,include:[{model:this.userServives.models,as:f.ActionAssociateDatabase.SEASON_2_USER,include:[{model:this.userRolesServices.models,as:f.ActionAssociateDatabase.USER_2_ROLES_GET_EMPLOYEES,required:false,where:(n={},n[this.sequeliz.Op.or]=[{bossId:g},{userId:g,roles:2}],n)}]}],where:{userId:b}}],where:{seasonId:u,pondId:a}}],where:{createdDate:(s={},s[this.sequeliz.Op.between]=[p.DateUtil.getUTCDateTime(p.DateUtil.startOf(p.DateUtil.parse(c||new Date),l)),p.DateUtil.getUTCDateTime(p.DateUtil.endOf(p.DateUtil.parse(c||new Date),l))],s)}}).then(function(e){if(e){r.status(200).json({success:true,message:"",diaries:e})}else{r.status(200).json({success:false,message:"Không tìm thấy nhật ký cho ăn của ao này"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.getPondDiariesByUUId=function(e,r,n){return o(t,void 0,void 0,function(){var t,n;return i(this,function(s){t=e.params.pondDiaryUUId;n=new RegExp(f.isUUId4);if(n.test(t)){this.pondDiaryServices.models.findOne({where:{pondDiaryUUId:t}}).then(function(e){if(!!Object.keys(e).length){r.status(200).json({success:true,message:"",pondDiary:e})}else{r.status(200).json({success:false,message:"Không tìm thấy nhật ký."})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})}else{r.status(200).json({success:false,message:"Hiện tại chúng tôi không hỗ trợ api này."})}return[2]})})};t.deletePondDiary=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s;return i(this,function(o){t=e.params.primary;n=new RegExp(f.isUUId4);s={where:{}};if(n.test(t)){s.where={pondDiaryUUId:t}}else{s.where={pondDiaryId:t}}this.pondDiaryServices.models.update({isDeleled:1},s).then(function(e){r.status(200).json({success:true,message:"Đã xoá!",results:null})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})});return[2]})})};t.updatePondDiary=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,c,l,d,f;return i(this,function(i){t=this.validator(h.updatePondDiariesSchema);n=t(s({},e.body,{fisheryQuantity:Number(e.body.fisheryQuantity)}));if(!n){if(t.error.includes("pondDiaryUUId")){r.status(200).json({success:false,message:"Chúng tôi không hỗ trợ API này."})}if(t.error.includes("diaryName")){r.status(200).json({success:false,message:"Tên gợi nhắc không hợp lệ."})}if(t.error.includes("fisheryQuantity")){r.status(200).json({success:false,message:"Số lượng thuỷ sản không hợp lệ."})}if(t.error.includes("healthOfFishery")){r.status(200).json({success:false,message:"Tình trạng sức khoẻ không hợp lệ."})}if(t.error.includes("pondVolume")){r.status(200).json({success:false,message:"Thể tích ao không hợp lệ."})}if(t.error.includes("diedFishery")){r.status(200).json({success:false,message:"Số lượng cá chết không hợp lệ."})}if(t.error.includes("notes")){r.status(200).json({success:false,message:"Ghi chú không hợp lệ."})}}else{o=e.body,a=o.diaryName,u=o.fisheryQuantity,c=o.healthOfFishery,l=o.pondVolume,d=o.diedFishery,f=o.notes;this.pondDiaryServices.models.update({diaryName:a,fisheryQuantity:u,healthOfFishery:c,pondVolume:l,diedFishery:d,notes:f}).then(function(e){if(!e){return r.status(200).json({success:false,message:"Thất bại."})}return r.status(200).json({success:true,message:"Cập nhật thành công.",results:null})}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})}return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){u.logger.info("[PondDiaryRoute] Creating diary route.");this.router.get("/gets",d.Authentication.isLogin,this.getPondDiaries);this.router.get("/gets/:pondDiaryUUId",d.Authentication.isLogin,this.getPondDiariesByUUId);this.router.post("/add",d.Authentication.isLogin,this.addPondDiary);this.router.put("/update",d.Authentication.isLogin,this.updatePondDiary);this.router.delete("/delete/:primary",d.Authentication.isLogin,this.deletePondDiary);this.logEndpoints(this.router,t.path)};t.path="/pondDiaries";return t}(c.BaseRoute);t.PondDiaryRoute=y},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(276))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(0);var u=r(9);var c=r(11);var l=r(1);var d=r(2);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.takeCareServices=new a.TakeCareServices;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.pondsServices=new a.PondsServices;t.pondUserRolesServices=new a.PondUserRolesServices;t.usingFoodsServices=new a.UsingFoodsServices;t.usingVeterinaryServices=new a.UsingVeterinaryServices;t.storegeServices=new a.StoregeServices;t.getTakeCare=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,o,a,u,f,p,h,y,g,b,v,m,_,O,P,I,S;return i(this,function(i){u=e.body,f=u.pondId,p=u.seasonId,h=u.type,y=u.options;g=e.headers.authorization.split(" ")[1];b=c.Authentication.detoken(g);v=b.userId;m=b.createdBy==null&&b.roles.length===0?b.userId:b.roles[0].bossId;_=v===m;O={include:[],where:{}};P={};I={model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,where:{pondId:f,seasonId:p},include:[{model:this.pondsServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_POND,include:[{model:this.pondUserRolesServices.models,as:l.ActionAssociateDatabase.POND_2_POND_USER_ROLE,where:{userId:v},attributes:[]}],where:{userId:m},attributes:[]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:m},attributes:[]}],attributes:[]};O.include.push(I);S={};if(h===0){S={model:this.usingFoodsServices.models,as:l.ActionAssociateDatabase.TAKE_CARE_2_USING_FOOD,required:false,include:[{model:this.storegeServices.models,as:l.ActionAssociateDatabase.USING_FOOD_2_STORAGE,required:false}]};if(y?y.unitOfTime:false){P=s({"$usingFoods.createdDate$":(t={},t[this.sequeliz.Op.between]=[d.DateUtil.getUTCDateTime(d.DateUtil.startOf(d.DateUtil.parse(y.timeOut?y.timeOut:new Date),y.unitOfTime)),d.DateUtil.getUTCDateTime(d.DateUtil.endOf(d.DateUtil.parse(y.timeOut?y.timeOut:new Date),y.unitOfTime))],t)});O.where=s({},O.where,P)}else{P={"$usingFoods.createdDate$":(n={},n[this.sequeliz.Op.between]=[d.DateUtil.getUTCDateTime(d.DateUtil.startOf(d.DateUtil.subtract(d.DateUtil.parse(new Date),30,"days"),"days")),d.DateUtil.getUTCDateTime(d.DateUtil.parse(new Date))],n)};O.where=s({},O.where,P)}}if(h===1){S={model:this.usingVeterinaryServices.models,as:l.ActionAssociateDatabase.TAKE_CARE_2_USING_VETERINARY,required:false,include:[{model:this.storegeServices.models,as:l.ActionAssociateDatabase.USING_VETERINARY_2_STORAGE,required:false}]};if(y?y.unitOfTime:false){P=s({"$usingVeterinary.createdDate$":(o={},o[this.sequeliz.Op.between]=[d.DateUtil.getUTCDateTime(d.DateUtil.startOf(d.DateUtil.parse(y.timeOut?y.timeOut:new Date),y.unitOfTime)),d.DateUtil.getUTCDateTime(d.DateUtil.endOf(d.DateUtil.parse(y.timeOut?y.timeOut:new Date),y.unitOfTime))],o)});O.where=s({},O.where,P)}else{P={"$usingVeterinary.createdDate$":(a={},a[this.sequeliz.Op.between]=[d.DateUtil.getUTCDateTime(d.DateUtil.startOf(d.DateUtil.subtract(d.DateUtil.parse(new Date),30,"days"),"days")),d.DateUtil.getUTCDateTime(d.DateUtil.parse(new Date))],a)};O.where=s({},O.where,P)}}O.include.push(S);P={type:h};O.where=s({},O.where,P);if(!_){P=s({"$seasonAndPond->ponds->pondUserRoles.userId$":v,"$seasonAndPond->ponds->pondUserRoles.pondId$":f});O.where=s({},O.where,P)}this.takeCareServices.models.findAll(O).then(function(e){if(!e.length){r.status(200).json({success:true,message:"Không tìm thấy hoạt động chăm sóc.",takeCare:e})}else{r.status(200).json({success:true,message:"",takeCare:e})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau.",e})});return[2]})})};t.test=function(e,r,n){return o(t,void 0,void 0,function(){var t;return i(this,function(n){t=e.headers.date;r.status(200).json({success:true,message:"",parse:d.DateUtil.parse(t?t:null).toLocaleDateString()+" "+d.DateUtil.parse(t).toLocaleTimeString(),"start-of-date":d.DateUtil.startOf(new Date,"day").toLocaleDateString()+" "+d.DateUtil.startOf(new Date,"day").toLocaleTimeString(),"end-of-date":d.DateUtil.endOf(new Date,"day").toLocaleDateString()+" "+d.DateUtil.endOf(new Date,"day").toLocaleTimeString(),"start-of-week":d.DateUtil.startOf(new Date,"week").toLocaleDateString()+" "+d.DateUtil.startOf(new Date,"day").toLocaleTimeString(),"end-of-week":d.DateUtil.endOf(new Date,"week").toLocaleDateString()+" "+d.DateUtil.endOf(new Date,"day").toLocaleTimeString(),"start-of-month":d.DateUtil.startOf(new Date,"month").toLocaleDateString()+" "+ +" "+d.DateUtil.startOf(new Date,"month").toLocaleTimeString(),"end-of-month":d.DateUtil.endOf(new Date,"month").toLocaleDateString()+" "+ +" "+d.DateUtil.endOf(new Date,"month").toLocaleTimeString(),"add-day":d.DateUtil.add(new Date,1,"day").toLocaleDateString()+" "+d.DateUtil.add(new Date,1,"day").toLocaleTimeString(),"add-months":d.DateUtil.add(new Date,1,"month").toLocaleDateString()+" "+d.DateUtil.add(new Date,1,"month").toLocaleTimeString(),"subtract-day":d.DateUtil.subtract(new Date,1,"day").toLocaleDateString()+" "+d.DateUtil.subtract(new Date,1,"day").toLocaleTimeString(),"subtract-months":d.DateUtil.subtract(new Date,1,"month").toLocaleDateString()+" "+d.DateUtil.subtract(new Date,1,"month").toLocaleTimeString()});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[TakeCareRoute] Creating Take Care route.");this.router.post("/gets",c.Authentication.isLogin,this.getTakeCare);this.router.get("/get",this.test);this.logEndpoints(this.router,t.path)};t.path="/takeCare";return t}(u.BaseRoute);t.TakeCareRoute=f},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(278))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(10);var a=r(0);var u=r(9);var c=r(12);var l=r(11);var d=r(1);var f=r(2);var p=function(e){n(t,e);function t(){var t=e.call(this)||this;t.takeCareServices=new a.TakeCareServices;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.usingVeterinaryServices=new a.UsingVeterinaryServices;t.storegeServices=new a.StoregeServices;t.addUsingVeterinary=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,a,u,f,p,h,y,g,b,v,m,_,O,P;var I=this;return o(this,function(S){switch(S.label){case 0:t=e.body,n=t.pondId,a=t.takeCareName,u=t.causesNSymptoms,f=t.averageSize,p=t.totalBiomass,h=t.result,y=t.latestHarvestDate,g=t.mentor,b=t.storageId,v=t.quantity;m=e.headers.authorization.split(" ")[1];_=l.Authentication.detoken(m);O=_.createdBy==null&&_.roles.length===0?_.userId:_.roles[0].bossId;return[4,this.seasonAndPondServices.models.findOne({include:[{model:this.seasonServices.models,as:d.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:O,status:0},attributes:[]}],where:{pondId:n},attributes:["seasonAndPondId"]}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})];case 1:P=S.sent();return[2,this.sequeliz.transaction().then(function(e){return s(I,void 0,void 0,function(){var t,n,s,l;return o(this,function(o){switch(o.label){case 0:return[4,this.storegeServices.models.update({quantityStorages:this.sequeliz.literal("quantityStorages - "+v)},{where:{storageId:b},transaction:e,returning:true}).catch(function(t){if(t.message==="FailQuantity"){r.status(200).json({success:false,message:"Số lượng thuốc & dược phẩm trong kho không đủ."})}else{r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})}e.rollback()})];case 1:t=o.sent();if(!t)return[3,3];n=new i.TakeCare;n.setTakecare(null,c(),P.seasonAndPondId,1,a);return[4,this.takeCareServices.models.create(n,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()})];case 2:s=o.sent();if(s){l=new i.UsingVeterinary;l.setUsingveterinary(null,c(),s.takeCareId,b,u,f,p,v,h,y,g);l.usingVeterinaryServices.models.create(l,{transaction:e}).catch(function(t){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});e.rollback()}).then(function(t){r.status(200).json({success:true,message:"Thêm thành công."});e.commit()})}return[3,4];case 3:e.rollback();r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."});o.label=4;case 4:return[2]}})})}).catch(function(e){r.status(200).json({success:false,message:"Đã xảy ra lỗi vui lòng thử lại sau."})})]}})})};t.getUsingVeterinary=function(e,r,n){return s(t,void 0,void 0,function(){var t,n,s,i,a,u,c,p,h,y,g;return o(this,function(o){n=e.body,s=n.pondId,i=n.seasonId,a=n.options;u=e.headers.authorization.split(" ")[1];c=l.Authentication.detoken(u);p=c.userId;h=c.createdBy==null&&c.roles.length===0?c.userId:c.roles[0].bossId;y=p===h;g={include:[{model:this.usingVeterinaryServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_USING_VETERINARY,where:{createdDate:(t={},t[this.sequeliz.Op.between]=[f.DateUtil.getUTCDateTime(f.DateUtil.startOf(f.DateUtil.parse(a.timeOut||new Date),a.unitOfTime)),f.DateUtil.getUTCDateTime(f.DateUtil.endOf(f.DateUtil.parse(a.timeOut||new Date),a.unitOfTime))],t)},include:[{model:this.storegeServices.models,as:d.ActionAssociateDatabase.USING_VETERINARY_2_STORAGE}],required:false}],where:{type:1}};if(y){g.include.push({model:this.seasonAndPondServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,where:{seasonId:i,pondId:s},attributes:[]})}else{g.include.push({model:this.seasonAndPondServices.models,as:d.ActionAssociateDatabase.TAKE_CARE_2_SEASON_AND_POND,where:{seasonId:i,pondId:s},include:[{model:this.seasonServices.models,as:d.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{status:0}}],attributes:[]})}this.takeCareServices.models.findAll(g).then(function(e){if(e){r.status(200).json({success:true,message:"",takeCare:e})}else{r.status(200).json({success:false,message:"Không tìm thấy nhật ký cho ăn của ao này"})}}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau."})});return[2]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[UsingVeterinaryRoute] Creating Using Veterinary route.");this.router.post("/add",l.Authentication.isLogin,this.addUsingVeterinary);this.router.post("/gets",l.Authentication.isLogin,this.getUsingVeterinary);this.logEndpoints(this.router,t.path)};t.path="/usingVeterinary";return t}(u.BaseRoute);t.UsingVeterinaryRoute=p},function(e,t,r){"use strict";function n(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});n(r(280))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var a=r(0);var u=r(9);var c=r(11);var l=r(1);var d=r(3);var f=function(e){n(t,e);function t(){var t=e.call(this)||this;t.materialServives=new a.MaterialServives;t.couponServives=new a.CouponServives;t.storegeServices=new a.StoregeServices;t.boughtBreedDetailsServives=new a.BoughtBreedDetailsServives;t.breedServives=new a.BreedServives;t.harvestDetailsServives=new a.HarvestDetailsServives;t.harvestsServives=new a.HarvestsServives;t.seasonAndPondServices=new a.SeasonAndPondServices;t.seasonServices=new a.SeasonServices;t.stockingServices=new a.StockingServices;t.stockingDetailsServices=new a.StockingDetailsServices;t.pondsServices=new a.PondsServices;t.getAllPrices=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,o,a,u,d,f;return i(this,function(i){switch(i.label){case 0:t=e.params.seasonId;n=e.headers.authorization.split(" ")[1];s=c.Authentication.detoken(n);o=s.userId;a=s.createdBy==null&&s.roles.length===0?s.userId:s.roles[0].bossId;return[4,this.materialServives.models.findAll({attributes:[[this.sequeliz.literal("SUM(quantity*unitPrice)"),"totalPrices"]],include:[{model:this.couponServives.models,as:l.ActionAssociateDatabase.MATERIAL_2_COUPON,include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.COUPON_2_SEASON,where:{userId:o}}]},{model:this.storegeServices.models,as:l.ActionAssociateDatabase.MATERIAL_2_STORAGE}],group:["type"]}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 1:u=i.sent();return[4,this.boughtBreedDetailsServives.models.findAll({attributes:[[this.sequeliz.literal("SUM(quantity*unitPrice)"),"totalPrices"]],include:[{model:this.couponServives.models,as:l.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_COUPON,include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.COUPON_2_SEASON,where:{userId:o}}]},{model:this.breedServives.models,as:l.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_BREED}]}).catch(function(e){r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 2:d=i.sent();return[4,this.harvestDetailsServives.models.findAll({attributes:[[this.sequeliz.literal("SUM(quantity*unitPrice)"),"totalPrices"]],include:[{model:this.harvestsServives.models,as:l.ActionAssociateDatabase.HARVEST_DETAIL_2_HARVEST,include:[{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.HARVEST_2_SEASON_AND_POND,include:[{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,where:{userId:o}}]}]}],group:["harvest.seasonAndPondId"]}).catch(function(e){e;r.status(200).json({success:false,message:"Có lỗi xảy ra, vui lòng thử lại sau."})})];case 3:f=i.sent();if(!!u.length&&!!d.length&&!!f.length){r.status(200).json({success:true,message:"",storages:u,breeds:d,harvest:f})}else{r.status(200).json({success:false,message:"Không tìm thấy thông tin chi phí của vụ nuôi này.",results:[]})}return[2]}})})};t.storageCost=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,a,u;var f=this;return i(this,function(p){t=e.params.seasonUUId;n=e.headers.authorization.split(" ")[1];a=c.Authentication.detoken(n);u=a.userId;return[2,this.sequeliz.transaction().then(function(e){return o(f,void 0,void 0,function(){var r,n,s,o;return i(this,function(i){switch(i.label){case 0:r={include:[{model:this.materialServives.models,as:l.ActionAssociateDatabase.COUPON_2_MATERIAL,include:[{model:this.storegeServices.models,as:l.ActionAssociateDatabase.MATERIAL_2_STORAGE}]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.COUPON_2_SEASON,where:{userId:u,seasonUUId:t}}],transaction:e};return[4,this.couponServives.models.findAll(r)];case 1:n=i.sent();r.attributes=[[this.sequeliz.literal("SUM(materials.quantity*materials.unitPrice)"),"totals"],"createdDate"];r.group=[this.sequeliz.fn("YEAR",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN")),this.sequeliz.fn("MONTH",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN")),this.sequeliz.fn("DAY",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN")),this.sequeliz.col("materials->storage.type")];return[4,this.couponServives.models.findAll(r)];case 2:s=i.sent();o=d.uniqBy(s,function(e){var t=new Date(e.createdDate);return t.getDate()+t.getMonth()+t.getFullYear()});return[2,new Promise(function(t,r){e.commit();if(!!n.length&&!!s.length){t({tables:n,charts:s,labels:o.map(function(e){return e.createdDate})})}else{t({success:false,message:"Không tìm thấy thông tin NHẬP KHO.",tables:[],charts:[],labels:[]})}})]}})})}).then(function(e){r.status(200).json(s({success:true,message:""},e))}).catch(function(e){r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})]})})};t.breedCost=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,a,u;var f=this;return i(this,function(p){t=e.params.seasonUUId;n=e.headers.authorization.split(" ")[1];a=c.Authentication.detoken(n);u=a.userId;return[2,this.sequeliz.transaction().then(function(e){return o(f,void 0,void 0,function(){var r,n,s,o;return i(this,function(i){switch(i.label){case 0:r={include:[{model:this.boughtBreedDetailsServives.models,as:l.ActionAssociateDatabase.COUPON_2_BOUGHT_BREED_DETAILS,include:[{model:this.breedServives.models,as:l.ActionAssociateDatabase.BOUGHT_BREED_DETAIL_2_BREED}]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.COUPON_2_SEASON,where:{userId:u,seasonUUId:t}}],transaction:e};return[4,this.couponServives.models.findAll(r)];case 1:n=i.sent();r.attributes=[[this.sequeliz.literal("SUM(boughtBreedDetails.quantity*boughtBreedDetails.unitPrice)"),"totals"],"createdDate"];r.group=[this.sequeliz.fn("YEAR",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN")),this.sequeliz.fn("MONTH",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN")),this.sequeliz.fn("DAY",this.sequeliz.fn("CONVERT_TZ",this.sequeliz.col("coupons.createdDate"),"UTC","vi-VN"))];return[4,this.couponServives.models.findAll(r)];case 2:s=i.sent();o=d.uniqBy(s,function(e){var t=new Date(e.createdDate);return t.getDate()+t.getMonth()+t.getFullYear()});o=o.map(function(e){var t=new Date(e.createdDate);var r=t.getDate()+t.getMonth()+t.getFullYear();var n=d.sumBy(s,function(e){var t=new Date(e.createdDate);var n=t.getDate()+t.getMonth()+t.getFullYear();if(r===n){return e.quantity*e.unitPrice}else{false}});e["totals"]=n;return e});return[2,new Promise(function(t,r){e.commit();if(!!n.length&&!!s.length){t({tables:n,charts:s,labels:o})}else{t({success:false,message:"Không tìm thấy thông tin NHẬP GIỐNG.",tables:[],charts:[],labels:[]})}})]}})})}).then(function(e){r.status(200).json(s({success:true,message:""},e))}).catch(function(e){r.status(200).json({success:false,message:"Lỗi đường truyền, vui lòng thử lại sau!"})})]})})};t.harvestCalculator=function(e,r,n){return o(t,void 0,void 0,function(){var t,n,s,a;var u=this;return i(this,function(d){t=e.params.seasonUUId;n=e.headers.authorization.split(" ")[1];s=c.Authentication.detoken(n);a=s.userId;return[2,this.sequeliz.transaction().then(function(e){return o(u,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return[4,this.harvestsServives.models.findAll({include:[{model:this.harvestDetailsServives.models,as:l.ActionAssociateDatabase.HARVEST_2_HARVEST_DETAILS},{model:this.seasonAndPondServices.models,as:l.ActionAssociateDatabase.HARVEST_2_SEASON_AND_POND,required:true,include:[{model:this.stockingServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_STOCKING,include:[{model:this.stockingDetailsServices.models,as:l.ActionAssociateDatabase.STOCKING_2_STOCKING_DETAILS,include:[{model:this.breedServives.models,as:l.ActionAssociateDatabase.STOCKING_DETAILS_2_BREED}]}]},{model:this.seasonServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_SEASON,required:true,where:{userId:a,seasonUUId:t}},{model:this.pondsServices.models,as:l.ActionAssociateDatabase.SEASON_AND_POND_2_POND}]}]})];case 1:r=n.sent();return[2,new Promise(function(t,n){e.commit();r=r.map(function(e){var t=new Date(e.createdDate);var n=t.getDate()+t.getMonth()+t.getFullYear();for(var s=0,o=r;s<o.length;s++){var i=o[s];var a=new Date(i.createdDate);var u=a.getDate()+a.getMonth()+a.getFullYear();if(n===u){e.dataValues["totals"]=e.details[0].quantity*e.details[0].unitPrice;return e.dataValues}}});return t(r)})]}})})}).then(function(e){if(!!e.length){r.status(200).json({success:true,message:"",charts:e})}else{r.status(200).json({success:false,message:"Không tìm thấy thông tin THU HOẠCH.",charts:[]})}}).catch(function(e){e;r.status(200).json({success:false,message:"Đã có lỗi xảy ra, vui lòng thử lại sau!"})})]})})};t.init();return t}Object.defineProperty(t,"router",{get:function(){if(!t.instance){t.instance=new t}return t.instance.router},enumerable:true,configurable:true});t.prototype.init=function(){a.logger.info("[CostsRoute] Creating prices route.");this.router.get("/gets/storage/:seasonUUId",this.storageCost);this.router.get("/gets/breed/:seasonUUId",this.breedCost);this.router.get("/gets/harvest/:seasonUUId",this.harvestCalculator);this.logEndpoints(this.router,t.path)};t.path="/costs";return t}(u.BaseRoute);t.CostsRoute=f},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(29);var o=r(282);var i=function(e){n(t,e);function t(t){var r=e.call(this,t)||this;r.io=t;new o.TaskScheduler(r.io);return r}return t}(s.BaseSocketServer);t.SocketBuild=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})};var o=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(o=i[0]&2?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;if(s=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:r.label++;return{value:i[1],done:false};case 5:r.label++;s=i[1];i=[0];continue;case 7:i=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(i[0]===6&&r.label<o[1]){r.label=o[1];o=i;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(i);break}if(o[2])r.ops.pop();r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e];s=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i=r(29);var a=r(0);var u=r(283);var c=function(e){n(t,e);function t(t){var r=e.call(this,t)||this;r.io=t;r.pondsServices=new a.PondsServices;console.log();var n=new Date(2018,11,11,0,0,0);u.scheduleJob(n,function(){return s(r,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.pondsServices.models.update({isFed:0})];case 1:e.sent();this.io.sockets.emit("update-using-food-status",{success:true});return[2]}})})});return r}return t}(i.BaseSocketServer);t.TaskScheduler=c},function(e,t){e.exports=require("node-schedule")},function(e,t){e.exports=require("greenlock-express")},function(e,t){e.exports=require("debug")}]);